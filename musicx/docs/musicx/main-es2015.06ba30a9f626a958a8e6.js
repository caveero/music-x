(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"0rsU":function(e,t,n){"use strict";n.r(t),t.default="<p>createcontent works!</p>\n"},"6Joi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mrSG"),a=n("q/0M"),u=n("zVF4"),c=n("S+S0"),l=n("x7I3"),h=s.SDK_VERSION,p=new a.Logger("@firebase/firestore");function d(){return p.logLevel===a.LogLevel.DEBUG?i.DEBUG:p.logLevel===a.LogLevel.SILENT?i.SILENT:i.ERROR}function f(e){switch(e){case i.DEBUG:p.logLevel=a.LogLevel.DEBUG;break;case i.ERROR:p.logLevel=a.LogLevel.ERROR;break;case i.SILENT:p.logLevel=a.LogLevel.SILENT;break;default:p.error("Firestore ("+h+"): Invalid value passed to `setLogLevel`")}}function m(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(p.logLevel<=a.LogLevel.DEBUG){var i=n.map(v);p.debug.apply(p,o.__spreadArrays(["Firestore ("+h+") ["+e+"]: "+t],i))}}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(p.logLevel<=a.LogLevel.ERROR){var r=t.map(v);p.error.apply(p,o.__spreadArrays(["Firestore ("+h+"): "+e],r))}}function v(e){if("string"==typeof e)return e;var t=b.getPlatform();try{return t.formatJSON(e)}catch(n){return e}}function y(e){var t="FIRESTORE ("+h+") INTERNAL ASSERTION FAILED: "+e;throw g(t),new Error(t)}function w(e,t){e||y(t)}!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(i||(i={}));var b=function(){function e(){}return e.setPlatform=function(t){e.platform&&y("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||y("Platform not set"),e.platform},e}();function _(){return b.getPlatform().emptyByteString}var E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(t,e),t}(Error);function C(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new S(E.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e,t){return void 0!==e?e:t}function I(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function A(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function D(e){for(var t in w(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function N(e,t){if(0!==t.length)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+Q(t.length,"argument")+".")}function k(e,t,n){if(t.length!==n)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires "+Q(n,"argument")+", but was called with "+Q(t.length,"argument")+".")}function P(e,t,n){if(t.length<n)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires at least "+Q(n,"argument")+", but was called with "+Q(t.length,"argument")+".")}function M(e,t,n,r){if(t.length<n||t.length>r)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+Q(t.length,"argument")+".")}function O(e,t,n,r){j(e,t,G(n)+" argument",r)}function R(e,t,n,r){void 0!==r&&O(e,t,n,r)}function L(e,t,n,r){j(e,t,n+" option",r)}function F(e,t,n,r){void 0!==r&&L(e,t,n,r)}function V(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+$(r));for(var s=0;s<r.length;++s)if(!i(r[s]))throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+s+" was: "+$(r[s]))}(e,t,n,r,i)}function B(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var s=[],o=0,a=i;o<a.length;o++){var u=a[o];if(u===r)return;s.push($(u))}var c=$(r);throw new S(E.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(e,0,n,r,i)}function U(e,t,n,r){if(!t.some((function(e){return e===r})))throw new S(E.INVALID_ARGUMENT,"Invalid value "+$(r)+" provided to function "+e+"() for its "+G(n)+" argument. Acceptable values: "+t.join(", "))}function j(e,t,n,r){if(!("object"===t?q(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=$(r);throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function q(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function $(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":y("Unknown wrong type: "+typeof e)}function H(e,t,n){if(void 0===n)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+G(t)+" argument, but it was undefined.")}function z(e,t,n){A(t,(function(t,r){if(n.indexOf(t)<0)throw new S(E.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function W(e,t,n,r){var i=$(r);return new S(E.INVALID_ARGUMENT,"Function "+e+"() requires its "+G(n)+" argument to be a "+t+", but it was: "+i)}function K(e,t,n){if(n<=0)throw new S(E.INVALID_ARGUMENT,'Function "'+e+'()" requires its '+G(t)+" argument to be a positive number, but it was: "+n+".")}function G(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function Q(e,t){return e+" "+t+(1===e?"":"s")}var Y=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return w(20===t.length,"Invalid auto ID: "+t),t},e}();function X(e,t){return e<t?-1:e>t?1:0}function J(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function Z(e){return e+"\0"}function ee(){if("undefined"==typeof Uint8Array)throw new S(E.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function te(){if(!b.getPlatform().base64Available)throw new S(E.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ne,re=function(){function e(e){te(),this._binaryString=e}return e.fromBase64String=function(t){k("Blob.fromBase64String",arguments,1),O("Blob.fromBase64String","string",1,t),te();try{var n=b.getPlatform().atob(t);return new e(n)}catch(r){throw new S(E.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},e.fromUint8Array=function(t){if(k("Blob.fromUint8Array",arguments,1),ee(),!(t instanceof Uint8Array))throw W("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("");return new e(n)},e.prototype.toBase64=function(){return k("Blob.toBase64",arguments,0),te(),b.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){k("Blob.toUint8Array",arguments,0),ee();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._approximateByteSize=function(){return 2*this._binaryString.length},e.prototype._compareTo=function(e){return X(this._binaryString,e._binaryString)},e}(),ie=C(re,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),se=function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},oe="(default)",ae=function(){function e(e,t){this.projectId=e,this.database=t||oe}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===oe},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return X(this.projectId,e.projectId)||X(this.database,e.database)},e}(),ue=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),ce=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&y("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&y("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,w(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return w(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return w(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return w(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),s=t.get(r);if(i<s)return-1;if(i>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new S(E.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter((function(e){return e.length>0})))},t.EMPTY_PATH=new t([]),t}(ce),he=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return he.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new S(E.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new S(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(ce),de=function(){function e(t){this.path=t,w(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===le.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return le.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new le(t.slice()))},e.fromPathString=function(t){return new e(le.fromString(t))},e.EMPTY=new e(new le([])),e}(),fe=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh",e.LruGarbageCollection="lru_garbage_collection",e.RetryTransaction="retry_transaction"}(ne||(ne={}));var me=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new fe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,s){var o=new e(t,n,Date.now()+r,i,s);return o.start(r),o},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),ge=function(){function e(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},e.prototype.enqueueAndInitiateShutdown=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},e.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),w(t>=0,"Attempted to schedule an operation with a negative delay of "+t),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);var i=me.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){w(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){if(n[t].timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){w(e===ne.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==ne.All&&i.timerId===e)break}return t.drain()}))},e.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);w(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),ve="\x01",ye="\x01",we="\x10",be="\x11";function _e(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Se(t)),t=Ee(e.get(n),t);return Se(t)}function Ee(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+=ve+we;break;case ve:n+=ve+be;break;default:n+=s}}return n}function Se(e){return e+ve+ye}function Ce(e){var t=e.length;if(w(t>=2,"Invalid path "+e),2===t)return w(e.charAt(0)===ve&&e.charAt(1)===ye,"Non-empty path "+e+" had length 2"),le.EMPTY_PATH;for(var n=t-2,r=[],i="",s=0;s<t;){var o=e.indexOf(ve,s);switch((o<0||o>n)&&y('Invalid encoded resource path: "'+e+'"'),e.charAt(o+1)){case ye:var a=e.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case we:i+=e.substring(s,o),i+="\0";break;case be:i+=e.substring(s,o+1);break;default:y('Invalid encoded resource path: "'+e+'"')}s=o+2}return new le(r)}var Te=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new S(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?X(this.nanoseconds,e.nanoseconds):X(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),xe=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new Te(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new Te(0,0)),e}(),Ie=function(){function e(e,t){this.comparator=e,this.root=t||De.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,De.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,De.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ae(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ae(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ae(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ae(this.root,e,this.comparator,!0)},e}(),Ae=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){w(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),De=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=s?s:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw y("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Ne=function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new De(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();De.EMPTY=new Ne;var ke=function(){function e(e){this.comparator=e,this.data=new Ie(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach((function(e){n=n.add(e)})),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Pe(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Pe(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Pe=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Me=new Ie(de.comparator);function Oe(){return Me}function Re(){return Oe()}var Le=new Ie(de.comparator);function Fe(){return Le}var Ve=new Ie(de.comparator);function Be(){return Ve}var Ue=new ke(de.comparator);function je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ue,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var qe=new ke(X);function $e(){return qe}var He=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r,w(r.length>0,"Cannot create an empty mutation batch")}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&w(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;w(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var s=this.mutations[i];if(s.key.isEqual(e)){var o=r[i];t=s.applyToRemoteDocument(t,o)}}return t},e.prototype.applyToLocalView=function(e,t){t&&w(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(a=r[n]).key.isEqual(e)&&(t=a.applyToLocalView(t,t,this.localWriteTime))}for(var i=t,s=0,o=this.mutations;s<o.length;s++){var a;(a=o[s]).key.isEqual(e)&&(t=a.applyToLocalView(t,i,this.localWriteTime))}return t},e.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),je())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&J(this.mutations,e.mutations)&&J(this.baseMutations,e.baseMutations)},e}(),ze=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){w(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var s=Be(),o=t.mutations,a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new e(t,n,r,i,s)},e}(),We=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,s=!1;t.forEach((function(t){++r,t.next((function(){++i,s&&i===r&&e()}),(function(e){return n(e)}))})),s=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,s=t;i<s.length;i++){r(s[i])}return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Ke="SimpleDb",Ge=function(){function e(t){this.db=t,12.2===e.getIOSVersion(u.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.openOrCreate=function(t,n,r){return w(e.isAvailable(),"IndexedDB not supported in current environment."),m(Ke,"Opening database:",t),new We((function(i,s){var o=window.indexedDB.open(t,n);o.onsuccess=function(t){var n=t.target.result;i(new e(n))},o.onblocked=function(){s(new S(E.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(e){var t=e.target.error;"VersionError"===t.name?s(new S(E.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(t)},o.onupgradeneeded=function(e){m(Ke,'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;r.createOrUpgrade(n,o.transaction,e.oldVersion,sn).next((function(){m(Ke,"Database upgrade to version "+sn+" complete")}))}})).toPromise()},e.delete=function(e){return m(Ke,"Removing database:",e),Je(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(e.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var t=u.getUA(),n=e.getIOSVersion(t),r=0<n&&n<10,i=e.getAndroidVersion(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.isMockPersistence=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.USE_MOCK_PERSISTENCE)},e.getStore=function(e,t){return e.store(t)},e.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},e.prototype.runTransaction=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u,c;return o.__generator(this,(function(l){switch(l.label){case 0:r=e.startsWith("readonly"),i=e.endsWith("idempotent"),s=0,a=function(){var e,a,c,l;return o.__generator(this,(function(o){switch(o.label){case 0:++s,e=Ye.open(u.db,r?"readonly":"readwrite",t),o.label=1;case 1:return o.trys.push([1,3,,4]),(a=n(e).catch((function(t){return e.abort(t),We.reject(t)})).toPromise()).catch((function(){})),[4,e.completionPromise];case 2:return o.sent(),[2,{value:a}];case 3:return c=o.sent(),l=i&&"FirebaseError"!==c.name&&s<3,m(Ke,"Transaction failed with error: %s. Retrying: %s.",c.message,l),l?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},u=this,l.label=1;case 1:return[5,a()];case 2:return"object"==typeof(c=l.sent())?[2,c.value]:[3,1];case 3:return[2]}}))}))},e.prototype.close=function(){this.db.close()},e}(),Qe=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return Je(this.dbCursor.delete())},e}(),Ye=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new fe,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=et(e.target.error);t.completionDeferred.reject(n)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(m(Ke,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return w(!!t,"Object store not part of transaction: "+e),new Xe(t)},e}(),Xe=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(m(Ke,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(m(Ke,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Je(n)},e.prototype.add=function(e){return m(Ke,"ADD",this.store.name,e,e),Je(this.store.add(e))},e.prototype.get=function(e){var t=this;return Je(this.store.get(e)).next((function(n){return void 0===n&&(n=null),m(Ke,"GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return m(Ke,"DELETE",this.store.name,e),Je(this.store.delete(e))},e.prototype.count=function(){return m(Ke,"COUNT",this.store.name),Je(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.deleteAll=function(e,t){m(Ke,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new We((function(n,r){t.onerror=function(e){var t=et(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.iterateCursor=function(e,t){var n=[];return new We((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var s=new Qe(i),o=t(i.primaryKey,i.value,s);if(o instanceof We){var a=o.catch((function(e){return s.done(),We.reject(e)}));n.push(a)}s.isDone?r():null===s.skipToKey?i.continue():i.continue(s.skipToKey)}else r()}})).next((function(){return We.waitFor(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(w(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Je(e){return new We((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=et(e.target.error);n(t)}}))}var Ze=!1;function et(e){var t=Ge.getIOSVersion(u.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new S("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ze||(Ze=!0,setTimeout((function(){throw r}),0)),r}}return e}var tt=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r,i){return w(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return st(e).iterate({index:ln.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=it(n),at(e).put(t)}))},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=it(t),at(e).put(n)}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,s=ot(e),o=st(e);return o.add({}).next((function(a){w("number"==typeof a,"Auto-generated key is not a number");for(var u=new He(a,t,n,r),c=i.serializer.toDbMutationBatch(i.userId,u),l=[],h=new ke((function(e,t){return X(e.canonicalString(),t.canonicalString())})),p=0,d=r;p<d.length;p++){var f=d[p],m=hn.key(i.userId,f.key.path,a);h=h.add(f.key.path.popLast()),l.push(o.put(c)),l.push(s.put(m,hn.PLACEHOLDER))}return h.forEach((function(t){l.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.documentKeysByBatchId[a]=u.keys()})),We.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return st(e).get(t).next((function(e){return e?(w(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?We.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return st(e).iterate({index:ln.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(w(t.batchId>=r,"Should have found mutation after "+r),s=n.serializer.fromDbMutationBatch(t)),i.done()})).next((function(){return s}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return st(e).iterate({index:ln.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return st(e).loadAll(ln.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=hn.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return ot(e).iterate({range:i},(function(r,i,o){var a=r[0],u=r[1],c=r[2],l=Ce(u);if(a===n.userId&&t.path.isEqual(l))return st(e).get(c).next((function(e){if(!e)throw y("Dangling document-mutation reference found: "+r+" which points to "+c);w(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),s.push(n.serializer.fromDbMutationBatch(e))}));o.done()})).next((function(){return s}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ke(X),i=[];return t.forEach((function(t){var s=hn.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(s),a=ot(e).iterate({range:o},(function(e,i,s){var o=e[0],a=e[1],u=e[2],c=Ce(a);o===n.userId&&t.path.isEqual(c)?r=r.add(u):s.done()}));i.push(a)})),We.waitFor(i).next((function(){return n.lookupMutationBatches(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;w(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),w(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,s=hn.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new ke(X);return ot(e).iterate({range:o},(function(e,t,s){var o=e[0],u=e[1],c=e[2],l=Ce(u);o===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):s.done()})).next((function(){return n.lookupMutationBatches(e,a)}))},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(st(e).get(t).next((function(e){if(null===e)throw y("Dangling document-mutation reference found, which points to "+t);w(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),We.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return rt(e.simpleDbTransaction,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.removeCachedMutationKeys(t.batchId)})),We.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return We.resolve();var r=IDBKeyRange.lowerBound(hn.prefixForUser(t.userId)),i=[];return ot(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var s=Ce(e[1]);i.push(s)}else r.done()})).next((function(){w(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(e){return e.canonicalString()})))}))}))},e.prototype.containsKey=function(e,t){return nt(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return at(e).get(this.userId).next((function(e){return e||new cn(t.userId,-1,"")}))},e}();function nt(e,t,n){var r=hn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return ot(e).iterate({range:s,keysOnly:!0},(function(e,n,r){var s=e[0],a=e[1];e[2];s===t&&a===i&&(o=!0),r.done()})).next((function(){return o}))}function rt(e,t,n){var r=e.store(ln.store),i=e.store(hn.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.iterate({range:o},(function(e,t,n){return a++,n.delete()}));s.push(u.next((function(){w(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var p=h[l],d=hn.key(t,p.key.path,n.batchId);s.push(i.delete(d)),c.push(p.key)}return We.waitFor(s).next((function(){return c}))}function it(e){return e instanceof Uint8Array?(w(Ge.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function st(e){return Gn.getStore(e,ln.store)}function ot(e){return Gn.getStore(e,hn.store)}function at(e){return Gn.getStore(e,cn.store)}var ut,ct=1;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(ut||(ut={}));var lt=function(){function e(e,t){this.generatorId=e,w((e&ct)===e,"Generator ID "+e+" contains more than "+ct+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<ct,e},e.prototype.after=function(e){return this.seek(e+(1<<ct)),this.next()},e.prototype.seek=function(e){w((e&ct)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forTargetCache=function(){return new e(ut.QueryCache,2)},e.forSyncEngine=function(){return new e(ut.SyncEngine)},e}(),ht=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=lt.forTargetCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return xe.fromTimestamp(new Te(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return ft(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.saveTargetData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromTargetData(t,r),n.saveMetadata(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.saveTargetData(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return pt(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return w(t.targetCount>0,"Removing from an empty target cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,s=[];return pt(e).iterate((function(o,a){var u=r.serializer.fromDbTarget(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(e,u)))})).next((function(){return We.waitFor(s)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){var n=this;return pt(e).iterate((function(e,r){var i=n.serializer.fromDbTarget(r);t(i)}))},e.prototype.retrieveMetadata=function(e){return dt(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return(n=e,Gn.getStore(n,yn.store)).put(yn.key,t);var n},e.prototype.saveTargetData=function(e,t){return pt(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromTargetData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return pt(e).iterate({range:i,index:gn.queryTargetsIndexName},(function(e,r,i){var o=n.serializer.fromDbTarget(r);t.isEqual(o.target)&&(s=o,i.done())})).next((function(){return s}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],s=mt(e);return t.forEach((function(t){var o=_e(t.path);i.push(s.put(new vn(n,o))),i.push(r.referenceDelegate.addReference(e,t))})),We.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=mt(e);return We.forEach(t,(function(t){var s=_e(t.path);return We.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(e,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=mt(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=mt(e),i=je();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=Ce(e[1]),s=new de(r);i=i.add(s)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=_e(t.path),r=IDBKeyRange.bound([n],[Z(n)],!1,!0),i=0;return mt(e).iterate({index:vn.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){var r=e[0];e[1];0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.getTargetDataForTarget=function(e,t){var n=this;return pt(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},e}();function pt(e){return Gn.getStore(e,gn.store)}function dt(e){return Ge.getStore(e,yn.store).get(yn.key).next((function(e){return w(null!==e,"Missing metadata row."),e}))}function ft(e){return dt(e).next((function(e){return e.highestListenSequenceNumber}))}function mt(e){return Gn.getStore(e,vn.store)}var gt,vt=function(){function e(e){this.fields=e}return e.fromSet=function(t){return new e(t)},e.fromArray=function(t){var n=new ke(pe.comparator);return t.forEach((function(e){return n=n.add(e)})),new e(n)},e.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},e.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},e}(),yt=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),wt=function(e,t){this.version=e,this.transformResults=t};!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete",e[e.Verify=4]="Verify"}(gt||(gt={}));var bt,_t,Et=function(){function e(e,t){this.updateTime=e,this.exists=t,w(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Wt&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Wt:(w(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return t=this.updateTime,n=e.updateTime,(null!=t?!(!n||!t.isEqual(n)):t===n)&&this.exists===e.exists;var t,n},e.NONE=new e,e}(),St=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&w(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof Wt?e.version:xe.MIN},e}(),Ct=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=gt.Set,i}return o.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),w(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new Wt(this.key,n,{hasCommittedMutations:!0},this.value)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=St.getPostMutationVersion(e);return new Wt(this.key,r,{hasLocalMutations:!0},this.value)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(St),Tt=function(e){function t(t,n,r,i){var s=e.call(this)||this;return s.key=t,s.data=n,s.fieldMask=r,s.precondition=i,s.type=gt.Patch,s}return o.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),w(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new Gt(this.key,t.version);var n=this.patchDocument(e);return new Wt(this.key,t.version,{hasCommittedMutations:!0},n)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=St.getPostMutationVersion(e),i=this.patchDocument(e);return new Wt(this.key,r,{hasLocalMutations:!0},i)},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof Wt?e.data():$t.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}})),e},t}(St),xt=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=gt.Transform,r.precondition=Et.exists(!0),r}return o.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),w(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new Gt(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,s=this.transformObject(n.data(),r);return new Wt(this.key,i,{hasCommittedMutations:!0},s)},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),s=this.transformObject(r.data(),i);return new Wt(this.key,r.version,{hasLocalMutations:!0},s)},t.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],s=e instanceof Wt?e.field(i.field):void 0,o=i.transform.computeBaseValue(s||null);null!=o&&(t=null==t?$t.EMPTY.set(i.field,o):t.set(i.field,o))}return t},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&J(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){return w(e instanceof Wt,"Unknown MaybeDocument type "+e),w(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},t.prototype.serverTransformResults=function(e,t){var n=[];w(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],s=i.transform,o=null;e instanceof Wt&&(o=e.field(i.field)),n.push(s.applyToRemoteDocument(o,t[r]))}return n},t.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,s=this.fieldTransforms;i<s.length;i++){var o=s[i],a=o.transform,u=null;t instanceof Wt&&(u=t.field(o.field)),null===u&&n instanceof Wt&&(u=n.field(o.field)),r.push(a.applyToLocalView(u,e))}return r},t.prototype.transformObject=function(e,t){w(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},t}(St),It=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=gt.Delete,r}return o.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),w(null==t.transformResults,"Transform results received by DeleteMutation."),new Kt(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&w(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Kt(this.key,xe.forDeletedDoc())):e},t.prototype.extractBaseValue=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(St),At=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=gt.Verify,r}return o.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){y("VerifyMutation should only be used in Transactions.")},t.prototype.applyToLocalView=function(e,t,n){y("VerifyMutation should only be used in Transactions.")},t.prototype.extractBaseValue=function(e){y("VerifyMutation should only be used in Transactions.")},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(St);!function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(bt||(bt={})),function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(_t||(_t={}));var Dt=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(_t.Estimate,n);case"previous":return new e(_t.Previous,n);case"none":case void 0:return new e(_t.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},e}(),Nt=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return w(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),X(this.typeOrder,e.typeOrder)},e}(),kt=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=bt.NullValue,t.internalValue=null,t}return o.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return 4},t.INSTANCE=new t,t}(Nt),Pt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=bt.BooleanValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?X(this,e):this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return 4},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Nt),Mt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=bt.NumberValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?(n=this.internalValue,r=e.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(e);var n,r},t.prototype.approximateByteSize=function(){return 8},t}(Nt);function Ot(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var Rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ot(this.internalValue,e.internalValue)},t}(Mt),Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ot(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(Mt),Ft=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=bt.StringValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?X(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return 2*this.internalValue.length},t}(Nt),Vt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=bt.TimestampValue,n}return o.__extends(t,e),t.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Bt?-1:this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return 16},t}(Nt),Bt=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=bt.TimestampValue,r}return o.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===_t.Estimate?new Vt(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===_t.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Vt?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t.prototype.approximateByteSize=function(){return 16+(this.previousValue?this.previousValue.approximateByteSize():0)},t}(Nt),Ut=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=bt.BlobValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return this.internalValue._approximateByteSize()},t}(Nt),jt=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=bt.RefValue,r}return o.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:de.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return this.databaseId.projectId.length+this.databaseId.database.length+this.key.toString().length},t}(Nt),qt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=bt.GeoPointValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return 16},t}(Nt),$t=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=bt.ObjectValue,n}return o.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),s=r.getNext();if(i.key!==s.key||!i.value.isEqual(s.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),s=r.getNext(),o=X(i.key,s.key)||i.value.compareTo(s.value);if(o)return o}return X(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(w(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(w(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return null!==this.field(e)},t.prototype.field=function(e){w(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach((function(e){n=n instanceof t?n.internalValue.get(e):null})),n},t.prototype.fieldMask=function(){var e=new ke(pe.comparator);return this.internalValue.forEach((function(n,r){var i=new pe([n]);if(r instanceof t){var s=r.fieldMask().fields;s.isEmpty()?e=e.add(i):s.forEach((function(t){e=e.add(i.child(t))}))}else e=e.add(i)})),vt.fromSet(e)},t.prototype.approximateByteSize=function(){var e=0;return this.internalValue.inorderTraversal((function(t,n){e+=t.length+n.approximateByteSize()})),e},t.prototype.toString=function(){return this.internalValue.toString()},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Ie(X)),t}(Nt),Ht=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=bt.ArrayValue,n}return o.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},t.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++){if(n[t].isEqual(e))return!0}return!1},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return X(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.approximateByteSize=function(){return this.internalValue.reduce((function(e,t){return e+t.approximateByteSize()}),0)},t.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},t}(Nt),zt=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return de.comparator(e.key,t.key)},e}(),Wt=function(e){function t(t,n,r,i,s,o){var a=e.call(this,t,n)||this;return a.objectValue=i,a.proto=s,a.converter=o,w(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!r.hasLocalMutations,a.hasCommittedMutations=!!r.hasCommittedMutations,a}return o.__extends(t,e),t.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},t.prototype.data=function(){var e=this;if(!this.objectValue){var t=$t.EMPTY;A(this.proto.fields||{},(function(n,r){t=t.set(new pe([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},t.prototype.value=function(){return this.data().value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.getProtoField=function(e){w(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields?this.proto.fields[e.firstSegment()]:void 0,n=1;n<e.length;++n){if(!t||!t.mapValue||!t.mapValue.fields)return;t=t.mapValue.fields[e.get(n)]}return t},t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},t}(zt),Kt=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(zt),Gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(zt),Qt=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[0],a=s[1];if(o.isEqual(e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){A(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[0],a=s[1];e(o,a)}}))},e.prototype.isEmpty=function(){return D(this.inner)},e}(),Yt=function(){function e(){this.changes=new Qt((function(e){return e.toString()})),this.changesApplied=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return w(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(e){w(void 0===this._readTime||this._readTime.isEqual(e),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=e},enumerable:!0,configurable:!0}),e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.readTime=t,this.changes.set(e.key,e)},e.prototype.removeEntry=function(e,t){this.assertNotApplied(),t&&(this.readTime=t),this.changes.set(e,null)},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?We.resolve(n):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){w(!this.changesApplied,"Changes have already been applied.")},e}(),Xt=function(){function e(e,t){this.serializer=e,this.indexManager=t}return e.prototype.addEntry=function(e,t,n){return Zt(e).put(en(t),n)},e.prototype.removeEntry=function(e,t){var n=Zt(e),r=en(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.setMetadata(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Zt(e).get(en(t)).next((function(e){return n.maybeDecodeDocument(e)}))},e.prototype.getSizedEntry=function(e,t){var n=this;return Zt(e).get(en(t)).next((function(e){var t=n.maybeDecodeDocument(e);return t?{maybeDocument:t,size:tn(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Re();return this.forEachDbEntry(e,t,(function(e,t){var i=n.maybeDecodeDocument(t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.getSizedEntries=function(e,t){var n=this,r=Re(),i=new Ie(de.comparator);return this.forEachDbEntry(e,t,(function(e,t){var s=n.maybeDecodeDocument(t);s?(r=r.insert(e,s),i=i.insert(e,tn(t))):(r=r.insert(e,null),i=i.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},e.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return We.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),s=i.getNext();return Zt(e).iterate({range:r},(function(e,t,r){for(var o=de.fromSegments(e);s&&de.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.skip(s.path.toArray()):r.done()})).next((function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this;w(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Fe(),s=t.path.length+1,o={};if(n.isEqual(xe.MIN)){var a=t.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.toArray(),c=this.serializer.toDbTimestampKey(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=fn.collectionReadTimeIndex}return Zt(e).iterate(o,(function(e,n,o){if(e.length===s){var a=r.serializer.fromDbRemoteDocument(n);t.path.isPrefixOf(a.key.path)?a instanceof Wt&&t.matches(a)&&(i=i.insert(a.key,a)):o.done()}})).next((function(){return i}))},e.prototype.getNewDocumentChanges=function(e,t){var n=this,r=Oe(),i=this.serializer.toDbTimestampKey(t),s=Zt(e),o=IDBKeyRange.lowerBound(i,!0);return s.iterate({index:fn.readTimeIndex,range:o},(function(e,t){var s=n.serializer.fromDbRemoteDocument(t);r=r.insert(s.key,s),i=t.readTime})).next((function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(i)}}))},e.prototype.getLastReadTime=function(e){var t=this,n=Zt(e),r=xe.MIN;return n.iterate({index:fn.readTimeIndex,reverse:!0},(function(e,n,i){n.readTime&&(r=t.serializer.fromDbTimestampKey(n.readTime)),i.done()})).next((function(){return r}))},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Jt(e).get(mn.key).next((function(e){return w(!!e,"Missing document cache metadata"),e}))},e.prototype.setMetadata=function(e,t){return Jt(e).put(mn.key,t)},e.prototype.maybeDecodeDocument=function(e){if(e){var t=this.serializer.fromDbRemoteDocument(e);return t instanceof Kt&&t.version.isEqual(xe.forDeletedDoc())?null:t}return null},e.RemoteDocumentChangeBuffer=function(e){function t(t,n){var r=e.call(this)||this;return r.documentCache=t,r.trackRemovals=n,r.documentSizes=new Qt((function(e){return e.toString()})),r}return o.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new ke((function(e,t){return X(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(s,o){var a=t.documentSizes.get(s);if(w(void 0!==a,"Cannot modify a document that wasn't read (for "+s+")"),o){w(!t.readTime.isEqual(xe.MIN),"Cannot add a document with a read time of zero");var u=t.documentCache.serializer.toDbRemoteDocument(o,t.readTime);i=i.add(s.path.popLast());var c=tn(u);r+=c-a,n.push(t.documentCache.addEntry(e,s,u))}else if(r-=a,t.trackRemovals){var l=t.documentCache.serializer.toDbRemoteDocument(new Kt(s,xe.forDeletedDoc()),t.readTime);n.push(t.documentCache.addEntry(e,s,l))}else n.push(t.documentCache.removeEntry(e,s))})),i.forEach((function(r){n.push(t.documentCache.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.documentCache.updateMetadata(e,r)),We.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},t}(Yt),e}();function Jt(e){return Gn.getStore(e,mn.store)}function Zt(e){return Gn.getStore(e,fn.store)}function en(e){return e.path.toArray()}function tn(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw y("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var nn=function(){function e(){this.collectionParentIndex=new rn}return e.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),We.resolve()},e.prototype.getCollectionParents=function(e,t){return We.resolve(this.collectionParentIndex.getEntries(t))},e}(),rn=function(){function e(){this.index={}}return e.prototype.add=function(e){w(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ke(le.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new ke(le.comparator)).toArray()},e}(),sn=9,on=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;w(n<r&&n>=0&&r<=sn,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var s=new Ye(t);n<1&&r>=1&&(function(e){e.createObjectStore(un.store)}(e),function(e){e.createObjectStore(cn.store,{keyPath:cn.keyPath}),e.createObjectStore(ln.store,{keyPath:ln.keyPath,autoIncrement:!0}).createIndex(ln.userMutationsIndex,ln.userMutationsKeyPath,{unique:!0}),e.createObjectStore(hn.store)}(e),bn(e),function(e){e.createObjectStore(fn.store)}(e));var o=We.resolve();return n<3&&r>=3&&(0!==n&&(!function(e){e.deleteObjectStore(vn.store),e.deleteObjectStore(gn.store),e.deleteObjectStore(yn.store)}(e),bn(e)),o=o.next((function(){return function(e){var t=e.store(yn.store),n=new yn(0,0,xe.MIN.toTimestamp(),0);return t.put(yn.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(ln.store).loadAll().next((function(n){e.deleteObjectStore(ln.store),e.createObjectStore(ln.store,{keyPath:ln.keyPath,autoIncrement:!0}).createIndex(ln.userMutationsIndex,ln.userMutationsKeyPath,{unique:!0});var r=t.store(ln.store),i=n.map((function(e){return r.put(e)}));return We.waitFor(i)}))}(e,s)}))),o=o.next((function(){!function(e){e.createObjectStore(_n.store,{keyPath:_n.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(mn.store)}(e),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(e,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(fn.store);t.createIndex(fn.readTimeIndex,fn.readTimeIndexPath,{unique:!1}),t.createIndex(fn.collectionReadTimeIndex,fn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),o},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(fn.store).iterate((function(e,n){t+=tn(n)})).next((function(){var n=new mn(t);return e.store(mn.store).put(mn.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(cn.store),r=e.store(ln.store);return n.loadAll().next((function(n){return We.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(ln.userMutationsIndex,i).next((function(r){return We.forEach(r,(function(r){w(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return rt(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(vn.store),n=e.store(fn.store);return ft(e).next((function(e){var r=[];return n.iterate((function(n,i){var s=new le(n),o=function(e){return[0,_e(e)]}(s);r.push(t.get(o).next((function(n){return n?We.resolve():function(n){return t.put(new vn(0,_e(n),e))}(s)})))})).next((function(){return We.waitFor(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(wn.store,{keyPath:wn.keyPath});var n=t.store(wn.store),r=new rn,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:_e(i)})}};return t.store(fn.store).iterate({keysOnly:!0},(function(e,t){var n=new le(e);return i(n.popLast())})).next((function(){return t.store(hn.store).iterate({keysOnly:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Ce(n));return i(r.popLast())}))}))},e}();var an=function(e,t){this.seconds=e,this.nanoseconds=t},un=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}();var cn=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),ln=function(){function e(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}();var hn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,_e(t)]},e.key=function(e,t,n){return[e,_e(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}();var pn=function(e,t){this.path=e,this.readTime=t},dn=function(e,t){this.path=e,this.version=t},fn=function(){function e(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}return e.store="remoteDocuments",e.readTimeIndex="readTimeIndex",e.readTimeIndexPath="readTime",e.collectionReadTimeIndex="collectionReadTimeIndex",e.collectionReadTimeIndexPath=["parentPath","readTime"],e}(),mn=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}();var gn=function(){function e(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),vn=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,w(0===e==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),yn=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),wn=function(){function e(e,t){this.collectionId=e,this.parent=t}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e}();function bn(e){e.createObjectStore(vn.store,{keyPath:vn.keyPath}).createIndex(vn.documentTargetsIndex,vn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(gn.store,{keyPath:gn.keyPath}).createIndex(gn.queryTargetsIndexName,gn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(yn.store)}var _n=function(){function e(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}return e.store="clientMetadata",e.keyPath="clientId",e}();var En,Sn=[cn.store,ln.store,hn.store,fn.store,gn.store,un.store,yn.store,vn.store],Cn=o.__spreadArrays(Sn,[_n.store]),Tn=o.__spreadArrays(Cn,[mn.store]),xn=o.__spreadArrays(Tn,[wn.store]),In=function(){function e(){this.collectionParentsCache=new rn}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(w(t.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.collectionParentsCache.add(t)}));var s={collectionId:r,parent:_e(i)};return An(e).put(s)}return We.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Z(t),""],!1,!0);return An(e).loadAll(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var s=i[r];if(s.collectionId!==t)break;n.push(Ce(s.parent))}return n}))},e}();function An(e){return Gn.getStore(e,wn.store)}!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(En||(En={}));var Dn=function(){function e(e,t,n,r,i,s,o){void 0===i&&(i=xe.MIN),void 0===s&&(s=xe.MIN),void 0===o&&(o=_()),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(e.lastLimboFreeSnapshotVersion)&&this.resumeToken===e.resumeToken&&this.target.isEqual(e.target)},e}(),Nn=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=de.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new Kt(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){t=de.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new Gt(t,n)}return y("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e,t){var n=this.toDbTimestampKey(t),r=e.key.path.popLast().toArray();if(e instanceof Wt){var i=e.proto?e.proto:this.remoteSerializer.toDocument(e),s=e.hasCommittedMutations;return new fn(null,null,i,s,n,r)}if(e instanceof Kt){var o=e.key.path.toArray(),a=this.toDbTimestamp(e.version);s=e.hasCommittedMutations;return new fn(null,new pn(o,a),null,s,n,r)}if(e instanceof Gt){o=e.key.path.toArray();var u=this.toDbTimestamp(e.version);return new fn(new dn(o,u),null,null,!0,n,r)}return y("Unexpected MaybeDocument")},e.prototype.toDbTimestampKey=function(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]},e.prototype.fromDbTimestampKey=function(e){var t=new Te(e[0],e[1]);return xe.fromTimestamp(t)},e.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new an(t.seconds,t.nanoseconds)},e.prototype.fromDbTimestamp=function(e){var t=new Te(e.seconds,e.nanoseconds);return xe.fromTimestamp(t)},e.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),i=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new ln(e,t.batchId,t.localWriteTime.toMillis(),r,i)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),i=Te.fromMillis(e.localWriteTimeMs);return new He(e.batchId,i,n,r)},e.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(_e(e.path))})),t},e.prototype.fromDbResourcePaths=function(e){for(var t=je(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new de(Ce(i)))}return t},e.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(e.lastLimboFreeSnapshotVersion):xe.MIN,i=e.resumeToken;return t=void 0!==e.query.documents?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new Dn(t,e.targetId,En.Listen,e.lastListenSequenceNumber,n,r,i)},e.prototype.toDbTarget=function(e){w(En.Listen===e.purpose,"Only queries with purpose "+En.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion),i=this.toDbTimestamp(e.lastLimboFreeSnapshotVersion);return t=e.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.target):this.remoteSerializer.toQueryTarget(e.target),e.resumeToken instanceof Uint8Array?(w(Ge.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=e.resumeToken.toString()):n=e.resumeToken,new gn(e.targetId,e.target.canonicalId(),r,n,e.sequenceNumber,i,t)},e}();var kn=function(){function e(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++){e=i[r].applyToLocalView(t,e)}return e}))},e.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Re();return t.forEach((function(e,t){for(var i=0,s=n;i<s.length;i++){t=s[i].applyToLocalView(e,t)}r=r.insert(e,t)})),r},e.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},e.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),s=Oe();return i.forEach((function(e,t){t||(t=new Kt(e,xe.forDeletedDoc())),s=s.insert(e,t)})),s}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new de(t)).next((function(e){var t=Fe();return e instanceof Wt&&(t=t.insert(e.key,e)),t}))},e.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t,n){var r=this;w(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=t.collectionGroup,s=Fe();return this.indexManager.getCollectionParents(e,i).next((function(o){return We.forEach(o,(function(o){var a=t.asCollectionQueryAtPath(o.child(i));return r.getDocumentsMatchingCollectionQuery(e,a,n).next((function(e){e.forEach((function(e,t){s=s.insert(e,t)}))}))})).next((function(){return s}))}))},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t,n){var r,i,s=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,s.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,s.addMissingBaseDocuments(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var s=n[t],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=u.applyToLocalView(l,l,s.localWriteTime);r=h instanceof Wt?r.insert(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},e.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=je(),i=0,s=t;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Tt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Wt&&(c=c.insert(e,t))})),c}))},e}(),Pn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mn=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),On=function(){function e(){this.refsByKey=new ke(Rn.compareByKey),this.refsByTarget=new ke(Rn.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new Rn(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.removeRef(new Rn(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.removeReferencesForId=function(e){var t=this,n=de.EMPTY,r=new Rn(n,e),i=new Rn(n,e+1),s=[];return this.refsByTarget.forEachInRange([r,i],(function(e){t.removeRef(e),s.push(e.key)})),s},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=de.EMPTY,n=new Rn(t,e),r=new Rn(t,e+1),i=je();return this.refsByTarget.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Rn(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Rn=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return de.comparator(e.key,t.key)||X(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return X(e.targetOrBatchId,t.targetOrBatchId)||de.comparator(e.key,t.key)},e}(),Ln="LocalStore",Fn=function(){function e(e,t,n){this.persistence=e,this.queryEngine=t,this.localViewReferences=new On,this.targetDataByTarget=new Ie(X),this.targetIdByTarget=new Qt((function(e){return e.canonicalId()})),this.lastDocumentChangeReadTime=xe.MIN,w(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(n),this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.localDocuments=new kn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return e.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},e.prototype.handleUserChange=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i=this;return o.__generator(this,(function(s){switch(s.label){case 0:return t=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var s;return i.mutationQueue.getAllMutationBatches(r).next((function(o){return s=o,t=i.persistence.getMutationQueue(e),n=new kn(i.remoteDocuments,t,i.persistence.getIndexManager()),t.getAllMutationBatches(r)})).next((function(e){for(var t=[],i=[],o=je(),a=0,u=s;a<u.length;a++){var c=u[a];t.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var p=h[l];o=o.add(p.key)}}for(var d=0,f=e;d<f.length;d++){c=f[d];i.push(c.batchId);for(var m=0,g=c.mutations;m<g.length;m++){p=g[m];o=o.add(p.key)}}return n.getDocuments(r,o).next((function(e){return{affectedDocuments:e,removedBatchIds:t,addedBatchIds:i}}))}))}))];case 1:return r=s.sent(),this.mutationQueue=t,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}}))}))},e.prototype.localWrite=function(e){var t,n=this,r=Te.now(),i=e.reduce((function(e,t){return e.add(t.key)}),je());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(s){return n.localDocuments.getDocuments(s,i).next((function(i){t=i;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=c.extractBaseValue(t.get(c.key));null!=l&&o.push(new Tt(c.key,l,l.fieldMask(),Et.exists(!0)))}return n.mutationQueue.addMutationBatch(s,r,o,e)}))})).then((function(e){var n=e.applyToLocalDocumentSet(t);return{batchId:e.batchId,changes:n}}))},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):We.resolve(null)}))}))},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,i)})).next((function(){return i.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return w(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},e.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(t){return e.targetCache.getLastRemoteSnapshotVersion(t)}))},e.prototype.applyRemoteEvent=function(t){var n=this,r=t.snapshotVersion,i=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(s){var o=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=n.targetDataByTarget;var a=[];I(t.targetChanges,(function(t,o){var u=i.get(t);if(u){a.push(n.targetCache.removeMatchingKeys(s,o.removedDocuments,t).next((function(){return n.targetCache.addMatchingKeys(s,o.addedDocuments,t)})));var c=o.resumeToken;if(c.length>0){var l=u.withResumeToken(c,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(t,l),e.shouldPersistTargetData(u,l,o)&&a.push(n.targetCache.updateTargetData(s,l))}}}));var u=Oe(),c=je();if(t.documentUpdates.forEach((function(e,t){c=c.add(e)})),a.push(o.getEntries(s,c).next((function(e){t.documentUpdates.forEach((function(i,c){var l=e.get(i);c instanceof Kt&&c.version.isEqual(xe.MIN)?(o.removeEntry(i,r),u=u.insert(i,c)):null==l||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(w(!xe.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),o.addEntry(c,r),u=u.insert(i,c)):m(Ln,"Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),t.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,i))}))}))),!r.isEqual(xe.MIN)){var l=n.targetCache.getLastRemoteSnapshotVersion(s).next((function(e){return w(r.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+e),n.targetCache.setTargetsMetadata(s,s.currentSequenceNumber,r)}));a.push(l)}return We.waitFor(a).next((function(){return o.apply(s)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(s,u)}))})).then((function(e){return n.targetDataByTarget=i,e}))},e.shouldPersistTargetData=function(e,t,n){return w(t.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===e.resumeToken.length||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},e.prototype.notifyLocalViewChanges=function(e){for(var t=this,n=0,r=e;n<r.length;n++){var i=r[n],s=i.targetId;if(this.localViewReferences.addReferences(i.addedKeys,s),this.localViewReferences.removeReferences(i.removedKeys,s),!i.fromCache){var o=this.targetDataByTarget.get(s);w(null!==o,"Can't set limbo-free snapshot version for unknown target: "+s);var a=o.snapshotVersion,u=o.withLastLimboFreeSnapshotVersion(a);this.targetDataByTarget=this.targetDataByTarget.insert(s,u)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return We.forEach(e,(function(e){return We.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return t.localDocuments.getDocument(n,e)}))},e.prototype.allocateTarget=function(e){var t=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return t.targetCache.getTargetData(n,e).next((function(i){return i?(r=i,We.resolve(r)):t.targetCache.allocateTargetId(n).next((function(i){return r=new Dn(e,i,En.Listen,n.currentSequenceNumber),t.targetCache.addTargetData(n,r).next((function(){return r}))}))}))})).then((function(n){return null===t.targetDataByTarget.get(n.targetId)&&(t.targetDataByTarget=t.targetDataByTarget.insert(n.targetId,n),t.targetIdByTarget.set(e,n.targetId)),n}))},e.prototype.getTargetData=function(e,t){var n=this.targetIdByTarget.get(t);return void 0!==n?We.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(e,t)},e.prototype.releaseTarget=function(e,t){var n=this,r=this.targetDataByTarget.get(e);w(null!==r,"Tried to release nonexistent target: "+e);var i=t?"readwrite-idempotent":"readwrite-primary-idempotent";return this.persistence.runTransaction("Release target",i,(function(i){var s=n.localViewReferences.removeReferencesForId(e);return t?We.resolve():We.forEach(s,(function(e){return n.persistence.referenceDelegate.removeReference(i,e)})).next((function(){n.persistence.referenceDelegate.removeTarget(i,r)}))})).then((function(){n.targetDataByTarget=n.targetDataByTarget.remove(e),n.targetIdByTarget.delete(r.target)}))},e.prototype.executeQuery=function(e,t){var n=this,r=xe.MIN,i=je();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(s){return n.getTargetData(s,e.toTarget()).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(s,e.targetId).next((function(e){i=e}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(s,e,t?r:xe.MIN,t?i:je())})).next((function(e){return{documents:e,remoteKeys:i}}))}))},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return t.targetCache.getMatchingKeysForTargetId(n,e)}))},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,s=i.keys(),o=We.resolve();return s.forEach((function(r){o=o.next((function(){return n.getEntry(e,r)})).next((function(e){var s=e,o=t.docVersions.get(r);w(null!==o,"ackVersions should contain every doc in the write."),(!s||s.version.compareTo(o)<0)&&((s=i.applyToRemoteDocument(r,s,t))?n.addEntry(s,t.commitVersion):w(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))}))})),o.next((function(){return r.mutationQueue.removeMutationBatch(e,i)}))},e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return e.collect(n,t.targetDataByTarget)}))},e.prototype.getTarget=function(e){var t=this,n=this.targetDataByTarget.get(e);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return t.targetCache.getTargetDataForTarget(n,e).next((function(e){return e?e.target:null}))}))},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(t){return e.remoteDocuments.getNewDocumentChanges(t,e.lastDocumentChangeReadTime)})).then((function(t){var n=t.changedDocs,r=t.readTime;return e.lastDocumentChangeReadTime=r,n}))},e.prototype.synchronizeLastDocumentChangeReadTime=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t=this;return o.__generator(this,(function(n){switch(n.label){case 0:return e=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(e){return t.remoteDocuments.getLastReadTime(e)}))];case 1:return e.lastDocumentChangeReadTime=n.sent(),[2]}}))}))},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}();function Vn(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){if(e.code!==E.FAILED_PRECONDITION||e.message!==Pn)throw e;return m(Ln,"Unexpectedly lost primary lease"),[2]}))}))}function Bn(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],o=X(n,i);return 0===o?X(r,s):o}var Un=function(){function e(e){this.maxElements=e,this.buffer=new ke(Bn),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Bn(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),jn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qn=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e.COLLECTION_DISABLED=-1,e.MINIMUM_CACHE_SIZE_BYTES=1048576,e.DEFAULT_CACHE_SIZE_BYTES=41943040,e.DEFAULT_COLLECTION_PERCENTILE=10,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,e.DEFAULT=new e(e.DEFAULT_CACHE_SIZE_BYTES,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),e.DISABLED=new e(e.COLLECTION_DISABLED,0,0),e}(),$n=function(){function e(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}return e.prototype.start=function(){w(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==qn.COLLECTION_DISABLED&&this.scheduleGC()},e.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),e.prototype.scheduleGC=function(){var e=this;w(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;m("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ne.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(Vn)}))},e}(),Hn=function(){function e(e,t){this.delegate=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return We.resolve(ue.INVALID);var r=new Un(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===qn.COLLECTION_DISABLED?(m("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(jn)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),jn):n.runGarbageCollection(e,t)}))},e.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},e.prototype.runGarbageCollection=function(e,t){var n,r,s,o,a,u,c,l=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(m("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return s=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){(c=Date.now(),d()<=i.DEBUG)&&m("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+s+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms");return We.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})}))},e}(),zn="IndexedDbPersistence",Wn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Kn=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return o.__extends(t,e),t}(Mn),Gn=function(){function e(t,n,r,i,s,o,a,u){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.queue=o,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new Xn(this,s),this.dbName=n+e.MAIN_DATABASE,this.serializer=new Nn(a),this.document=i.document,this.targetCache=new ht(this.referenceDelegate,this.serializer),this.indexManager=new In,this.remoteDocumentCache=new Xt(this.serializer,this.indexManager),!i.window||!i.window.localStorage)throw new S(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Kn)return Ge.getStore(e.simpleDbTransaction,t);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!e.isAvailable())throw new S(E.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new e(t.allowTabSynchronization,t.persistenceKey,t.clientId,t.platform,t.lruParams,t.queue,t.serializer,t.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}}))}))},e.prototype.start=function(){var e=this;return w(!this.started,"IndexedDbPersistence double-started!"),w(null!==this.window,"Expected 'window' to be defined"),Ge.openOrCreate(this.dbName,sn,new on(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.simpleDb.runTransaction("readonly-idempotent",[yn.store],(function(e){return ft(e)}))})).then((function(t){e.listenSequence=new ue(t,e.sequenceNumberSyncer)})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite-idempotent",xn,(function(t){return Yn(t).put(new _n(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){return e.isPrimary&&!n?e.releasePrimaryLeaseIfHeld(t).next((function(){return!1})):!!n&&e.acquireOrExtendPrimaryLease(t).next((function(){return!0}))}))})).catch((function(t){if(!e.allowTabSynchronization)throw t;return m(zn,"Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(t)})),e.isPrimary=t}))},e.prototype.verifyPrimaryLease=function(e){var t=this;return Qn(e).get(un.key).next((function(e){return We.resolve(t.isLocalClient(e))}))},e.prototype.removeClientMetadata=function(e){return Yn(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=e.getStore(n,_n.store);return r.loadAll().next((function(e){var n=t.filterActiveClients(e,18e5),i=e.filter((function(e){return-1===n.indexOf(e)}));return We.forEach(i,(function(e){return r.delete(e.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(e){t.window.localStorage.removeItem(t.zombiedClientLocalStorageKey(e.clientId))})),n.label=2;case 2:return[2]}}))}))},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ne.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return Qn(e).get(un.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new S(E.FAILED_PRECONDITION,Wn);return!1}}return!(!t.networkEnabled||!t.inForeground)||Yn(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&m(zn,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[un.store,_n.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly-idempotent",[_n.store],(function(t){return Yn(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},e.clearPersistence=function(t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return e.isAvailable()?(n=t+e.MAIN_DATABASE,[4,Ge.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return w(this.started,"Cannot initialize MutationQueue before persistence is started."),tt.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},e.prototype.getTargetCache=function(){return w(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},e.prototype.getRemoteDocumentCache=function(){return w(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.getIndexManager=function(){return w(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},e.prototype.runTransaction=function(e,t,n){var r=this;m(zn,"Starting transaction:",e);var i,s=t.endsWith("idempotent"),o=t.startsWith("readonly")?s?"readonly-idempotent":"readonly":s?"readwrite-idempotent":"readwrite";return this.simpleDb.runTransaction(o,xn,(function(s){return i=new Kn(s,r.listenSequence.next()),"readwrite-primary"===t||"readwrite-primary-idempotent"===t?r.verifyPrimaryLease(s).next((function(e){return!!e||r.canActAsPrimary(s)})).next((function(t){if(!t)throw g("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new S(E.FAILED_PRECONDITION,Pn);return n(i)})).next((function(e){return r.acquireOrExtendPrimaryLease(s).next((function(){return e}))})):r.verifyAllowTabSynchronization(s).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return Qn(e).get(un.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new S(E.FAILED_PRECONDITION,Wn)}))},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new un(this.clientId,this.allowTabSynchronization,Date.now());return Qn(e).put(un.key,t)},e.isAvailable=function(){return Ge.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=Qn(e);return n.get(un.key).next((function(e){return t.isLocalClient(e)?(m(zn,"Releasing primary lease."),n.delete(un.key)):We.resolve()}))},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(g("Detected an update time that is in the future: "+e+" > "+n),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(w(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(w("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return m(zn,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(n){return g(zn,"Failed to get zombied client id.",n),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){g("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function Qn(e){return e.store(un.store)}function Yn(e){return e.store(_n.store)}var Xn=function(){function e(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new Hn(this,t)}return e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return Jn(e,t)},e.prototype.removeReference=function(e,t){return Jn(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return Jn(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?We.resolve(!0):function(e,t){var n=!1;return at(e).iterateSerial((function(r){return nt(e,r,t).next((function(e){return e&&(n=!0),We.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.forEachOrphanedDocument(e,(function(o,a){if(a<=t){var u=n.isPinned(e,o).next((function(t){if(!t)return s++,r.getEntry(e,o).next((function(){return r.removeEntry(o),mt(e).delete([0,_e(o.path)])}))}));i.push(u)}})).next((function(){return We.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return s}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Jn(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=mt(e),i=ue.INVALID;return r.iterate({index:vn.documentTargetsIndex},(function(e,r){var s=e[0],o=(e[1],r.path),a=r.sequenceNumber;0===s?(i!==ue.INVALID&&t(new de(Ce(n)),i),i=a,n=o):i=ue.INVALID})).next((function(){i!==ue.INVALID&&t(new de(Ce(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Jn(e,t){return mt(e).put(function(e,t){return new vn(0,_e(e.path),t)}(t,e.currentSequenceNumber))}var Zn=Number,er=Zn.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),tr=Zn.MAX_SAFE_INTEGER||Math.pow(2,53)-1,nr=Zn.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function rr(e){return null==e}function ir(e){return nr(e)&&e<=tr&&e>=er}var sr,or=function(){function e(e,t,n,r,i,s,o){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.memoizedCanonicalId=null}return e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();null!==this.collectionGroup&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){e+=i[r].canonicalId(),e+=","}rr(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e=this.path.canonicalString();return null!==this.collectionGroup&&(e+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),rr(this.limit)||(e+=", limit: "+this.limit),this.orderBy.length>0&&(e+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),"Target("+e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&(!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)))},e.prototype.isDocumentQuery=function(){return de.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},e}();!function(e){e.First="F",e.Last="L"}(sr||(sr={}));var ar=function(){function e(e,t,n,r,i,s,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=sr.First),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.memoizedOrderBy=null,this.memoizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[wr]:this.memoizedOrderBy=[new yr(e),wr];else{w(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var s=i[r];this.memoizedOrderBy.push(s),s.field.isKeyField()&&(n=!0)}if(!n){var o=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:gr.ASCENDING;this.memoizedOrderBy.push(o===gr.ASCENDING?wr:br)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){w(null==this.getInequalityFilterField()||!(t instanceof lr)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),w(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){w(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.withLimitToFirst=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,sr.First,this.startAt,this.endAt)},e.prototype.withLimitToLast=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),t,sr.Last,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,t)},e.prototype.asCollectionQueryAtPath=function(t){return new e(t,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},e.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},e.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},e.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},e.prototype.isEqual=function(e){return this.toTarget().isEqual(e.toTarget())&&this.limitType===e.limitType},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var s=i[r],o=s.compare(e,t);if(0!==o)return o;n=n||s.field.isKeyField()}return w(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimitToFirst=function(){return!rr(this.limit)&&this.limitType===sr.First},e.prototype.hasLimitToLast=function(){return!rr(this.limit)&&this.limitType===sr.Last},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof lr&&n.isInequality())return n.field}return null},e.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof lr&&e.indexOf(r.op)>=0)return r.op}return null},e.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},e.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},e.prototype.toTarget=function(){if(!this.memoizedTarget)if(this.limitType===sr.First)this.memoizedTarget=new or(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var e=[],t=0,n=this.orderBy;t<n.length;t++){var r=n[t],i=r.dir===gr.DESCENDING?gr.ASCENDING:gr.DESCENDING;e.push(new yr(r.field,i))}var s=this.endAt?new vr(this.endAt.position,!this.endAt.before):null,o=this.startAt?new vr(this.startAt.position,!this.startAt.before):null;this.memoizedTarget=new or(this.path,this.collectionGroup,e,this.filters,this.limit,s,o)}return this.memoizedTarget},e.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):de.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){w(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),ur=function(){},cr=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;case"in":return e.IN;case"array-contains-any":return e.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e.IN=new e("in"),e.ARRAY_CONTAINS_ANY=new e("array-contains-any"),e}(),lr=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return o.__extends(t,e),t.create=function(e,n,r){if(e.isKeyField())return n===cr.IN?(w(r instanceof Ht,"Comparing on key with IN, but filter value not an ArrayValue"),w(r.internalValue.every((function(e){return e instanceof jt})),"Comparing on key with IN, but an array value was not a RefValue"),new pr(e,r)):(w(r instanceof jt,"Comparing on key, but filter value not a RefValue"),w(n!==cr.ARRAY_CONTAINS&&n!==cr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new hr(e,n,r));if(r.isEqual(kt.INSTANCE)){if(n!==cr.EQUAL)throw new S(E.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new t(e,n,r)}if(r.isEqual(Lt.NAN)){if(n!==cr.EQUAL)throw new S(E.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new t(e,n,r)}return n===cr.ARRAY_CONTAINS?new dr(e,r):n===cr.IN?(w(r instanceof Ht,"IN filter has invalid value: "+r.toString()),new fr(e,r)):n===cr.ARRAY_CONTAINS_ANY?(w(r instanceof Ht,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new mr(e,r)):new t(e,n,r)},t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case cr.LESS_THAN:return e<0;case cr.LESS_THAN_OR_EQUAL:return e<=0;case cr.EQUAL:return 0===e;case cr.GREATER_THAN:return e>0;case cr.GREATER_THAN_OR_EQUAL:return e>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},t.prototype.isInequality=function(){return[cr.LESS_THAN,cr.LESS_THAN_OR_EQUAL,cr.GREATER_THAN,cr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(ur),hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=de.comparator(e.key,t.key);return this.matchesComparison(n)},t}(lr),pr=function(e){function t(t,n){var r=e.call(this,t,cr.IN,n)||this;return r.value=n,r}return o.__extends(t,e),t.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},t}(lr),dr=function(e){function t(t,n){return e.call(this,t,cr.ARRAY_CONTAINS,n)||this}return o.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Ht&&t.contains(this.value)},t}(lr),fr=function(e){function t(t,n){var r=e.call(this,t,cr.IN,n)||this;return r.value=n,r}return o.__extends(t,e),t.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},t}(lr),mr=function(e){function t(t,n){var r=e.call(this,t,cr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return o.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Ht&&n.internalValue.some((function(e){return t.value.contains(e)}))},t}(lr),gr=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),vr=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){w(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],s=this.position[r];if(i.field.isKeyField())w(s instanceof jt,"Bound has a non-key value where the key path is being used."),n=de.comparator(s.key,t.key);else{var o=t.field(i.field);w(null!==o,"Field should exist since document matched the orderBy already."),n=s.compareTo(o)}if(i.dir===gr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},e}(),yr=function(){function e(e,t){this.field=e,void 0===t&&(t=gr.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Wt.compareByKey(e,t):Wt.compareByField(this.field,e,t);switch(this.dir){case gr.ASCENDING:return n;case gr.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),wr=new yr(pe.keyField(),gr.ASCENDING),br=new yr(pe.keyField(),gr.DESCENDING),_r=function(){function e(){}return e.prototype.setLocalDocumentsView=function(e){this.localDocumentsView=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var s=this;return w(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),t.matchesAllDocuments()?this.executeFullCollectionScan(e,t):n.isEqual(xe.MIN)?this.executeFullCollectionScan(e,t):this.localDocumentsView.getDocuments(e,r).next((function(o){var a=s.applyQuery(t,o);return(t.hasLimitToFirst()||t.hasLimitToLast())&&s.needsRefill(t.limitType,a,r,n)?s.executeFullCollectionScan(e,t):(d()<=i.DEBUG&&m("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),t.toString()),s.localDocumentsView.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.applyQuery=function(e,t){var n=new ke((function(t,n){return e.docComparator(t,n)}));return t.forEach((function(t,r){r instanceof Wt&&e.matches(r)&&(n=n.add(r))})),n},e.prototype.needsRefill=function(e,t,n,r){if(n.size!==t.size)return!0;var i=e===sr.First?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.executeFullCollectionScan=function(e,t){return d()<=i.DEBUG&&m("IndexFreeQueryEngine","Using full collection scan to execute query: %s",t.toString()),this.localDocumentsView.getDocumentsMatchingQuery(e,t,xe.MIN)},e}(),Er=function(){function e(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new ke(Rn.compareByKey)}return e.prototype.checkEmpty=function(e){return We.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");w(0===i,"Can only acknowledge the first batch in the mutation queue");var s=this.mutationQueue[i];return w(r===s.batchId,"Queue ordering failure: expected batch "+r+", got batch "+s.batchId),this.lastStreamToken=n,We.resolve()},e.prototype.getLastStreamToken=function(e){return We.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,We.resolve()},e.prototype.addMutationBatch=function(e,t,n,r){w(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&w(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var s=new He(i,t,n,r);this.mutationQueue.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Rn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return We.resolve(s)},e.prototype.lookupMutationBatch=function(e,t){return We.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return w(null!=n,"Failed to find local mutation batch."),We.resolve(n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return We.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return We.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},e.prototype.getAllMutationBatches=function(e){return We.resolve(this.mutationQueue.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Rn(t,0),i=new Rn(t,Number.POSITIVE_INFINITY),s=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(e){w(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);w(null!==r,"Batches in the index must exist in the main table"),s.push(r)})),We.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ke(X);return t.forEach((function(e){var t=new Rn(e,0),i=new Rn(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],(function(t){w(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),We.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){w(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;de.isDocumentKey(i)||(i=i.child(""));var s=new Rn(new de(i),0),o=new ke(X);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.targetOrBatchId)),!0)}),s),We.resolve(this.findMutationBatches(o))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;w(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return We.forEach(t.mutations,(function(i){var s=new Rn(i.key,t.batchId);return r=r.delete(s),n.referenceDelegate.removeMutationReference(e,i.key)})).next((function(){n.batchesByDocumentKey=r}))},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new Rn(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return We.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&w(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),We.resolve()},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return w(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return w(n.batchId===e,"If found batch must match"),n},e}();var Sr,Cr=function(){function e(e,t){this.indexManager=e,this.sizer=t,this.docs=new Ie(de.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){w(!n.isEqual(xe.MIN),"Cannot add a document with a read time of zero");var r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.sizer(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:o,readTime:n}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return We.resolve(n?n.maybeDocument:null)},e.prototype.getEntries=function(e,t){var n=this,r=Re();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),We.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){w(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Fe(),i=new de(t.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.key,u=o.value,c=u.maybeDocument,l=u.readTime;if(!t.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||c instanceof Wt&&t.matches(c)&&(r=r.insert(c.key,c))}return We.resolve(r)},e.prototype.forEachDocumentKey=function(e,t){return We.forEach(this.docs,(function(e){return t(e)}))},e.prototype.getNewDocumentChanges=function(e,t){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},e.prototype.getLastReadTime=function(e){return We.resolve(xe.MIN)},e.prototype.newChangeBuffer=function(t){return new e.RemoteDocumentChangeBuffer(this)},e.prototype.getSize=function(e){return We.resolve(this.size)},e.RemoteDocumentChangeBuffer=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return o.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i?n.push(t.documentCache.addEntry(e,i,t.readTime)):t.documentCache.removeEntry(r)})),We.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},t}(Yt),e}(),Tr=function(){function e(e){this.persistence=e,this.targets=new Qt((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=xe.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new On,this.targetCount=0,this.targetIdGenerator=lt.forTargetCache()}return e.prototype.forEachTarget=function(e,t){return this.targets.forEach((function(e,n){return t(n)})),We.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return We.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return We.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,We.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),We.resolve()},e.prototype.saveTargetData=function(e){this.targets.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return w(!this.targets.has(t.target),"Adding a target that already exists"),this.saveTargetData(t),this.targetCount+=1,We.resolve()},e.prototype.updateTargetData=function(e,t){return w(this.targets.has(t.target),"Updating a non-existent target"),this.saveTargetData(t),We.resolve()},e.prototype.removeTargetData=function(e,t){return w(this.targetCount>0,"Removing a target from an empty cache"),w(this.targets.has(t.target),"Removing a non-existent target from the cache"),this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,We.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,s=[];return this.targets.forEach((function(o,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.targets.delete(o),s.push(r.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),We.waitFor(s).next((function(){return i}))},e.prototype.getTargetCount=function(e){return We.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.targets.get(t)||null;return We.resolve(n)},e.prototype.getTargetDataForTarget=function(e,t){return y("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.addReference(e,t))})),We.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.removeReference(e,t))})),We.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),We.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return We.resolve(n)},e.prototype.containsKey=function(e,t){return We.resolve(this.references.containsKey(t))},e}(),xr=function(){function e(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new ue(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.targetCache=new Tr(this);this.indexManager=new nn,this.remoteDocumentCache=new Cr(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}return e.createLruPersistence=function(t,n){return new e(t,(function(e){return new Dr(e,n)}))},e.createEagerPersistence=function(t){return new e(t,(function(e){return new Ar(e)}))},e.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return[2,[this.clientId]]}))}))},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(e){},e.prototype.getIndexManager=function(){return this.indexManager},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Er(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.targetCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;m("MemoryPersistence","Starting transaction:",e);var i=new Ir(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(e){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.mutationQueuesContainKey=function(e,t){return We.or((n=this.mutationQueues,r=[],A(n,(function(e,t){return r.push(t)})),r).map((function(n){return function(){return n.containsKey(e,t)}})));var n,r},e}(),Ir=function(e){function t(t){var n=e.call(this)||this;return n.currentSequenceNumber=t,n}return o.__extends(t,e),t}(Mn),Ar=function(){function e(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(e.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),We.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),We.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),We.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return We.or([function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return We.resolve(n.inMemoryPins.containsKey(t))}])},e}(),Dr=function(){function e(e,t){this.persistence=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Qt((function(e){return _e(e.path)})),this.garbageCollector=new Hn(this,t)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return We.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)},e.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return We.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(e,r,i).next((function(e){return e?We.resolve():t(i)}))}))},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.forEachDocumentKey(e,(function(i){return n.isPinned(e,i,t).next((function(e){e||(r++,s.removeEntry(i))}))})).next((function(){return s.apply(e)})).next((function(){return r}))},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),We.resolve()},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),We.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),We.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),We.resolve()},e.prototype.documentSize=function(e){var t=e.key.toString().length;return e instanceof Wt&&(t+=e.data().approximateByteSize()),t},e.prototype.isPinned=function(e,t,n){var r=this;return We.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return We.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getTargetCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return We.resolve(void 0!==e&&e>n)}])},e.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},e}(),Nr=1e3,kr=1.5,Pr=6e4,Mr=function(){function e(e,t,n,r,i){void 0===n&&(n=Nr),void 0===r&&(r=kr),void 0===i&&(i=Pr),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&m("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}();!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(Sr||(Sr={}));var Or,Rr,Lr=function(){function e(e,t,n,r,i,s){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=s,this.state=Sr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Mr(e,t)}return e.prototype.isStarted=function(){return this.state===Sr.Starting||this.state===Sr.Open||this.state===Sr.Backoff},e.prototype.isOpen=function(){return this.state===Sr.Open},e.prototype.start=function(){this.state!==Sr.Error?(w(this.state===Sr.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(Sr.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.inhibitBackoff=function(){w(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Sr.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.isOpen()?[2,this.close(Sr.Initial)]:[2]}))}))},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return w(this.isStarted(),"Only started streams should be closed."),w(e===Sr.Error||rr(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==Sr.Error?this.backoff.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(g(t.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===E.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;w(this.state===Sr.Initial,"Must be in initial state to auth"),this.state=Sr.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new S(E.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},e.prototype.startStream=function(e){var t=this;w(this.state===Sr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return w(t.state===Sr.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=Sr.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.performBackoff=function(){var e=this;w(this.state===Sr.Error,"Should only perform backoff when in Error state"),this.state=Sr.Backoff,this.backoff.backoffAndRun((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return w(this.state===Sr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Sr.Initial,this.start(),w(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},e.prototype.handleStreamClose=function(e){return w(this.isStarted(),"Can't handle server close on non-started stream"),m("PersistentStream","close with error: "+e),this.stream=null,this.close(Sr.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(m("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Fr=function(e){function t(t,n,r,i,s){var o=e.call(this,t,ne.ListenStreamConnectionBackoff,ne.ListenStreamIdle,n,r,s)||this;return o.serializer=i,o}return o.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(Lr),Vr=function(e){function t(t,n,r,i,s){var o=e.call(this,t,ne.WriteStreamConnectionBackoff,ne.WriteStreamIdle,n,r,s)||this;return o.serializer=i,o.handshakeComplete_=!1,o.lastStreamToken=_(),o}return o.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(w(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return w(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){w(this.isOpen(),"Writing handshake requires an opened stream"),w(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;w(this.isOpen(),"Writing mutations requires an opened stream"),w(this.handshakeComplete_,"Handshake must be complete before writing mutations"),w(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},t}(Lr),Br=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new Vr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new Fr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Oe();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var i=[];return e.forEach((function(e){var t=r.get(e);w(!!t,"Missing entity in write response for "+e),i.push(t)})),i}))},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===E.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===E.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},e}(),Ur=function(){function e(e){this.datastore=e,this.readVersions=Be(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new S(E.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof Kt||e instanceof Wt?n.recordVersion(e):y("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},e.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e)},e.prototype.delete=function(e){this.write([new It(e,this.precondition(e))]),this.writtenDocs.add(e)},e.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),e.forEach((function(e,n){t.mutations.push(new At(e,t.precondition(e)))})),[4,this.datastore.commit(this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e instanceof Wt)t=e.version;else{if(!(e instanceof Kt))throw y("Document in a transaction was a "+e.constructor.name);t=xe.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new S(E.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?Et.updateTime(t):Et.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(!this.writtenDocs.has(e)&&t){if(t.isEqual(xe.forDeletedDoc()))throw new S(E.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Et.updateTime(t)}return Et.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},e.prototype.ensureCommitNotCalled=function(){w(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(Or||(Or={})),function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(Rr||(Rr={}));var jr,qr=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=Or.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Or.Unknown),w(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ne.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,w(e.state===Or.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(Or.Offline),Promise.resolve()})))},e.prototype.handleWatchStreamFailure=function(e){this.state===Or.Online?(this.setAndBroadcast(Or.Unknown),w(0===this.watchStreamFailures,"watchStreamFailures must be 0"),w(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(Or.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===Or.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(g(t),this.shouldWarnClientIsOffline=!1):m("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}();function $r(e){switch(e){case E.OK:return y("Treated status OK as error");case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0;default:return y("Unknown status code: "+e)}}function Hr(e){if(void 0===e)return g("GRPC error has no .code"),E.UNKNOWN;switch(e){case jr.OK:return E.OK;case jr.CANCELLED:return E.CANCELLED;case jr.UNKNOWN:return E.UNKNOWN;case jr.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case jr.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case jr.INTERNAL:return E.INTERNAL;case jr.UNAVAILABLE:return E.UNAVAILABLE;case jr.UNAUTHENTICATED:return E.UNAUTHENTICATED;case jr.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case jr.NOT_FOUND:return E.NOT_FOUND;case jr.ALREADY_EXISTS:return E.ALREADY_EXISTS;case jr.PERMISSION_DENIED:return E.PERMISSION_DENIED;case jr.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case jr.ABORTED:return E.ABORTED;case jr.OUT_OF_RANGE:return E.OUT_OF_RANGE;case jr.UNIMPLEMENTED:return E.UNIMPLEMENTED;case jr.DATA_LOSS:return E.DATA_LOSS;default:return y("Unknown status code: "+e)}}function zr(e){if(void 0===e)return jr.OK;switch(e){case E.OK:return jr.OK;case E.CANCELLED:return jr.CANCELLED;case E.UNKNOWN:return jr.UNKNOWN;case E.DEADLINE_EXCEEDED:return jr.DEADLINE_EXCEEDED;case E.RESOURCE_EXHAUSTED:return jr.RESOURCE_EXHAUSTED;case E.INTERNAL:return jr.INTERNAL;case E.UNAVAILABLE:return jr.UNAVAILABLE;case E.UNAUTHENTICATED:return jr.UNAUTHENTICATED;case E.INVALID_ARGUMENT:return jr.INVALID_ARGUMENT;case E.NOT_FOUND:return jr.NOT_FOUND;case E.ALREADY_EXISTS:return jr.ALREADY_EXISTS;case E.PERMISSION_DENIED:return jr.PERMISSION_DENIED;case E.FAILED_PRECONDITION:return jr.FAILED_PRECONDITION;case E.ABORTED:return jr.ABORTED;case E.OUT_OF_RANGE:return jr.OUT_OF_RANGE;case E.UNIMPLEMENTED:return jr.UNIMPLEMENTED;case E.DATA_LOSS:return jr.DATA_LOSS;default:return y("Unknown status code: "+e)}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(jr||(jr={}));var Wr,Kr,Gr=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||de.comparator(t.key,n.key)}:function(e,t){return de.comparator(e.key,t.key)},this.keyedMap=Fe(),this.sortedSet=new Ie(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(Wr||(Wr={})),function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(Kr||(Kr={}));var Qr,Yr=function(){function e(){this.changeMap=new Ie(de.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==Wr.Added&&n.type===Wr.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Wr.Metadata&&n.type!==Wr.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Wr.Modified&&n.type===Wr.Modified?this.changeMap=this.changeMap.insert(t,{type:Wr.Modified,doc:e.doc}):e.type===Wr.Modified&&n.type===Wr.Added?this.changeMap=this.changeMap.insert(t,{type:Wr.Added,doc:e.doc}):e.type===Wr.Removed&&n.type===Wr.Added?this.changeMap=this.changeMap.remove(t):e.type===Wr.Removed&&n.type===Wr.Modified?this.changeMap=this.changeMap.insert(t,{type:Wr.Removed,doc:n.doc}):e.type===Wr.Added&&n.type===Wr.Removed?this.changeMap=this.changeMap.insert(t,{type:Wr.Modified,doc:e.doc}):y("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Xr=function(){function e(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach((function(e){s.push({type:Wr.Added,doc:e})})),new e(t,n,Gr.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Jr=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=((r={})[t]=Zr.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e(xe.MIN,i,$e(),Oe(),je())},e}(),Zr=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(_(),n,je(),je(),je())},e}(),ei=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},ti=function(e,t){this.targetId=e,this.existenceFilter=t};!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(Qr||(Qr={}));var ni=function(e,t,n,r){void 0===n&&(n=_()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ri=function(){function e(){this.pendingResponses=0,this.documentChanges=oi(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=je(),t=je(),n=je();return this.documentChanges.forEach((function(r,i){switch(i){case Wr.Added:e=e.add(r);break;case Wr.Modified:t=t.add(r);break;case Wr.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}})),new Zr(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=oi()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),ii=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=Oe(),this.pendingDocumentTargetMapping=si(),this.pendingTargetResets=new ke(X)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof Wt?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof Kt&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,s=e.removedTargetIds;i<s.length;i++){r=s[i];this.removeDocumentFromTarget(r,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case Qr.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Qr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Qr.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),w(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Qr.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Qr.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:y("Unknown target watch change state: "+e.state)}}))},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):I(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.targetDataForActiveTarget(t);if(r){var i=r.target;if(i.isDocumentQuery())if(0===n){var s=new de(i.path);this.removeDocumentFromTarget(t,s,new Kt(s,xe.forDeletedDoc()))}else w(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};I(this.targetStates,(function(r,i){var s=t.targetDataForActiveTarget(r);if(s){if(i.current&&s.target.isDocumentQuery()){var o=new de(s.target.path);null!==t.pendingDocumentUpdates.get(o)||t.targetContainsDocument(r,o)||t.removeDocumentFromTarget(r,o,new Kt(o,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=je();this.pendingDocumentTargetMapping.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.targetDataForActiveTarget(e);return!n||n.purpose===En.LimboResolution||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Jr(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Oe(),this.pendingDocumentTargetMapping=si(),this.pendingTargetResets=new ke(X),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?Wr.Modified:Wr.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,Wr.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new ri),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new ke(X),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){var t=null!==this.targetDataForActiveTarget(e);return t||m("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.targetDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;w(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new ri,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function si(){return new Ie(de.comparator)}function oi(){return new Ie(de.comparator)}var ai="RemoteStore",ui=function(){function e(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(m(ai,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new qr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Or.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Or.Offline),[2]}}))}))},e.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(m(ai,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},e.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return m(ai,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(Or.Unknown),[2]}}))}))},e.prototype.listen=function(e){T(this.listenTargets,e.targetId)||(this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e))},e.prototype.unlisten=function(e){w(T(this.listenTargets,e),"unlisten called on target no currently watched: "+e),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),D(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Or.Unknown))},e.prototype.getTargetDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){w(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new ii(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!D(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(t){return I(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},e.prototype.onWatchStreamClose=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return void 0===e&&w(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(Or.Unknown),[2]}))}))},e.prototype.onWatchStreamChange=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Or.Online),e instanceof ni&&e.state===Qr.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof ei?this.watchChangeAggregator.handleDocumentChange(e):e instanceof ti?this.watchChangeAggregator.handleExistenceFilter(e):(w(e instanceof ni,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(xe.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},e.prototype.raiseWatchSnapshot=function(e){var t=this;w(!e.isEqual(xe.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return I(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(_(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new Dn(n.target,e,En.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;w(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return T(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},e.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){w(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){w(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}})).catch(Vn)},e.prototype.onMutationResult=function(e,t){var n=this;w(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=ze.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},e.prototype.onWriteStreamClose=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(n){return void 0===e&&w(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]):[2]}))}))},e.prototype.handleHandshakeError=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return $r(e.code)?(m(ai,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(Vn)]):[2]}))}))},e.prototype.handleWriteError=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n=this;return o.__generator(this,(function(r){return $r(i=e.code)&&i!==E.ABORTED?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2];var i}))}))},e.prototype.createTransaction=function(){return new Ur(this.datastore)},e.prototype.restartNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Or.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},e.prototype.handleCredentialChange=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(m(ai,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.applyPrimaryState=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(Or.Unknown),t.label=4;case 4:return[2]}}))}))},e}(),ci=function(){function e(e,t){if(k("GeoPoint",arguments,2),O("GeoPoint","number",1,e),O("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new S(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new S(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return X(this._lat,e._lat)||X(this._long,e._long)},e}(),li=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new Bt(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),hi=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=fi(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Ht(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&J(t.elements,this.elements)},e}(),pi=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=fi(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Ht(t)},e.prototype.computeBaseValue=function(e){return null},e.prototype.isEqual=function(t){return t instanceof e&&J(t.elements,this.elements)},e}(),di=function(){function e(e){this.operand=e}return e.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof Rt&&this.operand instanceof Rt){var r=n.internalValue+this.operand.internalValue;return new Rt(r)}r=n.internalValue+this.operand.internalValue;return new Lt(r)},e.prototype.applyToRemoteDocument=function(e,t){return w(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},e.prototype.computeBaseValue=function(e){return e instanceof Mt?e:new Rt(0)},e.prototype.isEqual=function(t){return t instanceof e&&this.operand.isEqual(t.operand)},e}();function fi(e){return e instanceof Ht?e.internalValue.slice():[]}var mi,gi,vi=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),yi=((mi={})[gr.ASCENDING.name]="ASCENDING",mi[gr.DESCENDING.name]="DESCENDING",mi),wi=((gi={})[cr.LESS_THAN.name]="LESS_THAN",gi[cr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",gi[cr.GREATER_THAN.name]="GREATER_THAN",gi[cr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",gi[cr.EQUAL.name]="EQUAL",gi[cr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",gi[cr.IN.name]="IN",gi[cr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",gi),bi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(e,t){w(!rr(e),t+" is missing")}function Ei(e){return"number"==typeof e?e:"string"==typeof e?Number(e):y("can't parse "+e)}var Si=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?E.UNKNOWN:Hr(e.code);return new S(t,e.message||"")},e.prototype.toInt32Value=function(e){return this.options.useProto3Json||rr(e)?e:{value:e}},e.prototype.fromInt32Value=function(e){var t;return rr(t="object"==typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return this.options.useProto3Json?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);w(!!e,"Cannot deserialize null or undefined timestamp.");var t=Ei(e.seconds||"0"),n=e.nanos||0;return new Te(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=bi.exec(e);if(w(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),s=Math.floor(i.getTime()/1e3);return new Te(s,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(w(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),re.fromBase64String(e)):(w(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),re.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return w(!!e,"Trying to deserialize version that isn't set"),xe.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=le.fromString(e);return w(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return w(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),w(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new de(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?le.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new le(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new le(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return w(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof kt)return{nullValue:"NULL_VALUE"};if(e instanceof Pt)return{booleanValue:e.value()};if(e instanceof Rt)return{integerValue:""+e.value()};if(e instanceof Lt){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Ft?{stringValue:e.value()}:e instanceof $t?{mapValue:this.toMapValue(e)}:e instanceof Ht?{arrayValue:this.toArrayValue(e)}:e instanceof Vt?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof qt?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Ut?{bytesValue:this.toBytes(e.value())}:e instanceof jt?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:y("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return kt.INSTANCE;if("booleanValue"in e)return Pt.of(e.booleanValue);if("integerValue"in e)return new Rt(Ei(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Lt.NAN;if("Infinity"===e.doubleValue)return Lt.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Lt.NEGATIVE_INFINITY}return new Lt(e.doubleValue)}if("stringValue"in e)return new Ft(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){_i(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Ht(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return _i(e.timestampValue,"timestampValue"),new Vt(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){_i(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new qt(new ci(r,i))}if("bytesValue"in e){_i(e.bytesValue,"bytesValue");var s=this.fromBlob(e.bytesValue);return new Ut(s)}if("referenceValue"in e){_i(e.referenceValue,"referenceValue");var o=this.fromResourceName(e.referenceValue),a=new ae(o.get(1),o.get(3)),u=new de(this.extractLocalPathFromResourceName(o));return new jt(a,u)}return y("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return w(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),i=this.fromVersion(e.updateTime);return new Wt(r,i,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},e.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},e.prototype.fromFields=function(e){var t=this,n=e,r=$t.EMPTY;return A(n,(function(e,n){r=r.set(new pe([e]),t.fromValue(n))})),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},e.prototype.fromFound=function(e){var t=this;w(!!e.found,"Tried to deserialize a found document from a missing document."),_i(e.found.name,"doc.found.name"),_i(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new Wt(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},e.prototype.fromMissing=function(e){w(!!e.missing,"Tried to deserialize a missing document from a found document."),w(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new Kt(t,n)},e.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):y("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Qr.Added:return"ADD";case Qr.Current:return"CURRENT";case Qr.NoChange:return"NO_CHANGE";case Qr.Removed:return"REMOVE";case Qr.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof ti)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof ei){if(e.newDoc instanceof Wt){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof Kt){t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof ni){var n=void 0;return e.cause&&(n={code:zr(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){_i(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=e.targetChange.resumeToken||this.emptyByteString(),o=e.targetChange.cause,a=o&&this.fromRpcStatus(o);t=new ni(r,i,s,a||null)}else if("documentChange"in e){_i(e.documentChange,"documentChange");var u=e.documentChange;_i(u.document,"documentChange.name"),_i(u.document.name,"documentChange.document.name"),_i(u.document.updateTime,"documentChange.document.updateTime");var c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=new Wt(c,l,{},void 0,u.document,(function(e){return n.fromValue(e)})),p=u.targetIds||[],d=u.removedTargetIds||[];t=new ei(p,d,h.key,h)}else if("documentDelete"in e){_i(e.documentDelete,"documentDelete");var f=e.documentDelete;_i(f.document,"documentDelete.document");c=this.fromName(f.document),l=f.readTime?this.fromVersion(f.readTime):xe.forDeletedDoc(),h=new Kt(c,l),d=f.removedTargetIds||[];t=new ei([],d,h.key,h)}else if("documentRemove"in e){_i(e.documentRemove,"documentRemove");var m=e.documentRemove;_i(m.document,"documentRemove");c=this.fromName(m.document),d=m.removedTargetIds||[];t=new ei([],d,c,null)}else{if(!("filter"in e))return y("Unknown change type "+JSON.stringify(e));_i(e.filter,"filter");var g=e.filter;_i(g.targetId,"filter.targetId");var v=g.count||0,w=new vi(v),b=g.targetId;t=new ti(b,w)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Qr.NoChange:"ADD"===e?Qr.Added:"REMOVE"===e?Qr.Removed:"CURRENT"===e?Qr.Current:"RESET"===e?Qr.Reset:y("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return xe.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?xe.MIN:t.readTime?this.fromVersion(t.readTime):xe.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof Ct)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof It)t={delete:this.toName(e.key)};else if(e instanceof Tt)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else if(e instanceof xt)t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}};else{if(!(e instanceof At))return y("Unknown mutation type "+e.type);t={verify:this.toName(e.key)}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):Et.NONE;if(e.update){_i(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var s=this.fromDocumentMask(e.updateMask);return new Tt(r,i,s,n)}return new Ct(r,i,n)}if(e.delete){r=this.fromName(e.delete);return new It(r,n)}if(e.transform){r=this.fromName(e.transform.document);var o=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return w(!0===n.exists,'Transforms only support precondition "exists == true"'),new xt(r,o)}if(e.verify){r=this.fromName(e.verify);return new At(r,n)}return y("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return w(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?Et.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?Et.exists(e.exists):Et.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t);r.isEqual(xe.MIN)&&(r=this.fromVersion(t));var i=null;return e.transformResults&&e.transformResults.length>0&&(i=e.transformResults.map((function(e){return n.fromValue(e)}))),new wt(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(w(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof li)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hi)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof pi)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof di)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)w("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=li.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new hi(r.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e){r=e.removeAllFromArray.values||[];n=new pi(r.map((function(e){return t.fromValue(e)})))}else if("increment"in e){var i=this.fromValue(e.increment);w(i instanceof Mt,"NUMERIC_ADD transform requires a NumberValue"),n=new di(i)}else y("Unknown transform proto: "+JSON.stringify(e));var s=pe.fromServerFormat(e.fieldPath);return new yt(s,n)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;w(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return ar.atPath(this.fromQueryPath(n)).toTarget()},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(w(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(w(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var s=this.toInt32Value(e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){w(1===r,"StructuredQuery.from with more than one collection is not supported.");var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new ar(t,i,a,o,u,sr.First,c,l).toTarget()},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case En.Listen:return null;case En.ExistenceFilterMismatch:return"existence-filter-mismatch";case En.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.target;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof lr?t.toUnaryOrFieldFilter(e):y("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):y("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},e.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new vr(r,n)},e.prototype.toDirection=function(e){return yi[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return gr.ASCENDING;case"DESCENDING":return gr.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return wi[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return cr.EQUAL;case"GREATER_THAN":return cr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return cr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return cr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return cr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return cr.ARRAY_CONTAINS;case"IN":return cr.IN;case"ARRAY_CONTAINS_ANY":return cr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return pe.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new yr(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.fromFieldFilter=function(e){return lr.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryOrFieldFilter=function(e){if(e.op===cr.EQUAL){if(e.value.isEqual(Lt.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(kt.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return lr.create(t,cr.EQUAL,Lt.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return lr.create(n,cr.EQUAL,kt.INSTANCE);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},e.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return pe.fromServerFormat(e)}));return vt.fromArray(t)},e}(),Ci=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Ti=function(){function e(e){this.syncEngine=e,this.queries=new Qt((function(e){return e.canonicalId()})),this.onlineState=Or.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);(r||(n=!0,r=new Ci,this.queries.set(t,r)),r.listeners.push(e),w(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap)&&(e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent());return n?this.syncEngine.listen(t).then((function(e){return r.targetId=e,e})):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(s){return t=e.query,n=!1,(r=this.queries.get(t))&&(i=r.listeners.indexOf(e))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},e.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],s=i.query,o=this.queries.get(s);if(o){for(var a=0,u=o.listeners;a<u.length;a++){u[a].onViewSnapshot(i)&&(t=!0)}o.viewSnap=i}}t&&this.raiseSnapshotsInSyncEvent()},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var i=0,s=r.listeners;i<s.length;i++){s[i].applyOnlineStateChange(e)&&(t=!0)}})),t&&this.raiseSnapshotsInSyncEvent()},e.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},e.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},e.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},e}(),xi=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=Or.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(w(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==Wr.Metadata&&t.push(i)}e=new Xr(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var s=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),s=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),s=!0),this.snap=e,s},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},e.prototype.shouldRaiseInitialEvent=function(e,t){if(w(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==Or.Offline;return this.options.waitForSyncWhenOnline&&n?(w(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===Or.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){w(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Xr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),Ii=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.addedKeys=n,this.removedKeys=r}return e.fromSnapshot=function(t,n){for(var r=je(),i=je(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case Wr.Added:r=r.add(a.doc.key);break;case Wr.Removed:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Ai=function(e){this.key=e},Di=function(e){this.key=e},Ni=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=je(),this.mutatedKeys=je(),this.documentSet=new Gr(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Yr,i=t?t.documentSet:this.documentSet,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.hasLimitToFirst()&&i.size===this.query.limit?i.last():null,c=this.query.hasLimitToLast()&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=t instanceof Wt?t:null;h&&(w(e.isEqual(h.key),"Mismatching keys found in document changes: "+e+" != "+h.key),h=n.query.matches(h)?h:null);var p=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),f=!1;l&&h?l.data().isEqual(h.data())?p!==d&&(r.track({type:Wr.Metadata,doc:h}),f=!0):n.shouldWaitForSyncedDocument(l,h)||(r.track({type:Wr.Modified,doc:h}),f=!0,(u&&n.query.docComparator(h,u)>0||c&&n.query.docComparator(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:Wr.Added,doc:h}),f=!0):l&&!h&&(r.track({type:Wr.Removed,doc:l}),f=!0,(u||c)&&(a=!0));f&&(h?(o=o.add(h),s=d?s.add(e):s.delete(e)):(o=o.delete(e),s=s.delete(e)))})),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;o.size>this.query.limit;){var l=this.query.hasLimitToFirst()?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:Wr.Removed,doc:l})}return w(!a||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:o,changeSet:r,needsRefill:a,mutatedKeys:s}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;w(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var s=e.changeSet.getChanges();s.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case Wr.Added:return 1;case Wr.Modified:case Wr.Metadata:return 2;case Wr.Removed:return 0;default:return y("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var o=t?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Kr.Synced:Kr.Local,u=a!==this.syncState;return this.syncState=a,0!==s.length||u?{snapshot:new Xr(this.query,e.documentSet,i,s,e.mutatedKeys,a===Kr.Local,u,!1),limboChanges:o}:{limboChanges:o}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===Or.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Yr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return w(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=je(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new Di(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new Ai(e))})),n},e.prototype.synchronizeWithPersistedState=function(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=je();var t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)},e.prototype.computeInitialSnapshot=function(){return Xr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Kr.Local)},e}();var ki=5,Pi=function(){function e(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=ki,this.backoff=new Mr(this.asyncQueue,ne.RetryTransaction)}return e.prototype.run=function(){this.runWithBackOff()},e.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return o.__generator(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},e.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!rr(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.deferred.reject(g),null}},e.prototype.handleTransactionError=function(e){var t=this;this.retries>0&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.isRetryableTransactionError=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!$r(t)}return!1},e}(),Mi=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Oi=function(e){this.key=e,this.receivedDocument=!1},Ri=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Qt((function(e){return e.canonicalId()})),this.queriesByTarget={},this.limboTargetsByKey=new Ie(de.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new On,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=lt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Or.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){w(null!==e,"SyncEngine listener cannot be null"),w(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(e.toTarget())];case 2:return i=o.sent(),s=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(e,t,"current"===s)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(i),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},e.prototype.initializeViewAndComputeSnapshot=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return r=o.sent(),i=new Ni(e,r.remoteKeys),s=i.computeDocChanges(r.documents),a=Zr.createSynthesizedTargetChangeForCurrentChange(t,n&&this.onlineState!==Or.Offline),w(0===(u=i.applyChanges(s,!0===this.isPrimary,a)).limboChanges.length,"View returned limbo docs before target ack from the server."),w(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new Mi(e,t,i),this.queryViewsByQuery.set(e,c),this.queriesByTarget[t]||(this.queriesByTarget[t]=[]),this.queriesByTarget[t].push(e),[2,u.snapshot]}}))}))},e.prototype.synchronizeViewAndComputeSnapshot=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e.query,!0)];case 1:return t=r.sent(),n=e.view.synchronizeWithPersistedState(t),this.isPrimary&&this.updateTrackedLimbos(e.targetId,n.limboChanges),[2,n]}}))}))},e.prototype.unlisten=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("unlisten()"),w(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),(n=this.queriesByTarget[t.targetId]).length>1?(this.queriesByTarget[t.targetId]=n.filter((function(t){return!t.isEqual(e)})),this.queryViewsByQuery.delete(e),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseTarget(t.targetId,!1).then((function(){r.sharedClientState.clearQueryState(t.targetId),r.remoteStore.unlisten(t.targetId),r.removeAndCleanupTarget(t.targetId)})).catch(Vn)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(t.targetId),[4,this.localStore.releaseTarget(t.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},e.prototype.write=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},e.prototype.runTransaction=function(e,t,n){new Pi(e,this.remoteStore,t,n).run()},e.prototype.applyRemoteEvent=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),A(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(w(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),t.addedDocuments.size>0?r.receivedDocument=!0:t.modifiedDocuments.size>0?w(r.receivedDocument,"Received change for limbo target document without add."):t.removedDocuments.size>0&&(w(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,Vn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===Rr.RemoteStore||!this.isPrimary&&t===Rr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,r){var i=r.view.applyOnlineStateChange(e);w(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new Ie(de.comparator)).insert(r,new Kt(r,xe.forDeletedDoc())),s=je().add(r),a=new Jr(xe.MIN,{},new ke(X),i,s),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return[4,this.localStore.releaseTarget(e,!1).then((function(){return u.removeAndCleanupTarget(e,t)})).catch(Vn)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},e.prototype.applyBatchState=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(m("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):y("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},e.prototype.applySuccessfulWrite=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Vn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.rejectFailedWrite=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Vn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.registerPendingWritesCallback=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||m("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?(e.resolve(),[2]):((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n),[2])}}))}))},e.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},e.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new S(E.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Ie(X)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(w(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupTarget=function(e,t){var n=this;void 0===t&&(t=null),this.sharedClientState.removeLocalQueryTarget(e),w(this.queriesByTarget[e]&&0!==this.queriesByTarget[e].length,"There are no queries mapped to target id "+e);for(var r=0,i=this.queriesByTarget[e];r<i.length;r++){var s=i[r];this.queryViewsByQuery.delete(s),t&&this.syncEngineListener.onWatchError(s,t)}if(delete this.queriesByTarget[e],this.isPrimary){var o=this.limboDocumentRefs.referencesForId(e);this.limboDocumentRefs.removeReferencesForId(e),o.forEach((function(e){n.limboDocumentRefs.containsKey(e)||n.removeLimboTarget(e)}))}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i instanceof Ai)this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i);else if(i instanceof Di){m("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else y("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){m("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=ar.atPath(t.path);this.limboResolutionsByTarget[n]=new Oi(t),this.remoteStore.listen(new Dn(r.toTarget(),n,En.LimboResolution,ue.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(o,a){i.push(Promise.resolve().then((function(){var t=a.view.computeDocChanges(e);return t.needsRefill?s.localStore.executeQuery(a.query,!1).then((function(e){var n=e.documents;return a.view.computeDocChanges(n,t)})):t})).then((function(e){var i=t&&t.targetChanges[a.targetId],o=a.view.applyChanges(e,!0===s.isPrimary,i);if(s.updateTrackedLimbos(a.targetId,o.limboChanges),o.snapshot){s.isPrimary&&s.sharedClientState.updateQueryState(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=Ii.fromSnapshot(a.targetId,o.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return o.sent(),[2]}}))}))},e.prototype.assertSubscribed=function(e){w(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},e.prototype.applyPrimaryState=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s,a,u,c=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return o.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=o.sent(),r=0,i=n;r<i.length;r++)s=i[r],this.remoteStore.listen(s);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],u=Promise.resolve(),I(this.queriesByTarget,(function(e,t){c.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return c.removeAndCleanupTarget(e),c.localStore.releaseTarget(e,!0)})),c.remoteStore.unlisten(e)})),[4,u]);case 4:return o.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return o.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},e.prototype.resetLimboDocuments=function(){var e=this;I(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Ie(de.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s,a,u,c,l,h,p,d,f;return o.__generator(this,(function(o){switch(o.label){case 0:t=[],n=[],r=0,i=e,o.label=1;case 1:return r<i.length?(s=i[r],a=void 0,(u=this.queriesByTarget[s])&&0!==u.length?[4,this.localStore.releaseTarget(s,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.localStore.allocateTarget(u[0].toTarget())];case 3:a=o.sent(),c=0,l=u,o.label=4;case 4:return c<l.length?(h=l[c],w(!!(p=this.queryViewsByQuery.get(h)),"No query view found for "+h),[4,this.synchronizeViewAndComputeSnapshot(p)]):[3,7];case 5:(d=o.sent()).snapshot&&n.push(d.snapshot),o.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return w(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(s)];case 9:return w(!!(f=o.sent()),"Target for id "+s+" not found"),[4,this.localStore.allocateTarget(f)];case 10:return a=o.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(f),s,!1)];case 11:o.sent(),o.label=12;case 12:t.push(a),o.label=13;case 13:return r++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},e.prototype.synthesizeTargetToQuery=function(e){return new ar(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,sr.First,e.startAt,e.endAt)},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(s){switch(s.label){case 0:if(this.isPrimary)return m("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[e])return[3,7];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=s.sent(),i=Jr.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return s.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(e,!0)];case 5:return s.sent(),this.removeAndCleanupTarget(e,n),[3,7];case 6:y("Unexpected target state: "+t),s.label=7;case 7:return[2]}}))}))},e.prototype.applyActiveTargetsChange=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,l,h,p=this;return o.__generator(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,d.label=1;case 1:return n<r.length?(h=r[n],w(!this.queriesByTarget[h],"Trying to add an already active target"),[4,this.localStore.getTarget(h)]):[3,6];case 2:return w(!!(i=d.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateTarget(i)];case 3:return s=d.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(i),s.targetId,!1)];case 4:d.sent(),this.remoteStore.listen(s),d.label=5;case 5:return n++,[3,1];case 6:a=function(e){return o.__generator(this,(function(t){switch(t.label){case 0:return u.queriesByTarget[e]?[4,u.localStore.releaseTarget(e,!1).then((function(){p.remoteStore.unlisten(e),p.removeAndCleanupTarget(e)})).catch(Vn)]:[2,"continue"];case 1:return t.sent(),[2]}}))},u=this,c=0,l=t,d.label=7;case 7:return c<l.length?(h=l[c],[5,a(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];if(t&&t.receivedDocument)return je().add(t.key);var n=je(),r=this.queriesByTarget[e];if(!r)return n;for(var i=0,s=r;i<s.length;i++){var o=s[i],a=this.queryViewsByQuery.get(o);w(!!a,"No query view found for "+o),n=n.unionWith(a.view.syncedDocuments)}return n},e}(),Li=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),Fi="firestore_clients";function Vi(e,t){return w(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Fi+"_"+e+"_"+t}var Bi="firestore_mutations";function Ui(e,t,n){var r=Bi+"_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}var ji="firestore_targets";function qi(e,t){return ji+"_"+e+"_"+t}var $i="firestore_online_state";var Hi="firestore_sequence_number";var zi="SharedClientState",Wi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,w(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new S(i.error.code,i.error.message)),s?new e(t,n,i.state,o):(g(zi,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ki=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,w(void 0!==n==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new S(r.error.code,r.error.message)),i?new e(t,r.state,s):(g(zi,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Gi=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=$e(),o=0;i&&o<r.activeTargetIds.length;++o)i=ir(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new e(t,s):(g(zi,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Qi=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"==typeof n&&n.onlineState in Or&&"string"==typeof n.clientId?new e(n.clientId,Or[n.onlineState]):(g(zi,"Failed to parse online state: "+t),null)},e}(),Yi=function(){function e(){this.activeTargetIds=$e()}return e.prototype.addQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Xi=function(){function e(t,n,r,i,s){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new S(E.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=s,this.localClientStorageKey=Vi(this.persistenceKey,this.localClientId),this.sequenceNumberKey=function(e){return Hi+"_"+e}(this.persistenceKey),this.activeClients[this.localClientId]=new Yi,this.clientStateKeyRe=new RegExp("^"+Fi+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Bi+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+ji+"_"+o+"_(\\d+)$"),this.onlineStateKey=function(e){return $i+"_"+e}(this.persistenceKey),this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,i,s,a,u,c,l,h,p=this;return o.__generator(this,(function(o){switch(o.label){case 0:return w(!this.started,"WebStorageSharedClientState already started"),w(null!==this.syncEngine,"syncEngine property must be set before calling start()"),w(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=o.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(Vi(this.persistenceKey,r)))&&(s=Gi.fromWebStorageEntry(r,i))&&(this.activeClients[s.clientId]=s);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)h=l[c],this.handleWebStorageEvent(h);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return p.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=$e();return A(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(qi(this.persistenceKey,e));if(n){var r=Ki.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(qi(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return m(zi,"READ",e,t),t},e.prototype.setItem=function(e,t){m(zi,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){m(zi,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(m(zi,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,n,r,i,s,a;return o.__generator(this,(function(o){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(s=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(s)]}else e.key===this.sequenceNumberKey&&(w(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=ue.INVALID;if(null!=e)try{var n=JSON.parse(e);w("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(r){g(zi,"Failed to read sequence number from WebStorage",r)}return t}(e.newValue))!==ue.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new Wi(this.currentUser,e,t,n),i=Ui(this.persistenceKey,this.currentUser,e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=Ui(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:Or[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=qi(this.persistenceKey,e),i=new Ki(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return w(null!==n,"Cannot parse client state key '"+e+"'"),Gi.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);w(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Wi.fromWebStorageEntry(new Li(i),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);w(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Ki.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return Qi.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return e.user.uid!==this.currentUser.uid?(m(zi,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),s=[],a=[];return i.forEach((function(e){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(t){return r.has(e)||s.push(e),[2]}))}))})),r.forEach((function(e){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(t){return i.has(e)||a.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(s,a)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}();var Ji=function(){function e(){this.localState=new Yi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new Yi,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),Zi=function(){function e(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}return e.prototype.lruParams=function(){return qn.withCacheSize(this.cacheSizeBytes)},e}(),es=function(){},ts=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=Y.newId()}return e.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new fe,r=new fe,i=!1;return this.credentials.setChangeListener((function(s){i?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(s)})):(i=!0,t.initializePersistence(e,r,s).then((function(e){return t.initializeRest(s,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},e.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Zi?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof S?e.code===E.FAILED_PRECONDITION||e.code===E.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new S(E.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=Gn.buildStoragePrefix(this.databaseInfo),i=new Si(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,s;return o.__generator(this,(function(o){switch(o.label){case 0:if(t.synchronizeTabs&&!Xi.isAvailable(this.platform))throw new S(E.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Xi(this.asyncQueue,this.platform,r,this.clientId,e):new Ji,[4,Gn.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return s=o.sent(),this.persistence=s,[2,s.referenceDelegate.garbageCollector]}}))}))}))},e.prototype.startMemoryPersistence=function(){return this.persistence=xr.createEagerPersistence(this.clientId),this.sharedClientState=new Ji,Promise.resolve(null)},e.prototype.initializeRest=function(e,t){var n=this;return m("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return o.__awaiter(n,void 0,void 0,(function(){var n,i,s,a,u,c,l=this;return o.__generator(this,(function(h){switch(h.label){case 0:return n=new _r,this.localStore=new Fn(this.persistence,n,e),[4,this.localStore.start()];case 1:return h.sent(),t&&(this.lruScheduler=new $n(t,this.asyncQueue,this.localStore)),i=this.platform.newConnectivityMonitor(),s=this.platform.newSerializer(this.databaseInfo.databaseId),a=new Br(this.asyncQueue,r,this.credentials,s),u=function(e){return l.syncEngine.applyOnlineStateChange(e,Rr.RemoteStore)},c=function(e){return l.syncEngine.applyOnlineStateChange(e,Rr.SharedClientState)},this.remoteStore=new ui(this.localStore,a,this.asyncQueue,u,i),this.syncEngine=new Ri(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=c,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Ti(this.syncEngine),[4,this.sharedClientState.start()];case 2:return h.sent(),[4,this.remoteStore.start()];case 3:return h.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return o.__awaiter(l,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return h.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return o.__awaiter(l,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 5:return h.sent(),[2]}}))}))}))},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),m("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},e.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},e.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new fe;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var i=new xi(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},e.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof Wt)return e;if(e instanceof Kt)return null;throw new S(E.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return t=i.sent(),n=new Ni(e,t.remoteKeys),r=n.computeDocChanges(t.documents),[2,n.applyChanges(r,!1).snapshot]}}))}))}))},e.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new fe;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},e.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(e.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new fe;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},e}(),ns=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),rs=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+Q(r,"element")+".")}("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(O("FieldPath","string",n,e[n]),0===e[n].length)throw new S(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pe(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(pe.keyField().canonicalString()),e}(),is=new RegExp("[~\\*/\\[\\]]");var ss=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},os=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){w(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(Li.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){w(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),as=function(){function e(e){var t=this;this.tokenListener=null,this.currentUser=Li.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.tokenListener):(this.tokenListener(null),e.get().then((function(e){t.auth=e,t.tokenListener&&t.auth.addAuthTokenListener(t.tokenListener)}),(function(){})))}return e.prototype.getToken=function(){var e=this;w(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new S(E.ABORTED,"getToken aborted due to token change.");return n?(w("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new ss(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){w(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){w(null!=this.tokenListener,"removeChangeListener() called twice"),w(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.auth&&this.auth.getUid();return w(null===e||"string"==typeof e,"Received invalid UID: "+e),new Li(e)},e}(),us=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=Li.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),e}(),cs=function(){function e(e,t){this.gapi=e,this.sessionIndex=t}return e.prototype.getToken=function(){return Promise.resolve(new us(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(Li.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function ls(e){if(!e)return new os;switch(e.type){case"gapi":var t=e.client;return w(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new cs(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new S(E.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function hs(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=t;r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(e,["next","error","complete"])}var ps,ds=function(){function e(e){this._methodName=e}return e.delete=function(){return N("FieldValue.delete",arguments),fs.instance},e.serverTimestamp=function(){return N("FieldValue.serverTimestamp",arguments),ms.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return P("FieldValue.arrayUnion",arguments,1),new gs(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return P("FieldValue.arrayRemove",arguments,1),new vs(e)},e.increment=function(e){return O("FieldValue.increment","number",1,e),k("FieldValue.increment",arguments,1),new ys(e)},e.prototype.isEqual=function(e){return this===e},e}(),fs=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return o.__extends(t,e),t.instance=new t,t}(ds),ms=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(t,e),t.instance=new t,t}(ds),gs=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return o.__extends(t,e),t}(ds),vs=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return o.__extends(t,e),t}(ds),ys=function(e){function t(t){var n=e.call(this,"FieldValue.increment")||this;return n._operand=t,n}return o.__extends(t,e),t}(ds),ws=C(ds,"Use FieldValue.<field>() instead."),bs=/^__.*__$/,_s=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Tt(e,this.data,this.fieldMask,t)):n.push(new Ct(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new xt(e,this.fieldTransforms)),n},e}(),Es=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new Tt(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new xt(e,this.fieldTransforms)),n},e}();function Ss(e){switch(e){case ps.Set:case ps.MergeSet:case ps.Update:return!0;case ps.Argument:case ps.ArrayArgument:return!1;default:throw y("Unexpected case for UserDataSource: "+e)}}!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument",e[e.ArrayArgument=4]="ArrayArgument"}(ps||(ps={}));var Cs=function(){function e(e,t,n,r,i,s){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=s||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new S(E.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(Ss(this.dataSource)&&bs.test(e))throw this.createError('Document fields cannot begin and end with "__"')},e}(),Ts=function(e,t){this.databaseId=e,this.key=t},xs=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new Cs(ps.Set,e,pe.EMPTY_PATH);As("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new _s(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new Cs(ps.MergeSet,e,pe.EMPTY_PATH);As("Data must be an object, but it was:",r,t);var i,s,o=this.parseData(t,r);if(n){for(var a=new ke(pe.comparator),u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof rs)h=l._internalPath;else{if("string"!=typeof l)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=Ns(e,l)}if(!r.contains(h))throw new S(E.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=vt.fromSet(a),s=r.fieldTransforms.filter((function(e){return i.covers(e.field)}))}else i=vt.fromArray(r.fieldMask),s=r.fieldTransforms;return new _s(o,i,s)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new Cs(ps.Update,e,pe.EMPTY_PATH);As("Data must be an object, but it was:",r,t);var i=new ke(pe.comparator),s=$t.EMPTY;A(t,(function(t,o){var a=Ns(e,t),u=r.childContextForFieldPath(a);if((o=n.runPreConverter(o,u))instanceof fs)i=i.add(a);else{var c=n.parseData(o,u);null!=c&&(i=i.add(a),s=s.set(a,c))}}));var o=vt.fromSet(i);return new Es(s,o,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new Cs(ps.Update,e,pe.EMPTY_PATH),s=[Ds(e,t)],o=[n];if(r.length%2!=0)throw new S(E.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)s.push(Ds(e,r[a])),o.push(r[a+1]);var u=new ke(pe.comparator),c=$t.EMPTY;for(a=0;a<s.length;++a){var l=s[a],h=i.childContextForFieldPath(l),p=this.runPreConverter(o[a],h);if(p instanceof fs)u=u.add(l);else{var d=this.parseData(p,h);null!=d&&(u=u.add(l),c=c.set(l,d))}}var f=vt.fromSet(u);return new Es(c,f,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t,n){void 0===n&&(n=!1);var r=new Cs(n?ps.ArrayArgument:ps.Argument,e,pe.EMPTY_PATH),i=this.parseData(t,r);return w(null!=i,"Parsed data should not be null."),w(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(r){var n=ks(r);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(Is(e=this.runPreConverter(e,t)))return As("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof ds)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement&&t.dataSource!==ps.ArrayArgument)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new Ie(X);return D(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):A(e,(function(e,i){var s=n.parseData(i,t.childContextForField(e));null!=s&&(r=r.insert(e,s))})),new $t(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,s=e;i<s.length;i++){var o=s[i],a=this.parseData(o,t.childContextForArray(r));null==a&&(a=kt.INSTANCE),n.push(a),r++}return new Ht(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!Ss(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof fs){if(t.dataSource!==ps.MergeSet)throw t.dataSource===ps.Update?(w(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof ms)t.fieldTransforms.push(new yt(t.path,li.instance));else if(e instanceof gs){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new hi(n);t.fieldTransforms.push(new yt(t.path,r))}else if(e instanceof vs){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new pi(n);t.fieldTransforms.push(new yt(t.path,i))}else if(e instanceof ys){var s=this.parseQueryValue("FieldValue.increment",e._operand),o=new di(s);t.fieldTransforms.push(new yt(t.path,o))}else y("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return kt.INSTANCE;if("number"==typeof e)return ir(e)?new Rt(e):new Lt(e);if("boolean"==typeof e)return Pt.of(e);if("string"==typeof e)return new Ft(e);if(e instanceof Date)return new Vt(Te.fromDate(e));if(e instanceof Te)return new Vt(new Te(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof ci)return new qt(e);if(e instanceof re)return new Ut(e);if(e instanceof Ts)return new jt(e.databaseId,e.key);throw t.createError("Unsupported field value: "+$(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var i=new Cs(ps.Argument,e,pe.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))}))},e}();function Is(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Te||e instanceof ci||e instanceof re||e instanceof Ts||e instanceof ds)}function As(e,t,n){if(!Is(n)||!q(n)){var r=$(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Ds(e,t){if(t instanceof rs)return t._internalPath;if("string"==typeof t)return Ns(e,t);throw new S(E.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Ns(e,t){try{return function(e){if(e.search(is)>=0)throw new S(E.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(rs.bind.apply(rs,o.__spreadArrays([void 0],e.split("."))))}catch(t){throw new S(E.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(r){var n=ks(r);throw new S(E.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function ks(e){return e instanceof Error?e.message:e.toString()}var Ps="firestore.googleapis.com",Ms=!0,Os=!0,Rs=!1,Ls=qn.COLLECTION_DISABLED,Fs=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new S(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ps,this.ssl=Ms}else L("settings","non-empty string","host",e.host),this.host=e.host,F("settings","boolean","ssl",e.ssl),this.ssl=x(e.ssl,Ms);if(z("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),F("settings","object","credentials",e.credentials),this.credentials=e.credentials,F("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=x(e.timestampsInSnapshots,Os),F("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=qn.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Ls&&e.cacheSizeBytes<qn.MINIMUM_CACHE_SIZE_BYTES)throw new S(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+qn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}F("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0===e.experimentalForceLongPolling?Rs:e.experimentalForceLongPolling}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},e}(),Vs=function(){function e(t,n){var r=this;if(this._firebaseApp=null,this._queue=new ge,this.INTERNAL={delete:function(){return o.__awaiter(r,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof t.options){var i=t;this._firebaseApp=i,this._databaseId=e.databaseIdFromApp(i),this._persistenceKey=i.name,this._credentials=new as(n)}else{var s=t;if(!s.projectId)throw new S(E.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new ae(s.projectId,s.database),this._persistenceKey="[DEFAULT]",this._credentials=new os}this._settings=new Fs({}),this._dataConverter=this.createDataConverter(this._databaseId)}return e.prototype.settings=function(e){if(k("Firestore.settings",arguments,1),O("Firestore.settings","object",1,e),T(e,"persistence"))throw new S(E.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Fs(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=t,void 0!==t.credentials&&(this._credentials=ls(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new S(E.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=x(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Zi(this._settings.cacheSizeBytes,t))},e.prototype.clearPersistence=function(){var e=this,t=Gn.buildStoragePrefix(this.makeDatabaseInfo()),n=new fe;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return o.__awaiter(e,void 0,void 0,(function(){var e;return o.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new S(E.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Gn.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),hs(e))return this.onSnapshotsInSyncInternal(e);O("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},e.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new ns({next:function(){e.next&&e.next()},error:function(e){throw y("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new es),this._firestoreClient},e.prototype.makeDatabaseInfo=function(){return new se(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},e.prototype.configureClient=function(e){w(!!this._settings.host,"FirestoreSettings.host is not set"),w(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new ts(b.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},e.prototype.createDataConverter=function(e){return new xs((function(t){if(t instanceof js){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new S(E.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Ts(e,t._key)}return t}))},e.databaseIdFromApp=function(e){var t=e.options;if(!T(t,"projectId"))throw new S(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new S(E.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ae(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._firebaseApp)throw new S(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){return k("Firestore.collection",arguments,1),O("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new Ks(le.fromString(e),this)},e.prototype.doc=function(e){return k("Firestore.doc",arguments,1),O("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),js.forPath(le.fromString(e),this)},e.prototype.collectionGroup=function(e){if(k("Firestore.collectionGroup",arguments,1),O("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new S(E.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new zs(new ar(le.EMPTY_PATH,e),this)},e.prototype.runTransaction=function(e){var t=this;return k("Firestore.runTransaction",arguments,1),O("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new Bs(t,n))}))},e.prototype.batch=function(){return this.ensureClientConfigured(),new Us(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(d()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(k("Firestore.setLogLevel",arguments,1),O("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":f(i.DEBUG);break;case"error":f(i.ERROR);break;case"silent":f(i.SILENT);break;default:throw new S(E.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},e}(),Bs=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;k("Transaction.get",arguments,1);var n=Xs("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return y("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof Kt)return new $s(t._firestore,n._key,null,!1,!1,n._converter);if(r instanceof Wt)return new $s(t._firestore,n._key,r,!1,!1,n._converter);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},e.prototype.set=function(e,t,n){M("Transaction.set",arguments,2,3);var r=Xs("Transaction.set",e,this._firestore);n=Gs("Transaction.set",n);var i=Zs(r._converter,t,"Transaction.set"),s=i[0],o=i[1],a=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(o,s,n.mergeFields):this._firestore._dataConverter.parseSetData(o,s);return this._transaction.set(r._key,a),this},e.prototype.update=function(e,t,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof t||t instanceof rs?(P("Transaction.update",arguments,3),r=Xs("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,s)):(k("Transaction.update",arguments,2),r=Xs("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},e.prototype.delete=function(e){k("Transaction.delete",arguments,1);var t=Xs("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),Us=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){M("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Xs("WriteBatch.set",e,this._firestore);n=Gs("WriteBatch.set",n);var i=Zs(r._converter,t,"WriteBatch.set"),s=i[0],o=i[1],a=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(o,s,n.mergeFields):this._firestore._dataConverter.parseSetData(o,s);return this._mutations=this._mutations.concat(a.toMutations(r._key,Et.NONE)),this},e.prototype.update=function(e,t,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.verifyNotCommitted(),"string"==typeof t||t instanceof rs?(P("WriteBatch.update",arguments,3),r=Xs("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,s)):(k("WriteBatch.update",arguments,2),r=Xs("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,Et.exists(!0))),this},e.prototype.delete=function(e){k("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Xs("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new It(t._key,Et.NONE)),this},e.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new S(E.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),js=function(){function e(e,t,n){this._key=e,this.firestore=t,this._converter=n,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n,r){if(t.length%2!=0)throw new S(E.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new de(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ks(this._key.path.popLast(),this.firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(k("DocumentReference.collection",arguments,1),O("DocumentReference.collection","non-empty string",1,e),!e)throw new S(E.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=le.fromString(e);return new Ks(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)&&this._converter===t._converter},e.prototype.set=function(e,t){M("DocumentReference.set",arguments,1,2),t=Gs("DocumentReference.set",t);var n=Zs(this._converter,e,"DocumentReference.set"),r=n[0],i=n[1],s=t.merge||t.mergeFields?this.firestore._dataConverter.parseMergeData(i,r,t.mergeFields):this.firestore._dataConverter.parseSetData(i,r);return this._firestoreClient.write(s.toMutations(this._key,Et.NONE))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof rs?(P("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(k("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,Et.exists(!0)))},e.prototype.delete=function(){return k("DocumentReference.delete",arguments,0),this._firestoreClient.write([new It(this._key,Et.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];M("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||hs(e[i])||(z("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),F("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var s={includeMetadataChanges:r.includeMetadataChanges};return hs(e[i])?n=e[i]:(O("DocumentReference.onSnapshot","function",i,e[i]),R("DocumentReference.onSnapshot","function",i+1,e[i+1]),R("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(s,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new ns({next:function(e){if(t.next){w(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new $s(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites,n._converter))}},error:r}),s=this._firestoreClient.listen(ar.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(s)}},e.prototype.get=function(e){var t=this;return M("DocumentReference.get",arguments,0,1),Ys("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new $s(t.firestore,t._key,e,!0,e instanceof Wt&&e.hasLocalMutations,t._converter))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new S(E.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new S(E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e.prototype.withConverter=function(t){return new e(this._key,this.firestore,t)},e}(),qs=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),$s=function(){function e(e,t,n,r,i,s){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i,this._converter=s}return e.prototype.data=function(e){if(M("DocumentSnapshot.data",arguments,0,1),e=Qs("DocumentSnapshot.data",e),this._document){if(this._converter){var t=new Hs(this._firestore,this._key,this._document,this._fromCache,this._hasPendingWrites);return this._converter.fromFirestore(t,e)}return this.toJSObject(this._document.data(),Dt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},e.prototype.get=function(e,t){if(M("DocumentSnapshot.get",arguments,1,2),t=Qs("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(Ds("DocumentSnapshot.get",e));if(null!==n)return this.toJSValue(n,Dt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new js(this._key,this._firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new qs(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))&&this._converter===t._converter},e.prototype.toJSObject=function(e,t){var n=this,r={};return e.forEach((function(e,i){r[e]=n.toJSValue(i,t)})),r},e.prototype.toJSValue=function(e,t){if(e instanceof $t)return this.toJSObject(e,t);if(e instanceof Ht)return this.toJSArray(e,t);if(e instanceof jt){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||g("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new js(n,this._firestore,this._converter)}return e.value(t)},e.prototype.toJSArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.toJSValue(e,t)}))},e}(),Hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return w(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},t}($s),zs=function(){function e(e,t,n){this._query=e,this.firestore=t,this._converter=n}return e.prototype.where=function(t,n,r){k("Query.where",arguments,3),H("Query.where",3,r);var i,s=["<","<=","==",">=",">","array-contains","in","array-contains-any"];U("Query.where",s,2,n);var o=Ds("Query.where",t),a=cr.fromString(n);if(o.isKeyField()){if(a===cr.ARRAY_CONTAINS||a===cr.ARRAY_CONTAINS_ANY)throw new S(E.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===cr.IN){this.validateDisjunctiveFilterElements(r,a);for(var u=[],c=0,l=r;c<l.length;c++){var h=l[c];u.push(this.parseDocumentIdValue(h))}i=new Ht(u)}else i=this.parseDocumentIdValue(r)}else a!==cr.IN&&a!==cr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),i=this.firestore._dataConverter.parseQueryValue("Query.where",r,a===cr.IN);var p=lr.create(o,a,i);return this.validateNewFilter(p),new e(this._query.addFilter(p),this.firestore,this._converter)},e.prototype.orderBy=function(t,n){var r;if(M("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=gr.ASCENDING;else{if("desc"!==n)throw new S(E.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=gr.DESCENDING}if(null!==this._query.startAt)throw new S(E.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new S(E.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Ds("Query.orderBy",t),s=new yr(i,r);return this.validateNewOrderBy(s),new e(this._query.addOrderBy(s),this.firestore,this._converter)},e.prototype.limit=function(t){return k("Query.limit",arguments,1),O("Query.limit","number",1,t),K("Query.limit",1,t),new e(this._query.withLimitToFirst(t),this.firestore,this._converter)},e.prototype.limitToLast=function(t){return k("Query.limitToLast",arguments,1),O("Query.limitToLast","number",1,t),K("Query.limitToLast",1,t),new e(this._query.withLimitToLast(t),this.firestore,this._converter)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore,this._converter)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore,this._converter)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore,this._converter)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore,this._converter)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.withConverter=function(t){return new e(this._query,this.firestore,t)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(H(e,1,t),t instanceof $s){if(n.length>0)throw new S(E.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new S(E.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var s=[t].concat(n);return this.boundFromFields(e,s,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,s=this._query.orderBy;i<s.length;i++){var o=s[i];if(o.field.isKeyField())r.push(new jt(this.firestore._databaseId,t.key));else{var a=t.field(o.field);if(a instanceof Bt)throw new S(E.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var u=o.field.canonicalString();throw new S(E.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(a)}}return new vr(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new S(E.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],s=0;s<t.length;s++){var o=t[s];if(r[s].field.isKeyField()){if("string"!=typeof o)throw new S(E.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof o);if(!this._query.isCollectionGroupQuery()&&-1!==o.indexOf("/"))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+o+"' contains a slash.");var a=this._query.path.child(le.fromString(o));if(!de.isDocumentKey(a))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new de(a);i.push(new jt(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,o);i.push(c)}}return new vr(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];M("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||hs(e[i])||(z("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),F("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),hs(e[i])?n=e[i]:(O("Query.onSnapshot","function",i,e[i]),R("Query.onSnapshot","function",i+1,e[i+1]),R("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new ns({next:function(e){t.next&&t.next(new Ws(n.firestore,n._query,e,n._converter))},error:r}),s=this.firestore.ensureClientConfigured(),o=s.listen(this._query,i,e);return function(){i.mute(),s.unlisten(o)}},e.prototype.validateHasExplicitOrderByForLimitToLast=function(e){if(e.hasLimitToLast()&&0===e.explicitOrderBy.length)throw new S(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},e.prototype.get=function(e){var t=this;return M("Query.get",arguments,0,1),Ys("Query.get",e),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new Ws(t.firestore,t._query,e,t._converter))}),r):t.getViaSnapshotListener(n,r,e)}))},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new S(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(le.fromString(e));if(!de.isDocumentKey(t))throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new jt(this.firestore._databaseId,new de(t))}if(e instanceof js){var n=e;return new jt(this.firestore._databaseId,n._key)}throw new S(E.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+$(e)+".")},e.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new S(E.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new S(E.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(e.indexOf(null)>=0)throw new S(E.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new S(E.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},e.prototype.validateNewFilter=function(e){if(e instanceof lr){var t=[cr.ARRAY_CONTAINS,cr.ARRAY_CONTAINS_ANY],n=[cr.IN,cr.ARRAY_CONTAINS_ANY],r=t.indexOf(e.op)>=0,i=n.indexOf(e.op)>=0;if(e.isInequality()){var s=this._query.getInequalityFilterField();if(null!==s&&!s.isEqual(e.field))throw new S(E.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+s.toString()+"' and '"+e.field.toString()+"'");var o=this._query.getFirstOrderByField();null!==o&&this.validateOrderByAndInequalityMatch(e.field,o)}else if(i||r){var a=null;if(i&&(a=this._query.findFilterOperator(n)),null===a&&r&&(a=this._query.findFilterOperator(t)),null!=a)throw a===e.op?new S(E.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new S(E.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new S(E.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),Ws=function(){function e(e,t,n,r){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._converter=r,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new qs(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;M("QuerySnapshot.forEach",arguments,1,2),O("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new zs(this._originalQuery,this._firestore,this._converter)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(z("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),F("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new S(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n,r){if(n.oldDocs.isEmpty()){var i,s=0;return n.docChanges.map((function(t){var o=new Hs(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key),r);return w(t.type===Wr.Added,"Invalid event type for first snapshot"),w(!i||n.query.docComparator(i,t.doc)<0,"Got added events in wrong order"),i=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:s++}}))}var o=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==Wr.Metadata})).map((function(t){var i=new Hs(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key),r),s=-1,a=-1;return t.type!==Wr.Added&&(w((s=o.indexOf(t.doc.key))>=0,"Index for document not found"),o=o.delete(t.doc.key)),t.type!==Wr.Removed&&(a=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:Js(t.type),doc:i,oldIndex:s,newIndex:a}}))}(this._firestore,t,this._snapshot,this._converter),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw W("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)&&this._converter===t._converter},e.prototype.convertToDocumentImpl=function(e){return new Hs(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key),this._converter)},e}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(Ws.prototype.docChanges,e,{get:function(){return function(){throw new S(E.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var Ks=function(e){function t(t,n,r){var i=e.call(this,ar.atPath(t),n,r)||this;if(i._path=t,t.length%2!=1)throw new S(E.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return i}return o.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new js(new de(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(M("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=Y.newId()),O("CollectionReference.doc","non-empty string",1,e),""===e)throw new S(E.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=le.fromString(e);return js.forPath(this._query.path.child(t),this.firestore,this._converter)},t.prototype.add=function(e){k("CollectionReference.add",arguments,1);var t=this._converter?this._converter.toFirestore(e):e;O("CollectionReference.add","object",1,t);var n=this.doc();return n.set(e).then((function(){return n}))},t.prototype.withConverter=function(e){return new t(this._path,this.firestore,e)},t}(zs);function Gs(e,t){if(void 0===t)return{merge:!1};if(z(e,t,["merge","mergeFields"]),F(e,"boolean","merge",t.merge),V(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(e){return"string"==typeof e||e instanceof rs})),void 0!==t.mergeFields&&void 0!==t.merge)throw new S(E.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Qs(e,t){return void 0===t?{}:(z(e,t,["serverTimestamps"]),B(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Ys(e,t){R(e,"object",1,t),t&&(z(e,t,["source"]),B(e,0,"source",t.source,["default","server","cache"]))}function Xs(e,t,n){if(t instanceof js){if(t.firestore!==n)throw new S(E.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw W(e,"DocumentReference",1,t)}function Js(e){switch(e){case Wr.Added:return"added";case Wr.Modified:case Wr.Metadata:return"modified";case Wr.Removed:return"removed";default:return y("Unknown change type: "+e)}}function Zs(e,t,n){var r;return e?(r=e.toFirestore(t),n="toFirestore() in "+n):r=t,[r,n]}var eo=C(Vs,"Use firebase.firestore() instead."),to=C(Bs,"Use firebase.firestore().runTransaction() instead."),no=C(Us,"Use firebase.firestore().batch() instead."),ro=C(js,"Use firebase.firestore().doc() instead."),io=C($s),so=C(Hs),oo=C(zs),ao=C(Ws),uo=C(Ks,"Use firebase.firestore().collection() instead."),co={Firestore:eo,GeoPoint:ci,Timestamp:Te,Blob:ie,Transaction:to,WriteBatch:no,DocumentReference:ro,DocumentSnapshot:io,Query:oo,QueryDocumentSnapshot:so,QuerySnapshot:ao,CollectionReference:uo,FieldPath:rs,FieldValue:ws,setLogLevel:Vs.setLogLevel,CACHE_SIZE_UNLIMITED:Ls};function lo(e){e.INTERNAL.registerComponent(new c.Component("firestore",(function(e){var t=e.getProvider("app").getImmediate();return new Vs(t,e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(function(e){w(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(co)))}var ho=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.shutdown=function(){},e}(),po=function(){function e(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return e.prototype.addCallback=function(e){this.callbacks.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},e.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},e.prototype.onNetworkAvailable=function(){m("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(0)}},e.prototype.onNetworkUnavailable=function(){m("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++){(0,t[e])(1)}},e.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),fo=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){w(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){w(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){w(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){w(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){w(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){w(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),mo="Connection",go={BatchGetDocuments:"batchGet",Commit:"commit"},vo="gl-js/ fire/"+h,yo=function(){function e(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=vo},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise((function(s,a){var u=new l.XhrIo;u.listenOnce(l.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case l.ErrorCode.NO_ERROR:var t=u.getResponseJson();m(mo,"XHR received:",JSON.stringify(t)),s(t);break;case l.ErrorCode.TIMEOUT:m(mo,'RPC "'+e+'" timed out'),a(new S(E.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(m(mo,'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=(o=r.status,c=o.toLowerCase().replace("_","-"),Object.values(E).indexOf(c)>=0?c:E.UNKNOWN);a(new S(i,r.message))}else a(new S(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else m(mo,'RPC "'+e+'" failed'),a(new S(E.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+e+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{m(mo,'RPC "'+e+'" completed.')}var o,c}));var c=o.__assign({},t);delete c.database;var h=JSON.stringify(c);m(mo,"XHR sending: ",i+" "+h);var p={"Content-Type":"text/plain"};r.modifyHeadersForRequest(p,n),u.send(i,"POST",h,p,15)}))},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=l.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),u.isReactNative()||u.isElectron()||u.isIE()||u.isUWP()||u.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");m(mo,"Creating WebChannel: "+s+" "+i);var o=r.createWebChannel(s,i),a=!1,c=!1,h=new fo({sendFn:function(e){c?m(mo,"Not sending because WebChannel is closed:",e):(a||(m(mo,"Opening WebChannel transport."),o.open(),a=!0),m(mo,"WebChannel sending:",e),o.send(e))},closeFn:function(){return o.close()}}),p=function(e,t){o.listen(e,(function(e){try{t(e)}catch(n){setTimeout((function(){throw n}),0)}}))};return p(l.WebChannel.EventType.OPEN,(function(){c||m(mo,"WebChannel transport opened.")})),p(l.WebChannel.EventType.CLOSE,(function(){c||(c=!0,m(mo,"WebChannel transport closed"),h.callOnClose())})),p(l.WebChannel.EventType.ERROR,(function(e){c||(c=!0,m(mo,"WebChannel transport errored:",e),h.callOnClose(new S(E.UNAVAILABLE,"The operation could not be completed")))})),p(l.WebChannel.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];w(!!n,"Got a webchannel message without data.");var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){m(mo,"WebChannel received error:",i);var s=i.status,a=function(e){var t=jr[e];if(void 0!==t)return Hr(t)}(s),u=i.message;void 0===a&&(a=E.INTERNAL,u="Unknown error status: "+s+" with message "+i.message),c=!0,h.callOnClose(new S(a,u)),o.close()}else m(mo,"WebChannel received:",n),h.callOnMessage(n)}})),setTimeout((function(){h.callOnOpen()}),0),h},e.prototype.makeUrl=function(e){var t=go[e];return w(void 0!==t,"Unknown REST mapping for: "+e),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+t},e}(),wo=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new yo(e))},e.prototype.newConnectivityMonitor=function(){return po.isAvailable()?new po:new ho},e.prototype.newSerializer=function(e){return new Si(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();b.setPlatform(new wo);var bo="@firebase/firestore",_o="1.10.2";function Eo(e){lo(e),e.registerVersion(bo,_o)}Eo(s),t.registerFirestore=Eo},BGiY:function(e,t,n){"use strict";n.r(t),t.default='<div id="d-flex justify-content-center" class="col-md-12 mx-auto">\n    <nav class="navbar navbar-expand-lg navbar-light bg-light rounded">\n        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample10" aria-controls="navbarsExample10" aria-expanded="false" aria-label="Toggle navigation">\n          <span class="navbar-toggler-icon"></span>\n        </button>\n\n        <div class="collapse navbar-collapse justify-content-md-center" id="navbarsExample10">\n          <ul class="navbar-nav">\n            <li class="nav-item">\n              <a class="nav-link" href="/home">Home <span class="sr-only">(current)</span></a>\n            </li>\n            <li class="nav-item">\n              <a class="nav-link" href="/explore">Explore</a>\n            </li>\n            <li class="nav-item">\n                <a class="nav-link" href="/events">Events</a>\n              </li>\n              <li class="nav-item active">\n                <a class="nav-link" href="/contact">Contact<span class="sr-only">(current)</span></a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="/login">Login</a>\n              </li>\n\t\t\t  <li class="nav-item" *ngIf="isLoggedIn$ | async">\n\t\t\t\t<a class="nav-link" href="/createcontent">Create Content</a>\n\t\t\t  </li>\n          </ul>\n        </div>\n      </nav>  \t\n          \x3c!-- /#sidebar-wrapper --\x3e\n\t<div id="page-content-wrapper">\n\t\t<div class="col-md-12">\n\t\t\t<div class="jumbotron">\n\t\t\t\t<h2>\n\t\t\t\t\tContact\n\t\t\t\t</h2>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-md-8">\n\t\t\t\t\t<p>\n\t\t\t\t\t\tLorem ipsum dolor sit amet, <strong>consectetur adipiscing elit</strong>. Aliquam eget sapien sapien. Curabitur in metus urna. In hac habitasse platea dictumst. Phasellus eu sem sapien, sed vestibulum velit. Nam purus nibh, lacinia non faucibus et, pharetra in dolor. Sed iaculis posuere diam ut cursus. <em>Morbi commodo sodales nisi id sodales. Proin consectetur, nisi id commodo imperdiet, metus nunc consequat lectus, id bibendum diam velit et dui.</em> Proin massa magna, vulputate nec bibendum nec, posuere nec lacus. <small>Aliquam mi erat, aliquam vel luctus eu, pharetra quis elit. Nulla euismod ultrices massa, et feugiat ipsum consequat eu.</small>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-4">\n\t\t\t\t\t<img alt="Bootstrap Image Preview" src="https://www.layoutit.com/img/sports-q-c-140-140-3.jpg" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-md-12">\n\t\t\t\t\t<form role="form">\n\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t<label for="exampleInputEmail1">\n\t\t\t\t\t\t\t\tEmail address\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input type="email" class="form-control" id="exampleInputEmail1" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t<label for="exampleInputPassword1">\n\t\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input type="password" class="form-control" id="exampleInputPassword1" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="checkbox">\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input type="checkbox" /> Check me out\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div> \n\t\t\t\t\t\t<button type="submit" class="btn btn-primary">\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},FSU2:function(e,t,n){"use strict";n.r(t),t.default=""},GZ7V:function(e,t,n){"use strict";n.r(t),t.default='<div id="d-flex justify-content-center" class="col-md-12 mx-auto">\n    <nav class="navbar navbar-expand-lg navbar-light bg-light rounded">\n        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample10" aria-controls="navbarsExample10" aria-expanded="false" aria-label="Toggle navigation">\n          <span class="navbar-toggler-icon"></span>\n        </button>\n\n        <div class="collapse navbar-collapse justify-content-md-center " id="navbarsExample10">\n          <ul class="navbar-nav">\n            <li class="nav-item">\n              <a class="nav-link" href="/home">Home</a>\n            </li>\n            <li class="nav-item">\n              <a class="nav-link" href="/explore">Explore</a>\n            </li>\n            <li class="nav-item active">\n                <a class="nav-link" href="/events">Events <span class="sr-only">(current)</span></a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="/contact">Contact</a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="/login">Login</a>\n              </li>\n              <li class="nav-item" *ngIf="isLoggedIn$ | async">\n                <a class="nav-link" href="/createcontent">Create Content</a>\n              </li>\n          </ul>\n        </div>\n      </nav>      \n    <div class="row">\n        <div class="col-md-12">\n            <div class="carousel slide" id="carousel-719642">\n                <ol class="carousel-indicators">\n                    <li data-slide-to="0" data-target="#carousel-719642">\n                    </li>\n                    <li data-slide-to="1" data-target="#carousel-719642">\n                    </li>\n                    <li data-slide-to="2" data-target="#carousel-719642" class="active">\n                    </li>\n                </ol>\n                <div class="carousel-inner">\n                    <div class="carousel-item">\n                        <img class="d-block w-100" alt="Carousel Bootstrap First" src="https://www.layoutit.com/img/sports-q-c-1600-500-1.jpg" />\n                        <div class="carousel-caption">\n                            <h4>\n                                First Thumbnail label\n                            </h4>\n                            <p>\n                                Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n                            </p>\n                        </div>\n                    </div>\n                    <div class="carousel-item">\n                        <img class="d-block w-100" alt="Carousel Bootstrap Second" src="https://www.layoutit.com/img/sports-q-c-1600-500-2.jpg" />\n                        <div class="carousel-caption">\n                            <h4>\n                                Second Thumbnail label\n                            </h4>\n                            <p>\n                                Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n                            </p>\n                        </div>\n                    </div>\n                    <div class="carousel-item active">\n                        <img class="d-block w-100" alt="Carousel Bootstrap Third" src="https://www.layoutit.com/img/sports-q-c-1600-500-3.jpg" />\n                        <div class="carousel-caption">\n                            <h4>\n                                Third Thumbnail label\n                            </h4>\n                            <p>\n                                Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n                            </p>\n                        </div>\n                    </div>\n                </div> <a class="carousel-control-prev" href="#carousel-719642" data-slide="prev"><span class="carousel-control-prev-icon"></span> <span class="sr-only">Previous</span></a> <a class="carousel-control-next" href="#carousel-719642" data-slide="next"><span class="carousel-control-next-icon"></span> <span class="sr-only">Next</span></a>\n            </div>\n            <div id="card-676548" class="marginbanner">\n                <div class="card">\n                    <div class="card-header">\n                        <a class="card-link collapsed" data-toggle="collapse" data-parent="#card-676548" href="#card-element-155047">Collapsible Group Item #1</a>\n                    </div>\n                    <div id="card-element-155047" class="collapse">\n                        <div class="card-body">\n                            Anim pariatur cliche...\n                        </div>\n                    </div>\n                </div>\n                <div class="card">\n                    <div class="card-header">\n                        <a class="card-link collapsed" data-toggle="collapse" data-parent="#card-676548" href="#card-element-851874">Collapsible Group Item #2</a>\n                    </div>\n                    <div id="card-element-851874" class="collapse">\n                        <div class="card-body">\n                            Anim pariatur cliche...\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'},Gd4t:function(e,t,n){"use strict";n.r(t),t.default='\n<div id="d-flex justify-content-center" class="col-md-12 mx-auto">\n    <nav class="navbar navbar-expand-lg navbar-light bg-light rounded">\n        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample10" aria-controls="navbarsExample10" aria-expanded="false" aria-label="Toggle navigation">\n          <span class="navbar-toggler-icon"></span>\n        </button>\n\n        <div class="collapse navbar-collapse justify-content-md-center " id="navbarsExample10">\n          <ul class="navbar-nav">\n            <li class="nav-item active">\n              <a class="nav-link" href="/home">Home <span class="sr-only">(current)</span></a>\n            </li>\n            <li class="nav-item">\n              <a class="nav-link" href="/explore">Explore</a>\n            </li>\n            <li class="nav-item">\n                <a class="nav-link" href="/events">Events</a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="/contact">Contact</a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="/login">Login</a>\n              </li>\n              <li class="nav-item" *ngIf="isLoggedIn$ | async">\n                <a class="nav-link" href="/createcontent">Create Content</a>\n              </li>\n          </ul>\n        </div>\n      </nav>    \n    \x3c!-- /#sidebar-wrapper --\x3e\n\n    \x3c!-- Page Content --\x3e\n    <div id="page-content-wrapper">\n      <div class="container-fluid">\n        <h1 class="mt-4">Music X</h1>\n        <h4 class="mt-4">Artist Social Network</h4>\n        <br />\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ex ante, sagittis sed convallis vitae, efficitur a nulla. Nulla rhoncus velit sit amet risus fermentum, eget facilisis dolor feugiat. Aliquam euismod sed dolor at dapibus. Fusce malesuada sapien elit, eget lobortis eros posuere non. Suspendisse accumsan velit vitae bibendum volutpat. Morbi fringilla vehicula imperdiet. Fusce eget odio cursus, molestie purus eu, mollis justo.</p>\n        <p>Make sure to keep all page content within the <code>#page-content-wrapper</code>. The top navbar is optional, and just for demonstration. Just create an element with the <code>#menu-toggle</code> ID which will toggle the menu when clicked.</p>\n      </div>\n      <nav class=" navbar navbar-expand-lg navbar-light bg-light ml-auto">\n          <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown">Dropdown link</a>\n          <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">\n            <a class="dropdown-item" href="#">Action</a> <a class="dropdown-item" href="#">Another action</a> <a class="dropdown-item" href="#">Something else here</a>\n            <div class="dropdown-divider">\n            </div> <a class="dropdown-item ml-auto" href="#">Separated link</a>\n  \t\t\t\t</div>\n  \t\t\t\t<form class="form-inline">\n  \t\t\t\t\t<input class="form-control mr-sm-2 input-large search-query" type="text" />\n  \t\t\t\t\t<button class="btn btn-primary my-2 my-sm-0" type="submit">\n  \t\t\t\t\t\tSearch\n  \t\t\t\t\t</button>\n  \t\t\t\t</form>\n\t\t\t</nav>\n      <div class="container-fluid">\n        <br />\n        <p>\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ex ante, sagittis sed convallis vitae, efficitur a nulla. Nulla rhoncus velit sit amet risus fermentum, eget facilisis dolor feugiat. Aliquam euismod sed dolor at dapibus. Fusce malesuada sapien elit, eget lobortis eros posuere non. Suspendisse accumsan velit vitae bibendum volutpat. Morbi fringilla vehicula imperdiet. Fusce eget odio cursus, molestie purus eu, mollis justo.\n          Donec dictum velit purus, vel cursus nunc condimentum porta. Mauris tristique dictum nisi, quis faucibus risus euismod ut. Nullam porttitor, libero et elementum suscipit, libero quam blandit ante, at feugiat elit nisi sed tellus. Donec pellentesque pulvinar mi congue venenatis. Donec dapibus nisi eget aliquam consectetur. Aenean eget risus id augue pharetra gravida luctus vel justo. Morbi vel libero porttitor, mollis sem suscipit, elementum erat.\n          Cras turpis dolor, vulputate in dictum at, dapibus nec mi. Fusce et rhoncus lectus. Vestibulum commodo venenatis tortor, at tristique risus vulputate eget. Ut pharetra gravida maximus. Suspendisse erat est, pulvinar mollis orci convallis, tempor tempus arcu. Morbi viverra augue tempus tortor gravida, ac maximus erat fermentum. Duis ornare eget magna ut faucibus. Donec consequat ipsum nec varius mollis. Ut pharetra, ante in tempus faucibus, justo orci euismod ligula, blandit luctus arcu ex at nisi.\n        </p>\n      </div>\n    </div>\n    \x3c!-- /#page-content-wrapper --\x3e\n  </div>'},MOSE:function(e,t,n){"use strict";n.r(t),t.default=""},"Np+I":function(e,t,n){"use strict";n.r(t),t.default=""},"OLY+":function(e,t,n){"use strict";n.r(t),t.default=""},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=o);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:o,optional:!1},e),n=t.identifier,i=t.optional,s=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(s);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(u){if(i)return null;throw u}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService(o)}catch(p){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=r.__read(s.value,2),u=a[0],c=a[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService(l);c.resolve(h)}catch(p){}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return e===o?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:o:e},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=s,t.ComponentContainer=u,t.Provider=a},VzVu:function(e,t,n){"use strict";n.r(t),t.default="<router-outlet></router-outlet>"},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.8.2","app"),e.exports=i},ZTFi:function(e,t,n){"use strict";n.r(t),t.default=""},bdh1:function(e,t,n){"use strict";n.r(t),t.default=""},in5m:function(e,t,n){"use strict";n.r(t),t.default='<div id="d-flex justify-content-center" class="col-md-12 mx-auto">\n    <nav class="navbar navbar-expand-lg navbar-light bg-light rounded">\n        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample10" aria-controls="navbarsExample10" aria-expanded="false" aria-label="Toggle navigation">\n          <span class="navbar-toggler-icon"></span>\n        </button>\n\n        <div class="collapse navbar-collapse justify-content-md-center" id="navbarsExample10">\n          <ul class="navbar-nav">\n            <li class="nav-item">\n              <a class="nav-link" href="/home">Home <span class="sr-only">(current)</span></a>\n            </li>\n            <li class="nav-item">\n              <a class="nav-link" href="/explore">Explore</a>\n            </li>\n            <li class="nav-item">\n                <a class="nav-link" href="/events">Events</a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="/contact">Contact</a>\n              </li>\n              <li class="nav-item active">\n                <a class="nav-link" href="/login">Login<span class="sr-only">(current)</span></a>\n              </li>\n            <li class="nav-item" *ngIf="isLoggedIn$ | async">\n              <a class="nav-link" href="/createcontent">Create Content</a>\n            </li>\n          </ul>\n        </div>\n      </nav>  \n  <div class="authBlock">\n    <article class="card-body">\n      <h4 class="card-title text-center mb-4 mt-1">Sign in</h4>\n      <hr>\n      <p class="text-success text-center">Welcome back</p>\n      <form>\n      <div class="form-group">\n      <div class="input-group">\n        <div class="input-group-prepend">\n          <span class="input-group-text"> <i class="fa fa-user"></i> </span>\n        </div>\n        <input name="" class="form-control" placeholder="Email or login" type="text" #userName required>\n      </div> \x3c!-- input-group.// --\x3e\n      </div> \x3c!-- form-group// --\x3e\n      <div class="form-group">\n      <div class="input-group">\n        <div class="input-group-prepend">\n          <span class="input-group-text"> <i class="fa fa-lock"></i> </span>\n        </div>\n        <input class="form-control" placeholder="******" type="password" #userPassword required>\n      </div> \x3c!-- input-group.// --\x3e\n      </div> \x3c!-- form-group// --\x3e\n      <div class="form-group">\n        <input type="button" class="btn btn-primary btn-block" value="Log in" (click)="authService.SignIn(userName.value, userPassword.value)">\n        <input type="button" class="btn btn-secondary btn-block" value="Log in with Google" (click)="authService.GoogleAuth()">\n        \n\n      </div> \x3c!-- form-group// --\x3e\n      <p class="text-center">Forgot password? Contact our team via twitter or contact page!</p>\n      </form>\n    </article>\n  </div>\n</div>'},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return s})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return E})),n.d(t,"__importDefault",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(t){s(t)}}function a(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,a)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(s[0][2],n)}catch(r){l(s[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return u})),n.d(t,"setLogLevel",(function(){return c}));var i,s=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var o=i.INFO,a=function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,r(["["+o+"]  "+e.name+":"],n));break;case i.INFO:console.info.apply(console,r(["["+o+"]  "+e.name+":"],n));break;case i.WARN:console.warn.apply(console,r(["["+o+"]  "+e.name+":"],n));break;case i.ERROR:console.error.apply(console,r(["["+o+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},u=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=a,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.ERROR],e))},e}();function c(e){s.forEach((function(t){t.logLevel=e}))}},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=n("mrSG"),o=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new o.ErrorFactory("app","Firebase",c),h="@firebase/app",p="0.5.4",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),m=new u.Logger("@firebase/app"),g=function(){function e(e,t,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e),this.container=new a.ComponentContainer(t.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=s.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(p){r={error:p}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=d),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=d),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){m.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v="7.8.1";var y=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(o.contains(t,a))throw l.create("duplicate-app",{appName:a});var u=new e(n,s,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=f[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&c.push("and"),o&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void m.warn(c.join(" "))}u(new a.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},apps:null,SDK_VERSION:v,INTERNAL:{registerComponent:u,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(e=e||d,!o.contains(t,e))throw l.create("no-app",{appName:e});return t[e]}function u(a){var u,c,h=a.name;if(n.has(h))return m.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var p=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[h])throw l.create("invalid-app-argument",{appName:h});return e[h]()};void 0!==a.serviceProps&&o.deepExtend(p,a.serviceProps),r[h]=p,e.prototype[h]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?e:[])}}try{for(var d=s.__values(Object.keys(t)),f=d.next();!f.done;f=d.next()){var g=f.value;t[g]._addComponent(a)}}catch(v){u={error:v}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(g);return t.INTERNAL=s.__assign(s.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),w=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t,n=e.getComponent();return"VERSION"===(null===(t=n)||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(o.isBrowser()&&void 0!==self.firebase){m.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&m.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=y.initializeApp;y.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&m.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),_.apply(void 0,e)};var E=y;!function(e,t){e.INTERNAL.registerComponent(new a.Component("platform-logger",(function(e){return new w(e)}),"PRIVATE")),e.registerVersion(h,p,t),e.registerVersion("fire-js","")}(E),t.default=E,t.firebase=E},x7I3:function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorCode",(function(){return cr})),n.d(t,"EventType",(function(){return lr})),n.d(t,"WebChannel",(function(){return hr})),n.d(t,"XhrIo",(function(){return pr})),n.d(t,"createWebChannelTransport",(function(){return ur}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=s||{},o=i;function a(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e,t){e=e.split("."),t=t||o;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function l(){}function h(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function p(e){return"array"==h(e)}function d(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now||function(){return+new Date};function E(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.xb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.la=function(){if(!this.j&&(this.j=!0,this.G(),0))this[m]||(this[m]=++g)},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(a(e))return a(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=a(e)?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function x(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var D,N=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function k(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var M=o.navigator;if(M){var O=M.userAgent;if(O){D=O;break e}}D=""}function R(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function L(e){var t,n={};for(t in e)n[t]=e[t];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<F.length;s++)n=F[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function B(e){return B[" "](e),e}B[" "]=l;var U,j,q=k(D,"Opera"),$=k(D,"Trident")||k(D,"MSIE"),H=k(D,"Edge"),z=H||$,W=k(D,"Gecko")&&!(k(D.toLowerCase(),"webkit")&&!k(D,"Edge"))&&!(k(D,"Trident")||k(D,"MSIE"))&&!k(D,"Edge"),K=k(D.toLowerCase(),"webkit")&&!k(D,"Edge");function G(){var e=o.document;return e?e.documentMode:void 0}e:{var Q="",Y=(j=D,W?/rv:([^\);]+)(\)|;)/.exec(j):H?/Edge\/([\d\.]+)/.exec(j):$?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(j):K?/WebKit\/(\S+)/.exec(j):q?/(?:Version)[ \/]?(\S+)/.exec(j):void 0);if(Y&&(Q=Y?Y[1]:""),$){var X=G();if(null!=X&&X>parseFloat(Q)){U=String(X);break e}}U=Q}var J,Z={};function ee(e){return function(e,t){var n=Z;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=N(String(U)).split("."),r=N(String(e)).split("."),i=Math.max(n.length,r.length),s=0;0==t&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=P(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==o[2].length,0==a[2].length)||P(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}var te=o.document;J=te&&$?G()||("CSS1Compat"==te.compatMode?parseInt(U,10):5):void 0;var ne=!$||9<=Number(J),re=$&&!ee("9"),ie=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{o.addEventListener("test",l,t),o.removeEventListener("test",l,t)}catch(n){}return e}();function se(e,t){this.type=e,this.a=this.target=t,this.Ia=!0}function oe(e,t){if(se.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(W){e:{try{B(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=a(e.pointerType)?e.pointerType:ae[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}se.prototype.b=function(){this.Ia=!1},E(oe,se);var ae={2:"touch",3:"pen",4:"mouse"};oe.prototype.b=function(){oe.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,re)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var ue="closure_listenable_"+(1e6*Math.random()|0),ce=0;function le(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++ce,this.X=this.Z=!1}function he(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function pe(e){this.src=e,this.a={},this.b=0}function de(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],s=C(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(he(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function fe(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.X&&s.listener==t&&s.capture==!!n&&s.da==r)return i}return-1}pe.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.b++);var o=fe(e,t,r,i);return-1<o?(t=e[o],n||(t.Z=!1)):((t=new le(t,this.src,s,!!r,i)).Z=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function ve(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,s){if(p(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,s);return null}r=Te(r);return t&&t[ue]?t.Aa(n,r,f(i)?!!i.capture:!!i,s):ye(t,n,r,!0,i,s)}(e,t,n,r,i);if(p(t)){for(var s=0;s<t.length;s++)ve(e,t[s],n,r,i);return null}return n=Te(n),e&&e[ue]?e.za(t,n,f(r)?!!r.capture:!!r,i):ye(e,t,n,!1,r,i)}function ye(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i;if(o&&!ne)return null;var a=Se(e);if(a||(e[me]=a=new pe(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Ee,t=ne?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ie||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(be(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function we(e){if(!u(e)&&e&&!e.X){var t=e.src;if(t&&t[ue])de(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(be(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Se(t))?(de(n,e),0==n.b&&(n.src=null,t[me]=null)):he(e)}}}function be(e){return e in ge?ge[e]:ge[e]="on"+e}function _e(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&we(e),n.call(r,t)}function Ee(e,t){return!!e.X||(ne?_e(e,new oe(t,this)):_e(e,t=new oe(t||c("window.event"),this)))}function Se(e){return(e=e[me])instanceof pe?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(e){return"function"==h(e)?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function xe(){S.call(this),this.c=new pe(this),this.J=this,this.B=null}function Ie(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.X&&o.capture==n){var a=o.listener,u=o.da||o.src;o.Z&&de(e.c,o),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Ia}E(xe,S),xe.prototype[ue]=!0,(r=xe.prototype).addEventListener=function(e,t,n,r){ve(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(p(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,s);else i=f(i)?!!i.capture:!!i,r=Te(r),t&&t[ue]?(t=t.c,(n=String(n).toString())in t.a&&(-1<(r=fe(o=t.a[n],r,i,s))&&(he(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.a[n],t.b--)))):t&&(t=Se(t))&&(n=t.a[n.toString()],t=-1,n&&(t=fe(n,r,i,s)),(r=-1<t?n[t]:null)&&we(r))}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(a(e))e=new se(e,n);else if(e instanceof se)e.target=e.target||n;else{var i=e;V(e=new se(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.a=t[s];i=Ie(o,r,!0,e)&&i}if(i=Ie(o=e.a=n,r,!0,e)&&i,i=Ie(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Ie(o=e.a=t[s],r,!1,e)&&i;return i},r.G=function(){if(xe.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)he(n[r]);delete t.a[e],t.b--}}this.B=null},r.za=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},r.Aa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ae=o.JSON.stringify;function De(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ne(){this.b=this.a=null}De.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var ke,Pe=new De((function(){return new Oe}),(function(e){e.reset()}));function Me(){var e=Ve,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Oe(){this.next=this.b=this.a=null}function Re(e){o.setTimeout((function(){throw e}),0)}function Le(e,t){ke||function(){var e=o.Promise.resolve(void 0);ke=function(){e.then(Be)}}(),Fe||(ke(),Fe=!0),Ve.add(e,t)}Ne.prototype.add=function(e,t){var n=Pe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Oe.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Oe.prototype.reset=function(){this.next=this.b=this.a=null};var Fe=!1,Ve=new Ne;function Be(){for(var e;e=Me();){try{e.a.call(e.b)}catch(n){Re(n)}var t=Pe;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Fe=!1}function Ue(e,t){xe.call(this),this.b=e||1,this.a=t||o,this.f=w(this.fb,this),this.g=_()}function je(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function qe(e,t,n){if("function"==h(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function $e(e,t,n){S.call(this),this.f=null!=n?w(e,n):e,this.c=t,this.b=w(this.$a,this),this.a=[]}function He(e){e.U=qe(e.b,e.c),e.f.apply(null,e.a)}function ze(e){S.call(this),this.b=e,this.a={}}E(Ue,xe),(r=Ue.prototype).ba=!1,r.L=null,r.fb=function(){if(this.ba){var e=_()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(je(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},r.G=function(){Ue.N.G.call(this),je(this),delete this.a},E($e,S),(r=$e.prototype).ea=!1,r.U=null,r.Ta=function(e){this.a=arguments,this.U?this.ea=!0:He(this)},r.G=function(){$e.N.G.call(this),this.U&&(o.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,He(this))},E(ze,S);var We=[];function Ke(e,t,n,r){p(n)||(n&&(We[0]=n.toString()),n=We);for(var i=0;i<n.length;i++){var s=ve(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function Ge(e){R(e.a,(function(e,t){this.a.hasOwnProperty(t)&&we(e)}),e),e.a={}}function Qe(){}ze.prototype.G=function(){ze.N.G.call(this),Ge(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=new xe;function Xe(e){se.call(this,"serverreachability",e)}function Je(e){Ye.dispatchEvent(new Xe(Ye,e))}function Ze(e){se.call(this,"statevent",e)}function et(e){Ye.dispatchEvent(new Ze(Ye,e))}function tt(e){se.call(this,"timingevent",e)}function nt(e,t){if("function"!=h(e))throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){e()}),t)}E(Xe,se),E(Ze,se),E(tt,se);var rt={NO_ERROR:0,gb:1,nb:2,mb:3,jb:4,lb:5,ob:6,La:7,TIMEOUT:8,rb:9},it={ib:"complete",vb:"success",Ma:"error",La:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",kb:"downloadprogress",wb:"uploadprogress"};function st(){}function ot(e){var t;return(t=e.a)||(t=e.a={}),t}function at(){}st.prototype.a=null;var ut,ct={OPEN:"a",hb:"b",Ma:"c",qb:"d"};function lt(){se.call(this,"d")}function ht(){se.call(this,"c")}function pt(){}function dt(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new ze(this),this.O=ft,e=z?125:void 0,this.P=new Ue(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(lt,se),E(ht,se),E(pt,st),ut=new pt;var ft=45e3,mt={},gt={};function vt(e,t,n){e.F=1,e.f=qt(Rt(t)),e.l=n,e.H=!0,wt(e,null)}function yt(e,t,n,r){e.F=1,e.f=qt(Rt(t)),e.l=null,e.H=n,wt(e,r)}function wt(e,t){e.v=_(),Et(e),e.D=Rt(e.f),jt(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new $e(w(e.Ja,e,e.a),e.J)),Ke(e.I,e.a,"readystatechange",e.cb),t=e.h?L(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),Je(1)}function bt(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=_t(e,n);if(i==gt){4==t&&(e.c=4,et(14),r=!1);break}if(i==mt){e.c=4,et(15),r=!1;break}It(e,i)}4==t&&0==n.length&&(e.c=1,et(16),r=!1),e.b=e.b&&r,r||(xt(e),Tt(e))}function _t(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?gt:(n=Number(t.substring(n,r)),isNaN(n)?mt:(r+=1)+n>t.length?gt:(t=t.substr(r,n),e.A=r+n,t))}function Et(e){e.R=_()+e.O,St(e,e.O)}function St(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=nt(w(e.ab,e),t)}function Ct(e){e.i&&(o.clearTimeout(e.i),e.i=null)}function Tt(e){e.g.Ca()||e.m||e.g.na(e)}function xt(e){Ct(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,je(e.P),Ge(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function It(e,t){try{e.g.Fa(e,t),Je(4)}catch(n){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||a(e))T(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(d(e)||a(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(a(e))return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Dt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dt)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nt(e,t){Pt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&kt(e))}function kt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=dt.prototype).setTimeout=function(e){this.O=e},r.cb=function(e){e=e.target;var t=this.B;t&&3==Rn(e)?t.Ta():this.Ja(e)},r.Ja=function(e){try{if(e==this.a)e:{var t=Rn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>t||3==t&&!z&&!this.a.aa())){this.m||4!=t||7==n||Je(8==n||0>=r?3:2),Ct(this);var i=this.a.T();this.o=i;var s=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var o=Ln(this.a,"X-HTTP-Initial-Response");if(o&&!A(o)){var a=o;break t}}a=null}if(!a){this.b=!1,this.c=3,et(12),xt(this),Tt(this);break e}this.s=!0,It(this,a)}this.H?(bt(this,t,s),z&&this.b&&3==t&&(Ke(this.I,this.P,"tick",this.bb),this.P.start())):It(this,s),4==t&&xt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,Et(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.c=3,et(12)):(this.c=0,et(13)),xt(this),Tt(this)}}}catch(u){}},r.bb=function(){if(this.a){var e=Rn(this.a),t=this.a.aa();this.A<t.length&&(Ct(this),bt(this,e,t),this.b&&4!=e&&Et(this))}},r.cancel=function(){this.m=!0,xt(this)},r.ab=function(){this.i=null;var e=_();0<=e-this.R?(2!=this.F&&(Je(3),et(17)),xt(this),this.c=2,Tt(this)):St(this,this.R-e)},(r=Dt.prototype).C=function(){kt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.K=function(){return kt(this),this.a.concat()},r.get=function(e,t){return Pt(this.b,e)?this.b[e]:t},r.set=function(e,t){Pt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Mt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ot(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Ot?(this.h=void 0!==t?t:e.h,Lt(this,e.f),this.j=e.j,Ft(this,e.b),Vt(this,e.i),this.a=e.a,Bt(this,nn(e.c)),this.g=e.g):e&&(n=String(e).match(Mt))?(this.h=!!t,Lt(this,n[1]||"",!0),this.j=$t(n[2]||""),Ft(this,n[3]||"",!0),Vt(this,n[4]),this.a=$t(n[5]||"",!0),Bt(this,n[6]||"",!0),this.g=$t(n[7]||"")):(this.h=!!t,this.c=new Xt(null,this.h))}function Rt(e){return new Ot(e)}function Lt(e,t,n){e.f=n?$t(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Ft(e,t,n){e.b=n?$t(t,!0):t}function Vt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Bt(e,t,n){t instanceof Xt?(e.c=t,function(e,t){t&&!e.f&&(Jt(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zt(this,t),tn(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=Ht(t,Qt)),e.c=new Xt(t,e.h))}function Ut(e,t,n){e.c.set(t,n)}function jt(e,t,n){p(n)||(n=[String(n)]),tn(e.c,t,n)}function qt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),e}function $t(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ht(e,t,n){return a(e)?(e=encodeURI(e).replace(t,zt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ot.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Ht(t,Wt,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Ht(t,Wt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ht(n,"/"==n.charAt(0)?Gt:Kt,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",Ht(n,Yt)),e.join("")},Ot.prototype.resolve=function(e){var t=Rt(this),n=!!e.f;n?Lt(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?Ft(t,e.b):n=null!=e.i;var r=e.a;if(n)Vt(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(k(i,"./")||k(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var s=[],o=0;o<i.length;){var a=i[o++];"."==a?r&&o==i.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&o==i.length&&s.push("")):(s.push(a),r=!0)}r=s.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?Bt(t,nn(e.c)):n=!!e.g,n&&(t.g=e.g),t};var Wt=/[#\/\?@]/g,Kt=/[#\?:]/g,Gt=/[#\?]/g,Qt=/[#\?@]/g,Yt=/#/g;function Xt(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jt(e){e.a||(e.a=new Dt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zt(e,t){Jt(e),t=rn(e,t),Pt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Nt(e.a,t))}function en(e,t){return Jt(e),t=rn(e,t),Pt(e.a.b,t)}function tn(e,t,n){Zt(e,t),0<n.length&&(e.c=null,e.a.set(rn(e,t),I(n)),e.b+=n.length)}function nn(e){var t=new Xt;return t.c=e.c,e.a&&(t.a=new Dt(e.a),t.b=e.b),t}function rn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function sn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function on(e){var t=e.a.F.a;if(null!=t)et(4),t?(et(10),Gn(e.a,e,!1)):(et(11),Gn(e.a,e,!0));else{e.b=new dt(e,void 0,void 0),e.b.h=e.h,t=Zn(t=e.a,t.Y()?e.f:null,e.i),et(4),jt(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&Ut(t,n,r),yt(e.b,t,!1,e.f)}}function an(){this.a=this.b=null}function un(){this.a=new Dt}function cn(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[m]||(e[m]=++g)):t.charAt(0)+e}function ln(e,t){this.b=e,this.a=t}function hn(e){this.g=e||pn,o.PerformanceNavigationTiming?e=0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.ka&&o.ka.Da&&o.ka.Da()&&o.ka.Da().yb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new un),this.b=null,this.c=[]}(r=Xt.prototype).add=function(e,t){Jt(this),this.c=null,e=rn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.forEach=function(e,t){Jt(this),this.a.forEach((function(n,r){T(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.K=function(){Jt(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},r.C=function(e){Jt(this);var t=[];if(a(e))en(this,e)&&(t=x(t,this.a.get(rn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=x(t,e[n])}return t},r.set=function(e,t){return Jt(this),this.c=null,en(this,e=rn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.c=e.join("&")},E((function(){}),(function(){})),(r=sn.prototype).M=null,r.$=function(e){return this.a.$(e)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=Ln(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=Ln(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(i){return(t=this.a).m=this.c,void Xn(t,2)}this.f=r[0]}else(t=this.a).m=this.c,Xn(t,2)}else 1==this.M&&(this.g?et(6):"11111"==t?(et(5),this.g=!0,(!$||10<=Number(J))&&(this.c=200,this.b.cancel(),et(11),Gn(this.a,this,!0))):(et(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,on(this)):1==this.M&&(this.g?(et(11),Gn(this.a,this,!0)):(et(10),Gn(this.a,this,!1)));else{0==this.M?et(8):1==this.M&&et(9);var e=this.a;e.m=this.c,Xn(e,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},un.prototype.add=function(e){this.a.set(cn(e),e)},un.prototype.C=function(){return this.a.C()};var pn=10;function dn(e,t){!e.a&&(k(t,"spdy")||k(t,"quic")||k(t,"h2"))&&(e.f=e.g,e.a=new un,e.b&&(vn(e,e.b),e.b=null))}function fn(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function mn(e){return e.b?1:e.a?e.a.a.c:0}function gn(e,t){return e.b?e=e.b==t:e.a?(t=cn(t),e=Pt(e.a.a.b,t)):e=!1,e}function vn(e,t){e.a?e.a.add(t):e.b=t}function yn(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=cn(t),n=Pt(e.a.a.b,n)),n&&Nt(e.a.a,cn(t)))}function wn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return T(e.a.C(),(function(e){t=t.concat(e.j)})),t}return I(e.c)}function bn(){}function _n(){this.a=new bn}function En(e,t,n){var r=n||"";try{At(e,(function(e,n){var i=e;f(e)&&(i=Ae(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}hn.prototype.cancel=function(){this.c=wn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},bn.prototype.stringify=function(e){return o.JSON.stringify(e,void 0)},bn.prototype.parse=function(e){return o.JSON.parse(e,void 0)};var Cn=o.JSON.parse;function Tn(e){xe.call(this),this.headers=new Dt,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=xn,this.D=this.F=!1}E(Tn,xe);var xn="",In=/^https?$/i,An=["POST","PUT"];function Dn(e){return"content-type"==e.toLowerCase()}function Nn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,kn(e),Mn(e)}function kn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Pn(e){if(e.b&&void 0!==s&&(!e.s[1]||4!=Rn(e)||2!=e.T()))if(e.l&&4==Rn(e))qe(e.Ea,0,e);else if(e.dispatchEvent("readystatechange"),4==Rn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.A).match(Mt)[1]||null;if(!a&&o.self&&o.self.location){var u=o.self.location.protocol;a=u.substr(0,u.length-1)}i=!In.test(a?a.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var c=2<Rn(e)?e.a.statusText:""}catch(l){c=""}e.f=c+" ["+e.T()+"]",kn(e)}}finally{Mn(e)}}}function Mn(e,t){if(e.a){On(e);var n=e.a,r=e.s[0]?l:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function On(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(o.clearTimeout(e.m),e.m=null)}function Rn(e){return e.a?e.a.readyState:0}function Ln(e,t){return e.a?e.a.getResponseHeader(t):null}function Fn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return R(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),a(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return Ut(e,t,n),e}function Vn(e){this.f=[],this.F=new an,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!c("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=c("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Ra=c("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Pa=c("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=c("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.Ka=e&&e.zb||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new hn(e&&e.concurrentRequestLimit),this.ja=new _n,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Bn(e){if(Un(e),3==e.u){var t=e.P++,n=Rt(e.B);Ut(n,"SID",e.H),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),Hn(e,n),(t=new dt(e,t,void 0)).F=2,t.f=qt(Rt(n)),n=!1,o.navigator&&o.navigator.sendBeacon&&(n=o.navigator.sendBeacon(t.f.toString(),"")),!n&&o.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=_(),Et(t)}Jn(e)}function Un(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(o.clearTimeout(e.l),e.l=null),Qn(e),e.b.cancel(),e.h&&(u(e.h)&&o.clearTimeout(e.h),e.h=null)}function jn(e,t){e.f.push(new ln(e.Qa++,t)),3==e.u&&qn(e)}function qn(e){fn(e.b)||e.h||(e.h=!0,Le(e.Ha,e),e.A=0)}function $n(e,t){var n;n=t?t.W:e.P++;var r=Rt(e.B);Ut(r,"SID",e.H),Ut(r,"RID",n),Ut(r,"AID",e.O),Hn(e,r),e.g&&e.i&&Fn(r,e.g,e.i),n=new dt(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=zn(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),vn(e.b,n),vt(n,r,t)}function Hn(e,t){e.c&&At({},(function(e,n){Ut(t,n,e)}))}function zn(e,t,n){n=Math.min(e.f.length,n);var r=e.c?w(e.c.Sa,e.c,e):null;e:for(var i=e.f,s=-1;;){var o=["count="+n];-1==s?0<n?(s=i[0].b,o.push("ofs="+s)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{En(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function Wn(e){e.a||e.l||(e.S=1,Le(e.Ga,e),e.v=0)}function Kn(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=nt(w(e.Ga,e),Yn(e,e.v)),e.v++,!0)}function Gn(e,t,n){var r=t.l;r&&dn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=Zn(e,null,e.ha),qn(e)}function Qn(e){null!=e.s&&(o.clearTimeout(e.s),e.s=null)}function Yn(e,t){var n=e.Na+Math.floor(Math.random()*e.Ra);return e.ma()||(n*=2),n*t}function Xn(e,t){if(2==t){var n=null;e.c&&(n=null);var r=w(e.eb,e);n||(n=new Ot("//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||Lt(n,"https"),qt(n)),function(e,t){var n=new Qe;if(o.Image){var r=new Image;r.onload=b(Sn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=b(Sn,n,r,"TestLoadImage: error",!1,t),r.onabort=b(Sn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=b(Sn,n,r,"TestLoadImage: timeout",!1,t),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else et(2);e.u=0,e.c&&e.c.ta(t),Jn(e),Un(e)}function Jn(e){e.u=0,e.m=-1,e.c&&(0==wn(e.b).length&&0==e.f.length||(e.b.c.length=0,I(e.f),e.f.length=0),e.c.sa())}function Zn(e,t,n){var r=function(e){return e instanceof Ot?Rt(e):new Ot(e,void 0)}(n);if(""!=r.b)t&&Ft(r,t+"."+r.b),Vt(r,r.i);else{var i,s=o.location;i=t?t+"."+s.hostname:s.hostname,r=function(e,t,n,r){var i=new Ot(null,void 0);return e&&Lt(i,e),t&&Ft(i,t),n&&Vt(i,n),r&&(i.a=r),i}(s.protocol,i,+s.port,n)}return e.V&&R(e.V,(function(e,t){Ut(r,t,e)})),t=e.j,n=e.I,t&&n&&Ut(r,t,n),Ut(r,"VER",e.wa),Hn(e,r),r}function er(){}function tr(){if($&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function nr(e,t){xe.call(this),this.a=new Vn(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];if(0==i.lastIndexOf("/",0))t=i;else(r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new sr(this)}function rr(e){lt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function ir(){ht.call(this),this.status=1}function sr(e){this.a=e}(r=Tn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ot(this.H):ot(ut),this.a.onreadystatechange=w(this.Ea,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(s){return void Nn(this,s)}e=n||"";var i=new Dt(this.headers);r&&At(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Dn,n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:a(e)?e.charAt(t):e[t]}(i.K()),n=o.FormData&&e instanceof o.FormData,!(0<=C(An,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{On(this),0<this.o&&((this.D=function(e){return $&&ee(9)&&u(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=w(this.Ba,this)):this.m=qe(this.Ba,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){Nn(this,s)}},r.Ba=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Mn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Mn(this,!0)),Tn.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?Pn(this):this.Za())},r.Za=function(){Pn(this)},r.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(j){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(j){return""}},r.Ua=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cn(t)}},r.ya=function(){return this.h},r.Xa=function(){return a(this.f)?this.f:String(this.f)},(r=Vn.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new dt(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var s=this.f[i];if(void 0===(s="__data__"in s.a&&a(s=s.a.__data__)?s.length:void 0))break;if(4096<(t+=s)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=zn(this,n,t),Ut(i=Rt(this.B),"RID",e),Ut(i,"CVER",22),this.o&&this.j&&Ut(i,"X-HTTP-Session-Id",this.j),Hn(this,i),this.g&&r&&Fn(i,this.g,r),vn(this.b,n),this.W?(Ut(i,"$req",t),Ut(i,"SID","null"),n.S=!0,vt(n,i,null)):vt(n,i,t),this.u=2}}else 3==this.u&&(e?$n(this,e):0==this.f.length||fn(this.b)||$n(this))},r.Ga=function(){this.l=null,this.a=new dt(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Rt(this.pa);Ut(e,"RID","rpc"),Ut(e,"SID",this.H),Ut(e,"CI",this.ia?"0":"1"),Ut(e,"AID",this.O),Hn(this,e),Ut(e,"TYPE","xmlhttp"),this.g&&this.i&&Fn(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),yt(this.a,e,!0,this.ga)},r.Fa=function(e,t){if(0!=this.u&&(this.a==e||gn(this.b,e)))if(this.m=e.o,!e.s&&gn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(s){n=null}if(p(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;Qn(this),this.a.cancel(),this.a=null}Kn(this),et(18)}}else this.ra=t[1],0<this.ra-this.O&&37500>t[2]&&this.ia&&0==this.v&&!this.s&&(this.s=nt(w(this.Ya,this),6e3));if(1>=mn(this.b)&&this.fa){try{this.fa()}catch(s){}this.fa=void 0}}else Xn(this,11)}else if((e.s||this.a==e)&&Qn(this),!A(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=Ln(r,"X-Client-Wire-Protocol"))&&dn(this.b,i),this.j&&(r=Ln(r,"X-HTTP-Session-Id")))&&(this.I=r,Ut(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=Zn(this,this.Y()?this.ga:null,this.ha),r.s?(yn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ct(r),Et(r)),this.a=r):Wn(this),0<this.f.length&&qn(this)}else"stop"!=r[0]&&"close"!=r[0]||Xn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Xn(this,7):Bn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Kn(this),et(19))},r.na=function(e){var t=null;if(this.a==e){Qn(this),this.a=null;var n=2}else{if(!gn(this.b,e))return;t=e.j,yn(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=_()-e.v,Ye.dispatchEvent(new tt(Ye,e.l?e.l.length:0,t,this.A)),qn(this)):Wn(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(mn(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Oa?0:e.Pa))&&(e.h=nt(w(e.Ha,e,t),Yn(e,e.A)),e.A++,!0))}(this,e)||2==n&&Kn(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:Xn(this,5);break;case 4:Xn(this,10);break;case 3:Xn(this,6);break;default:Xn(this,2)}}},r.eb=function(e){et(e?2:1)},r.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tn(this.Ka)).F=this.R,e},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=er.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},tr.prototype.a=function(e,t){return new nr(e,t)},E(nr,xe),(r=nr.prototype).addEventListener=function(e,t,n,r){nr.N.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){nr.N.removeEventListener.call(this,e,t,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;et(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new sn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=Fn(t,e.g,e.i)),(e=e.w).i=n,t=Zn(e.a,null,e.i),et(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,on(e)):(jt(t,"MODE","init"),!e.a.o&&e.a.j&&jt(t,"X-HTTP-Session-Id",e.a.j),e.b=new dt(e,void 0,void 0),e.b.h=e.h,yt(e.b,t,!1,null),e.M=0)},r.close=function(){Bn(this.a)},r.Wa=function(e){if(a(e)){var t={};t.__data__=e,jn(this.a,t)}else this.h?((t={}).__data__=Ae(e),jn(this.a,t)):jn(this.a,e)},r.G=function(){this.a.c=null,delete this.f,Bn(this.a),delete this.a,nr.N.G.call(this)},E(rr,lt),E(ir,ht),E(sr,er),sr.prototype.va=function(){this.a.dispatchEvent("a")},sr.prototype.ua=function(e){this.a.dispatchEvent(new rr(e))},sr.prototype.ta=function(e){this.a.dispatchEvent(new ir(e))},sr.prototype.sa=function(){this.a.dispatchEvent("b")};var or=b((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),tr);tr.prototype.createWebChannel=tr.prototype.a,nr.prototype.send=nr.prototype.Wa,nr.prototype.open=nr.prototype.Va,nr.prototype.close=nr.prototype.close,rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,it.COMPLETE="complete",at.EventType=ct,ct.OPEN="a",ct.CLOSE="b",ct.ERROR="c",ct.MESSAGE="d",xe.prototype.listen=xe.prototype.za,Tn.prototype.listenOnce=Tn.prototype.Aa,Tn.prototype.getLastError=Tn.prototype.Xa,Tn.prototype.getLastErrorCode=Tn.prototype.ya,Tn.prototype.getStatus=Tn.prototype.T,Tn.prototype.getResponseJson=Tn.prototype.Ua,Tn.prototype.getResponseText=Tn.prototype.aa,Tn.prototype.send=Tn.prototype.ca;var ar={createWebChannelTransport:or,ErrorCode:rt,EventType:it,WebChannel:at,XhrIo:Tn},ur=ar.createWebChannelTransport,cr=ar.ErrorCode,lr=ar.EventType,hr=ar.WebChannel,pr=ar.XhrIo;t.default=ar},ynWL:function(e,t,n){"use strict";n.r(t),t.default=""},zOze:function(e,t,n){"use strict";n.r(t),t.default='<div id="d-flex justify-content-center" class="col-md-12 mx-auto">\n    <nav class="navbar navbar-expand-lg navbar-light bg-light rounded">\n        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample10" aria-controls="navbarsExample10" aria-expanded="false" aria-label="Toggle navigation">\n          <span class="navbar-toggler-icon"></span>\n        </button>\n\n        <div class="collapse navbar-collapse justify-content-md-center" id="navbarsExample10">\n          <ul class="navbar-nav">\n            <li class="nav-item">\n              <a class="nav-link" href="/home">Home </a>\n            </li>\n            <li class="nav-item active">\n              <a class="nav-link" href="/explore">Explore<span class="sr-only">(current)</span></a>\n            </li>\n            <li class="nav-item">\n                <a class="nav-link" href="/events">Events</a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="/contact">Contact</a>\n              </li>\n              <li class="nav-item">\n                <a class="nav-link" href="/login">Login</a>\n              </li>\n\t\t\t  <li class="nav-item" *ngIf="isLoggedIn$ | async">\n\t\t\t\t<a class="nav-link" href="/createcontent">Create Content</a>\n\t\t\t  </li>\n          </ul>\n        </div>\n      </nav>  \n\t<div class="row">\n\t\t<div class="col-md-12">\n\t\t\t<div class="jumbotron">\n\t\t\t\t<h2>\n\t\t\t\t\tArtists\n\t\t\t\t</h2>\n\t\t\t</div>\n\t\t\t<div class="row marginbanner">\n\t\t\t\t<div class="col-md-4">\n\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t<img class="card-img-top" alt="Bootstrap Thumbnail First" src="https://www.layoutit.com/img/people-q-c-600-200-1.jpg" />\n\t\t\t\t\t\t<div class="card-block">\n\t\t\t\t\t\t\t<h5 class="card-title marginn">\n\t\t\t\t\t\t\t\tCard title\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<p class="card-text marginn">\n\t\t\t\t\t\t\t\tCras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a class="btn btn-primary marginn" href="#">Action</a> <a class="btn" href="#">Action</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-4">\n\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t<img class="card-img-top" alt="Bootstrap Thumbnail Second" src="https://www.layoutit.com/img/city-q-c-600-200-1.jpg" />\n\t\t\t\t\t\t<div class="card-block">\n\t\t\t\t\t\t\t<h5 class="card-title marginn">\n\t\t\t\t\t\t\t\tCard title\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<p class="card-text marginn">\n\t\t\t\t\t\t\t\tCras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a class="btn btn-primary marginn" href="#">Action</a> <a class="btn" href="#">Action</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-4">\n\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t<img class="card-img-top" alt="Bootstrap Thumbnail Third" src="https://www.layoutit.com/img/sports-q-c-600-200-1.jpg" />\n\t\t\t\t\t\t<div class="card-block">\n\t\t\t\t\t\t\t<h5 class="card-title marginn">\n\t\t\t\t\t\t\t\tCard title\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<p class="card-text marginn">\n\t\t\t\t\t\t\t\tCras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a class="btn btn-primary marginn" href="#">Action</a> <a class="btn" href="#">Action</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row marginbanner">\n\t\t\t\t<div class="col-md-4">\n\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t<img class="card-img-top" alt="Bootstrap Thumbnail First" src="https://www.layoutit.com/img/people-q-c-600-200-1.jpg" />\n\t\t\t\t\t\t<div class="card-block">\n\t\t\t\t\t\t\t<h5 class="card-title marginn">\n\t\t\t\t\t\t\t\tCard title\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<p class="card-text marginn">\n\t\t\t\t\t\t\t\tCras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a class="btn btn-primary marginn" href="#">Action</a> <a class="btn" href="#">Action</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-4">\n\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t<img class="card-img-top" alt="Bootstrap Thumbnail Second" src="https://www.layoutit.com/img/city-q-c-600-200-1.jpg" />\n\t\t\t\t\t\t<div class="card-block">\n\t\t\t\t\t\t\t<h5 class="card-title marginn">\n\t\t\t\t\t\t\t\tCard title\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<p class="card-text marginn">\n\t\t\t\t\t\t\t\tCras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a class="btn btn-primary marginn" href="#">Action</a> <a class="btn" href="#">Action</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-4">\n\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t<img class="card-img-top" alt="Bootstrap Thumbnail Third" src="https://www.layoutit.com/img/sports-q-c-600-200-1.jpg" />\n\t\t\t\t\t\t<div class="card-block">\n\t\t\t\t\t\t\t<h5 class="card-title marginn">\n\t\t\t\t\t\t\t\tCard title\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<p class="card-text marginn">\n\t\t\t\t\t\t\t\tCras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a class="btn btn-primary marginn" href="#">Action</a> <a class="btn" href="#">Action</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="row marginbanner">\n\t\t\t\t<div class="col-md-4">\n\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t<img class="card-img-top" alt="Bootstrap Thumbnail First" src="https://www.layoutit.com/img/people-q-c-600-200-1.jpg" />\n\t\t\t\t\t\t<div class="card-block">\n\t\t\t\t\t\t\t<h5 class="card-title marginn">\n\t\t\t\t\t\t\t\tCard title\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<p class="card-text marginn">\n\t\t\t\t\t\t\t\tCras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a class="btn btn-primary marginn" href="#">Action</a> <a class="btn" href="#">Action</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-4">\n\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t<img class="card-img-top" alt="Bootstrap Thumbnail Second" src="https://www.layoutit.com/img/city-q-c-600-200-1.jpg" />\n\t\t\t\t\t\t<div class="card-block">\n\t\t\t\t\t\t\t<h5 class="card-title marginn">\n\t\t\t\t\t\t\t\tCard title\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<p class="card-text marginn">\n\t\t\t\t\t\t\t\tCras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a class="btn btn-primary marginn" href="#">Action</a> <a class="btn" href="#">Action</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-4">\n\t\t\t\t\t<div class="card">\n\t\t\t\t\t\t<img class="card-img-top" alt="Bootstrap Thumbnail Third" src="https://www.layoutit.com/img/sports-q-c-600-200-1.jpg" />\n\t\t\t\t\t\t<div class="card-block">\n\t\t\t\t\t\t\t<h5 class="card-title marginn">\n\t\t\t\t\t\t\t\tCard title\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<p class="card-text marginn">\n\t\t\t\t\t\t\t\tCras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a class="btn btn-primary marginn" href="#">Action</a> <a class="btn" href="#">Action</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="row">\n\t\t<div class="col-md-12">\n\t\t\t<nav>\n\t\t\t\t<ul class="pagination">\n\t\t\t\t\t<li class="page-item">\n\t\t\t\t\t\t<a class="page-link" href="#">Previous</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="page-item">\n\t\t\t\t\t\t<a class="page-link" href="#">1</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="page-item">\n\t\t\t\t\t\t<a class="page-link" href="#">2</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="page-item">\n\t\t\t\t\t\t<a class="page-link" href="#">3</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="page-item">\n\t\t\t\t\t\t<a class="page-link" href="#">4</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="page-item">\n\t\t\t\t\t\t<a class="page-link" href="#">5</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class="page-item">\n\t\t\t\t\t\t<a class="page-link" href="#">Next</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</div>\n\t</div>\n</div>'},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("mrSG");function i(e){return"function"==typeof e}let s=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function a(e){setTimeout(()=>{throw e})}const u={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete(){}},c=Array.isArray||(e=>e&&"number"==typeof e.length);function l(e){return null!==e&&"object"==typeof e}function h(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}h.prototype=Object.create(Error.prototype);const p=h;class d{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:s,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,u=r?r.length:0;for(;n;)n.remove(this),n=++a<u&&r[a]||null;if(i(s))try{s.call(this)}catch(h){t=!0,e=h instanceof p?f(h.errors):[h]}if(c(o))for(a=-1,u=o.length;++a<u;){const n=o[a];if(l(n))try{n.unsubscribe()}catch(h){t=!0,e=e||[],h instanceof p?e=e.concat(f(h.errors)):e.push(h)}}if(t)throw new p(e)}add(e){let t=e;switch(typeof e){case"function":t=new d(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof d)){const e=t;(t=new d)._subscriptions=[e]}break;default:if(!e)return d.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(t._addParent(this)){const e=this._subscriptions;e?e.push(t):this._subscriptions=[t]}return t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}function f(e){return e.reduce((e,t)=>e.concat(t instanceof p?t.errors:t),[])}d.EMPTY=function(e){return e.closed=!0,e}(new d);const m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u;break;case 1:if(!e){this.destination=u;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new v(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new v(this,e,t,n)}}[m](){return this}static create(e,t,n){const r=new g(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class v extends g{constructor(e,t,n,r){let s;super(),this._parentSubscriber=e;let o=this;i(t)?s=t:t&&(s=t.next,n=t.error,r=t.complete,t!==u&&(i((o=Object.create(t)).unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}__tryOrSetError(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function w(){}function b(...e){return _(e)}function _(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:w}class E{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const t=new E;return t.source=this,t.operator=e,t}subscribe(e,t,n){const{operator:r}=this,i=function(e,t,n){if(e){if(e instanceof g)return e;if(e[m])return e[m]()}return e||t||n?new g(e,t,n):new g(u)}(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof g?n:null}return!0}(e)?console.warn(t):e.error(t)}}forEach(e,t){return new(t=S(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[y](){return this}pipe(...e){return 0===e.length?this:_(e)(this)}toPromise(e){return new(e=S(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}function S(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}E.create=e=>new E(e),C.prototype=Object.create(Error.prototype);const T=C;class x extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class I extends g{constructor(e){super(e),this.destination=e}}class A extends E{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[m](){return new I(this)}lift(e){const t=new D(this,this);return t.operator=e,t}next(e){if(this.closed)throw new T;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new T;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new T;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new T;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new T;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new x(this,e))}asObservable(){const e=new E;return e.source=this,e}}A.create=(e,t)=>new D(e,t);class D extends A{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function N(e){return e&&"function"==typeof e.schedule}class k extends g{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const P=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},M=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,a),t);const O="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",R=e=>t=>{const n=e[O]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},L=e=>t=>{const n=e[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},F=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function V(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const B=e=>{if(e instanceof E)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[y])return L(e);if(F(e))return P(e);if(V(e))return M(e);if(e&&"function"==typeof e[O])return R(e);{const t=l(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function U(e,t,n,r,i=new k(e,n,r)){if(!i.closed)return B(t)(i)}class j extends g{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function q(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new $(e,t))}}class ${constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new H(e,this.project,this.thisArg))}}class H extends g{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function z(e,t){return new E(t?n=>{const r=new d;let i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:P(e))}function W(e,t){if(!t)return e instanceof E?e:new E(B(e));if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new E(t?n=>{const r=new d;return r.add(t.schedule(()=>{const i=e[y]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:L(e))}(e,t);if(V(e))return function(e,t){return new E(t?n=>{const r=new d;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:M(e))}(e,t);if(F(e))return z(e,t);if(function(e){return e&&"function"==typeof e[O]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new E(t?n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[O](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r}:R(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function K(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(K((n,r)=>W(e(n,r)).pipe(q((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new G(e,n)))}class G{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Q(e,this.project,this.concurrent))}}class Q extends j{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new k(this,void 0,void 0);this.destination.add(r),U(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Y(e){return e}function X(e=Number.POSITIVE_INFINITY){return K(Y,e)}function J(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return N(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof E?e[0]:X(t)(z(e,n))}function Z(){return function(e){return e.lift(new ee(e))}}class ee{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new te(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class te extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const ne=class extends E{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new ie(this.getSubject(),this))),e.closed?(this._connection=null,e=d.EMPTY):this._connection=e),e}refCount(){return Z()(this)}}.prototype,re={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}};class ie extends I{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}class se{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}function oe(){return new A}function ae(){return e=>Z()(function(e,t){return function(n){let r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new se(r,t));const i=Object.create(n,re);return i.source=n,i.subjectFactory=r,i}}(oe)(e))}const ue="__annotations__",ce="__parameters__",le="__prop__metadata__";function he(e,t,n,r,i){const s=pe(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(ue)?n[ue]:Object.defineProperty(n,ue,{value:[]})[ue]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function pe(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function de(e,t,n){const r=pe(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(ce)?e[ce]:Object.defineProperty(e,ce,{value:[]})[ce];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function fe(e,t,n,r){const i=pe(t);function s(...e){if(this instanceof s)return i.apply(this,e),this;const t=new s(...e);return function(n,i){const s=n.constructor,o=s.hasOwnProperty(le)?s[le]:Object.defineProperty(s,le,{value:{}})[le];o[i]=o.hasOwnProperty(i)&&o[i]||[],o[i].unshift(t),r&&r(n,i,...e)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}const me=de("Inject",e=>({token:e}));const ge=de("Optional");const ve=de("Self");const ye=de("SkipSelf");const we=de("Host");const be=de("Attribute",e=>({attributeName:e}));var _e;function Ee(e){for(let t in e)if(e[t]===Ee)return t;throw Error("Could not find renamed property on target object.")}function Se(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(_e||(_e={}));function Te(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function xe(e){const t=e[Ae];return t&&t.token===e?t:null}function Ie(e){return e&&e.hasOwnProperty(De)?e[De]:null}const Ae=Ee({ngInjectableDef:Ee}),De=Ee({ngInjectorDef:Ee});function Ne(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Ne).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const ke=Ee({__forward_ref__:Ee});function Pe(e){return e.__forward_ref__=Pe,e.toString=function(){return Ne(this())},e}function Me(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(ke)&&t.__forward_ref__===Pe?t():e}const Oe="undefined"!=typeof globalThis&&globalThis,Re="undefined"!=typeof window&&window,Le="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fe="undefined"!=typeof global&&global,Ve=Oe||Fe||Re||Le;var Be;!function(e){e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef"}(Be||(Be={}));class Ue{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=Ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const je=new Ue("INJECTOR",-1),qe=new Object,$e="ngTempTokenPath",He="ngTokenPath",ze=/\n/gm,We="\u0275",Ke="__source",Ge=Ee({provide:String,useValue:Ee});let Qe,Ye=void 0;function Xe(e){const t=Ye;return Ye=e,t}function Je(e){const t=Qe;return Qe=e,t}function Ze(e,t=_e.Default){if(void 0===Ye)throw new Error("inject() must be called from an injection context");return null===Ye?tt(e,void 0,t):Ye.get(e,t&_e.Optional?null:void 0,t)}function et(e,t=_e.Default){return(Qe||Ze)(e,t)}function tt(e,t,n){const r=xe(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_e.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${Ne(e)}]`)}function nt(e){const t=[];for(let n=0;n<e.length;n++){const r=Me(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=_e.Default;for(let t=0;t<r.length;t++){const i=r[t];i instanceof ge||"Optional"===i.ngMetadataName||i===ge?n|=_e.Optional:i instanceof ye||"SkipSelf"===i.ngMetadataName||i===ye?n|=_e.SkipSelf:i instanceof ve||"Self"===i.ngMetadataName||i===ve?n|=_e.Self:e=i instanceof me||i===me?i.token:i}t.push(et(e,n))}else t.push(et(r))}return t}class rt{get(e,t=qe){if(t===qe){const t=new Error(`NullInjectorError: No provider for ${Ne(e)}!`);throw t.name="NullInjectorError",t}return t}}function it(e,t,n,r){const i=e[$e];throw t[Ke]&&i.unshift(t[Ke]),e.message=st("\n"+e.message,i,n,r),e[He]=i,e[$e]=null,e}function st(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==We?e.substr(2):e;let i=Ne(t);if(t instanceof Array)i=t.map(Ne).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):Ne(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(ze,"\n  ")}`}class ot{}class at{}function ut(e,t){for(let n=0;n<e.length;n++)t.push(e[n])}function ct(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),ct(r,t)):t!==e&&t.push(r)}return t}function lt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ht(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function pt(e,t,n){e<=t&&ft(n)}function dt(e,t){null==e&&ft(t)}function ft(e){throw new Error(`ASSERTION ERROR: ${e}`)}const mt={OnPush:0,Default:1};mt[mt.OnPush]="OnPush",mt[mt.Default]="Default";const gt={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};gt[gt.CheckOnce]="CheckOnce",gt[gt.Checked]="Checked",gt[gt.CheckAlways]="CheckAlways",gt[gt.Detached]="Detached",gt[gt.Errored]="Errored",gt[gt.Destroyed]="Destroyed";const vt={Emulated:0,Native:1,None:2,ShadowDom:3};function yt(e){return""+{toString:e}}vt[vt.Emulated]="Emulated",vt[vt.Native]="Native",vt[vt.None]="None",vt[vt.ShadowDom]="ShadowDom";const wt={},bt=[];const _t=Ee({ngComponentDef:Ee}),Et=Ee({ngDirectiveDef:Ee}),St=Ee({ngPipeDef:Ee}),Ct=Ee({ngModuleDef:Ee}),Tt=(Ee({ngLocaleIdDef:Ee}),Ee({ngBaseDef:Ee}),Ee({__NG_ELEMENT_ID__:Ee}));let xt=0;function It(e){const t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===mt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||vt.Emulated,id:"c",styles:e.styles||bt,_:null,setInput:null,schemas:e.schemas||null,tView:null};return i._=yt(()=>{const n=e.directives,s=e.features,o=e.pipes;i.id+=xt++,i.inputs=Mt(e.inputs,r),i.outputs=Mt(e.outputs),s&&s.forEach(e=>e(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(Dt):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Nt):null,t.hasOwnProperty(Ae)||(t[Ae]=Ce({token:t,factory:e.factory}))}),i}function At(e,t,n){const r=e.ngComponentDef;r.directiveDefs=()=>t.map(Dt),r.pipeDefs=()=>n.map(Nt)}function Dt(e){const t=Ft(e)||Vt(e);return t}function Nt(e){const t=Bt(e);return t}function kt(e){return{type:e.type,bootstrap:e.bootstrap||bt,declarations:e.declarations||bt,imports:e.imports||bt,exports:e.exports||bt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}}function Pt(e,t){return yt(()=>{const n=Ut(e,!0);n.declarations=t.declarations||bt,n.imports=t.imports||bt,n.exports=t.exports||bt})}function Mt(e,t){if(null==e)return wt;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function Ot(e){const t={};return{inputs:Mt(e.inputs,t),declaredInputs:t,outputs:Mt(e.outputs),viewQuery:e.viewQuery||null,contentQueries:e.contentQueries||null,hostBindings:e.hostBindings||null}}const Rt=It;function Lt(e){return{name:e.name,factory:e.factory,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ft(e){return e[_t]||null}function Vt(e){return e[Et]||null}function Bt(e){return e[St]||null}function Ut(e,t){const n=e[Ct]||null;if(!n&&!0===t)throw new Error(`Type ${Ne(e)} does not have 'ngModuleDef' property.`);return n}const jt=0,qt=1,$t=2,Ht=3,zt=4,Wt=5,Kt=6,Gt=7,Qt=8,Yt=9,Xt=10,Jt=11,Zt=12,en=13,tn=14,nn=15,rn=16,sn=17,on=18,an=19;const un=1,cn=2,ln=5,hn=7,pn=8,dn=9;function fn(e){return Array.isArray(e)&&"object"==typeof e[un]}function mn(e){return Array.isArray(e)&&!0===e[un]}function gn(e){return 0!=(4&e.flags)}function vn(e){return 1==(1&e.flags)}function yn(e){return null!==e.template}function wn(e){return 0!=(512&e[$t])}const bn=8,_n=8,En=9;const Sn=-1;class Cn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Tn(e,t,n,r,i,s){const{onChanges:o,onInit:a,doCheck:u}=t;i>=0&&(!n.preOrderHooks||i===n.preOrderHooks.length)&&(o||a||u)&&(n.preOrderHooks||(n.preOrderHooks=[])).push(r),s>=0&&(!n.preOrderCheckHooks||s===n.preOrderCheckHooks.length)&&(o||u)&&(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)),a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,a),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u))}function xn(e,t){if(e.firstTemplatePass)for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n];t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked)),t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked)),null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}}function In(e,t,n,r){n||An(e,t.preOrderHooks,t.preOrderCheckHooks,n,0,void 0!==r?r:null)}function An(e,t,n,r,i,s){if(r)return;const o=(3&e[$t])===i?t:n;o&&function(e,t,n,r){const i=void 0!==r?65535&e[on]:0,s=null!=r?r:-1;let o=0;for(let a=i;a<t.length;a++){if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else{t[a]<0&&(e[on]+=65536),(o<s||-1==s)&&(Dn(e,n,t,a),e[on]=(4294901760&e[on])+a+2),a++}}}(e,o,i,s),null==s&&(3&e[$t])===i&&3!==i&&(e[$t]&=1023,e[$t]+=1)}function Dn(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){e[$t]>>10<e[on]>>16&&(3&e[$t])===t&&(e[$t]+=1024,s.call(o))}else s.call(o)}let Nn=null;const kn=new Map;let Pn=null;const Mn=1,On=0;function Rn(e,t){return Pn&&e===Pn||(Pn=e,t&&(Nn=kn.get(e)||null),Nn=Nn||{classesBitMask:On,classesIndex:Mn,stylesBitMask:On,stylesIndex:Mn}),Nn}function Ln(){Nn=null,Pn=null}const Fn="__ngContext__";function Vn(e){for(;Array.isArray(e);)e=e[jt];return e}function Bn(e,t){return Vn(t[e+an])}function Un(e,t){const n=Vn(t[e.index]);return n}function jn(e,t){const n=e.index,r=-1==n?null:Vn(t[n]);return r}function qn(e,t){return t[qt].data[e+an]}function $n(e,t){return e[t+an]}function Hn(e,t){const n=t[e];return fn(n)?n:n[jt]}function zn(e){return e[Fn]}function Wn(e){const t=zn(e);return t?Array.isArray(t)?t:t.lView:null}function Kn(e){e[on]=0}let Gn;let Qn,Yn=null;function Xn(e){Yn=e}function Jn(){return Qn}function Zn(){Qn=!0}function er(){Qn=!1}function tr(){return sr}const nr=1;let rr,ir,sr,or=nr,ar=0,ur=0;function cr(e=null){Or!==e&&(Lr(null==e?-1:e),or=null==e?0:nr,ar=0,ur=0)}function lr(){or+=1+ur,ar=0,ur=0}function hr(e){ar+=e,ur=Math.max(ur,ar)}function pr(e){wr=e}function dr(){return rr}function fr(e,t){rr=e,ir=t}function mr(e,t){rr=e,sr=t}function gr(){return ir}function vr(){ir=!1}function yr(e=sr){return 4==(4&e[$t])}let wr=null;function br(){return wr}let _r=!1;function Er(){return _r}function Sr(e){_r=e}let Cr=-1;function Tr(){return Cr}function xr(e){Cr=e}let Ir=0;function Ar(){return Ir}function Dr(e){Ir=e}function Nr(e,t){const n=sr;if(e){const t=e[qt];Cr=t.bindingStartIndex}return rr=t,ir=!0,sr=wr=e,n}function kr(e=1){return(wr=function(e,t){for(;e>0;)t=t[rn],e--;return t}(e,wr))[Yt]}function Pr(){ir=!1,rr=null,Gn=0,Qn=!0,$r(null),Ln(),kn.clear()}function Mr(e,t){const n=sr[qt];if(yr(sr))sr[$t]&=-5;else try{Kn(sr),t&&An(sr,n.viewHooks,n.viewCheckHooks,_r,2,void 0)}finally{sr[$t]&=-73,sr[Gt]=n.bindingStartIndex}Nr(e,null)}let Or=-1;function Rr(){return Or}function Lr(e){Or=e,Ln()}let Fr,Vr=null;function Br(){Vr="http://www.w3.org/2000/svg"}function Ur(){Vr="http://www.w3.org/1998/MathML/"}function jr(){qr()}function qr(){Vr=null}function $r(e){Fr=e}function Hr(){return Fr}function zr(e,t){return!(e!=e&&t!=t)&&e!==t}function Wr(e){return"string"==typeof e?e:null==e?"":""+e}function Kr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Wr(e)}const Gr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ve))();function Qr(e){return{name:"window",target:e.ownerDocument.defaultView}}function Yr(e){return{name:"document",target:e.ownerDocument}}function Xr(e){return{name:"body",target:e.ownerDocument.body}}const Jr="\ufffd";const Zr="--MAP--",ei=0;function ti(e,t){if(t===ei){e[2]>ei&&function(e){ri(e,2|ni(e))}(e)}else e[2]=t}function ni(e){return e[1]}function ri(e,t){e[1]=t}function ii(e,t){return e[t+2]}function si(e,t){return 1&e[t+0]}function oi(e,t){return(1&si(e,t))>0}function ai(e,t){return e[t+0]>>1}function ui(e,t,n){const r=si(e,t),i=n<<1;e[t+0]=r|i}function ci(e,t){return e[t+1]}function li(e,t,n){return e[t+3+n]}function hi(e,t){return!(!e||t!==e[2])}function pi(e){return(1&ni(e))>0}function di(e){return(2&ni(e))>0}function fi(e){return 6+e[4]}function mi(e,t){let n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),zr(n,r)}function gi(e){return null!=e&&""!==e}function vi(e,t,n=" "){return e+(t.length&&e.length?n:"")+t}function yi(e){return e.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function wi(e){return bi(e)?e[0]:e}function bi(e){return Array.isArray(e)&&e.length>=6&&"string"!=typeof e[1]}function _i(e){const t=wi(e);return t&&t[0]||""}function Ei(e){return 0!=(8&e.flags)}function Si(e){return 0!=(16&e.flags)}function Ci(e,t){return e[t+0]}function Ti(e,t,n){e[t+1]=n}function xi(e,t){return e[t+1]}const Ii={Important:1,DashCase:2};function Ai(e){return!!e.listen}Ii[Ii.Important]="Important",Ii[Ii.DashCase]="DashCase";const Di={createRenderer:(e,t)=>document};function Ni(e,t){const n=tr()[Zt],r=Ai(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];Mi(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function ki(e){return 3===e||4===e||6===e}const Pi="@";function Mi(e){return e[0]===Pi}function Oi(e){return e!==Sn}function Ri(e){return 32767&e}function Li(e){return e>>16}function Fi(e,t){let n=Li(e),r=t;for(;n>0;)r=r[rn],n--;return r}function Vi(e){const t=e[Ht];return mn(t)?t[Ht]:t}function Bi(e){let t=fn(e)?e:Wn(e);for(;t&&!(512&t[$t]);)t=Vi(t);return t}function Ui(e){let t=e[Kt];for(;null!==t&&2===t.type;)t=(e=e[rn])[Kt];return e}function ji(e){const t=Bi(e);return t[Yt]}let qi=!0;function $i(e){const t=qi;return qi=e,t}const Hi=255;let zi=0;function Wi(e,t){const n=Gi(e,t);if(-1!==n)return n;const r=t[qt];r.firstTemplatePass&&(e.injectorIndex=t.length,Ki(r.data,e),Ki(t,null),Ki(r.blueprint,null));const i=Qi(e,t),s=Ri(i),o=Fi(i,t),a=e.injectorIndex;if(Oi(i)){const e=o[qt].data;for(let n=0;n<8;n++)t[a+n]=o[s+n]|e[s+n]}return t[a+_n]=i,a}function Ki(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Gi(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+_n]?-1:e.injectorIndex}function Qi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[Kt],r=1;for(;n&&-1===n.injectorIndex;)n=(t=t[rn])?t[Kt]:null,r++;return n?n.injectorIndex|r<<16:-1}function Yi(e,t,n){!function(e,t,n){let r="string"!=typeof n?n[Tt]:n.charCodeAt(0)||0;null==r&&(r=n[Tt]=zi++);const i=r&Hi,s=1<<i,o=128&i,a=64&i,u=32&i,c=t.data;o?a?u?c[e+7]|=s:c[e+6]|=s:u?c[e+5]|=s:c[e+4]|=s:a?u?c[e+3]|=s:c[e+2]|=s:u?c[e+1]|=s:c[e]|=s}(e,t,n)}function Xi(e,t,n,r=_e.Default,i){if(e){const i=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e[Tt];return"number"==typeof t&&t>0?t&Hi:t}(n);if("function"==typeof i){const s=dr(),o=tr();mr(e,t);try{const e=i();if(null!=e||r&_e.Optional)return e;throw new Error(`No provider for ${Kr(n)}!`)}finally{mr(s,o)}}else if("number"==typeof i){if(-1===i)return new is(e,t);let s=null,o=Gi(e,t),a=Sn,u=r&_e.Host?Ui(t)[Kt]:null;for((-1===o||r&_e.SkipSelf)&&(a=-1===o?Qi(e,t):t[o+_n],rs(r,!1)?(s=t[qt],o=Ri(a),t=Fi(a,t)):o=-1);-1!==o;){a=t[o+_n];const e=t[qt];if(ns(i,o,e.data)){const e=Zi(o,t,n,s,r,u);if(e!==Ji)return e}rs(r,t[qt].data[o+bn]===u)&&ns(i,o,t)?(s=e,o=Ri(a),t=Fi(a,t)):o=-1}}}if(r&_e.Optional&&void 0===i&&(i=null),0==(r&(_e.Self|_e.Host))){const e=t[Xt],s=Je(void 0);try{return e?e.get(n,i,r&_e.Optional):tt(n,i,r&_e.Optional)}finally{Je(s)}}if(r&_e.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Kr(n)}]`)}const Ji={};function Zi(e,t,n,r,i,s){const o=t[qt],a=o.data[e+bn],u=es(a,o,n,null==r?vn(a)&&qi:r!=o&&3===a.type,i&_e.Host&&s===a);return null!==u?ts(o.data,t,u,a):Ji}function es(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=65535&s,u=e.directiveStart,c=e.directiveEnd,l=s>>16,h=i?a+l:c;for(let p=r?a:a+l;p<h;p++){const e=o[p];if(p<u&&n===e||p>=u&&e.type===n)return p}if(i){const e=o[u];if(e&&yn(e)&&e.type===n)return u}return null}function ts(e,t,n,r){let i=t[n];if(null!==(s=i)&&"object"==typeof s&&Object.getPrototypeOf(s)==Cn.prototype){const s=i;if(s.resolving)throw new Error(`Circular dep for ${Kr(e[n])}`);const o=$i(s.canSeeViewProviders);let a;s.resolving=!0,s.injectImpl&&(a=Je(s.injectImpl));const u=dr(),c=tr();mr(r,t);try{i=t[n]=s.factory(void 0,e,t,r)}finally{s.injectImpl&&Je(a),$i(o),s.resolving=!1,mr(u,c)}}var s;return i}function ns(e,t,n){const r=1<<e,i=64&e,s=32&e;let o;return!!((o=128&e?i?s?n[t+7]:n[t+6]:s?n[t+5]:n[t+4]:i?s?n[t+3]:n[t+2]:s?n[t+1]:n[t])&r)}function rs(e,t){return!(e&_e.Self||e&_e.Host&&t)}class is{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Xi(this._tNode,this._lView,e,void 0,t)}}function ss(e){const t=e,n=Ft(t)||Vt(t)||Bt(t)||xe(t)||Ie(t);return n&&void 0!==n.factory?n.factory:null}function os(e){const t=ss(Object.getPrototypeOf(e.prototype).constructor);return null!==t?t:e=>new e}const as="ngDebugContext",us="ngOriginalError",cs="ngErrorLogger";function ls(e){return e[as]}function hs(e){return e[us]}function ps(e,...t){e.error(...t)}class ds{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[cs]||ps}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?ls(e)?ls(e):this._findContext(hs(e)):null}_findOriginalError(e){let t=hs(e);for(;t&&hs(t);)t=hs(t);return t}}const fs="__SANITIZER_TRUSTED_BRAND__";function ms(e,t){return e instanceof String&&e[fs]===t}let gs=!0,vs=!1;function ys(){return vs=!0,gs}class ws{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement=this.getInertBodyElement_DOMParser:this.getInertBodyElement=this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const bs=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,_s=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Es(e){return(e=String(e)).match(bs)||e.match(_s)?e:(ys()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Ss(e){return(e=String(e)).split(",").map(e=>Es(e.trim())).join(", ")}function Cs(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ts(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const xs=Cs("area,br,col,hr,img,wbr"),Is=Cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),As=Cs("rp,rt"),Ds=Ts(As,Is),Ns=Ts(Is,Cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ks=Ts(As,Cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ps=Ts(xs,Ns,ks,Ds),Ms=Cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Os=Cs("srcset"),Rs=Cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ls=Cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Fs=Ts(Ms,Os,Rs,Ls),Vs=Cs("script,style,template");class Bs{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ps.hasOwnProperty(t))return this.sanitizedSomething=!0,!Vs.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Fs.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;Ms[i]&&(s=Es(s)),Os[i]&&(s=Ss(s)),this.buf.push(" ",t,'="',qs(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ps.hasOwnProperty(t)&&!xs.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(qs(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Us=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,js=/([^\#-~ |!])/g;function qs(e){return e.replace(/&/g,"&amp;").replace(Us,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(js,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $s;function Hs(e,t){let n=null;try{$s=$s||new ws(e);let r=t?String(t):"";n=$s.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=$s.getInertBodyElement(r)}while(r!==s);const o=new Bs,a=o.sanitizeChildren(zs(n)||n);return ys()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=zs(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function zs(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const Ws={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};Ws[Ws.NONE]="NONE",Ws[Ws.HTML]="HTML",Ws[Ws.STYLE]="STYLE",Ws[Ws.SCRIPT]="SCRIPT",Ws[Ws.URL]="URL",Ws[Ws.RESOURCE_URL]="RESOURCE_URL";class Ks{}const Gs=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Qs=/^url\(([^)]+)\)$/;function Ys(e){if(!(e=String(e).trim()))return"";const t=e.match(Qs);return t&&Es(t[1])===t[1]||e.match(Gs)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(ys()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}function Xs(e){const t=io();return t?t.sanitize(Ws.HTML,e)||"":ms(e,"Html")?e.toString():Hs(document,Wr(e))}function Js(e){const t=io();return t?t.sanitize(Ws.STYLE,e)||"":ms(e,"Style")?e.toString():Ys(Wr(e))}function Zs(e){const t=io();return t?t.sanitize(Ws.URL,e)||"":ms(e,"Url")?e.toString():Es(Wr(e))}function eo(e){const t=io();if(t)return t.sanitize(Ws.RESOURCE_URL,e)||"";if(ms(e,"ResourceUrl"))return e.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function to(e){const t=io();if(t)return t.sanitize(Ws.SCRIPT,e)||"";if(ms(e,"Script"))return e.toString();throw new Error("unsafe value used in a script context")}function no(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?eo:Zs}(t,n)(e)}const ro=function(e,t,n){let r=!0;return 1&(n=n||3)&&(r="background-image"===e||"background"===e||"border-image"===e||"filter"===e||"list-style"===e||"list-style-image"===e||"clip-path"===e),2&n?r?Js(t):t:r};function io(){const e=tr();return e&&e[en]}function so(e){var t;return t=e.replace(/[$@]/g,"_"),`ng-reflect-${e=t.replace(oo,(...e)=>"-"+e[1].toLowerCase())}`}const oo=/([A-Z])/g;function ao(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function uo(e,t){e[Fn]=t}function co(e){throw new Error(`Multiple components match node with tagname ${e.tagName}`)}const lo="ng-template";function ho(e,t){const n=e.length,r=e.indexOf(t),i=r+t.length;return!(-1===r||r>0&&" "!==e[r-1]||i<n&&" "!==e[i])}function po(e,t,n){return t===(0!==e.type||n?e.tagName:lo)}function fo(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++){if(ki(e[t]))return t}return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!po(e,u,n)||""===u&&1===t.length){if(mo(r))return!1;o=!0}}else{const c=8&r?u:t[++a];if(8&r&&e.classes){if(!ho(_i(e.classes),c)){if(mo(r))return!1;o=!0}continue}const l=go(8&r?"class":u,i,0==e.type&&e.tagName!==lo,n);if(-1===l){if(mo(r))return!1;o=!0;continue}if(""!==c){let e;e=l>s?"":i[l+1];const t=8&r?e:null;if(t&&!ho(t,c)||2&r&&c!==e){if(mo(r))return!1;o=!0}}}}else{if(!o&&!mo(r)&&!mo(u))return!1;if(o&&mo(u))continue;o=!1,r=u|1&r}}return mo(r)||o}function mo(e){return 0==(1&e)}function go(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function vo(e,t,n=!1){for(let r=0;r<t.length;r++)if(fo(e,t[r],n))return!0;return!1}function yo(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}const wo=1,bo=0,_o=null,Eo=1;let So=[];function Co(e,t,n,r,i,s,o,a){const u=!r,c=Rn(n,di(e)),l=u?bo:c.classesIndex++;return!(!xo(e,t,l,r,i,s,o,a,!1)&&!a)&&(c.classesBitMask|=1<<l,!0)}function To(e,t,n,r,i,s,o,a,u){const c=!r,l=Rn(n,di(e)),h=c?bo:l.stylesIndex++;return!(!xo(e,t,h,r,i,s,a,u,!!c||!!o&&o(r,null,1))&&!u)&&(l.stylesBitMask|=1<<h,!0)}function xo(e,t,n,r,i,s,o,a,u){pi(e)||(o?function(e,t,n,r,i){So.unshift(e,t,n,r,i)}(e,n,r,i,u):(So.length&&Io(),Ao(e,n,r,i,u)));const c=a||mi(t[i],s);return c&&(t[i]=s),c}function Io(){let e=0;for(;e<So.length;){Ao(So[e++],So[e++],So[e++],So[e++],So[e++])}So.length=0}function Ao(e,t,n,r,i){let s=!1;if(n){let o=!1,a=fi(e);for(;a<e.length;){const s=ci(e,a),u=ii(e,a);if(o=n<=u){n<u&&Do(e,a,n,i),No(e,!1,a,r,t);break}a+=3+s}o||(Do(e,e.length,n,i),No(e,!1,a,r,t),s=!0)}else No(e,!0,3,r,t),s=!0;return s}function Do(e,t,n,r){const i=r?1:0;e.splice(t,0,i,Eo,n,_o),ui(e,t,wo)}function No(e,t,n,r,i){const s=n+3;let o=s+ci(e,n);if(t||o--,"number"==typeof r){for(let t=s;t<=o;t++){if(e[t]===r)return}e.splice(o,0,r),e[n+1]++,ui(e,n,ai(e,n)|1<<i)}else null!==r&&null==e[o]&&(e[o]=r)}function ko(e,t,n,r,i,s,o){const a=n?di(n):!!r&&di(r),u=hi(n,s),c=hi(r,s);So.length&&(u||c)&&Io();const l=Rn(i,a),h=Po(e,i,t,n,u,l.classesBitMask,Lo,null),p=Po(e,i,t,r,c,l.stylesBitMask,Ro,o);h&&p?(Ln(),a&&function(e){kn.delete(e)}(i)):a&&function(e,t){kn.set(e,t)}(i,l)}function Po(e,t,n,r,i,s,o,a){return i&&r&&(function(e){if(!pi(e)){const t=wi(e);t&&function(e,t){for(let n=1;n<t.length;n+=2){const r=xi(t,n);if(r){const i=Ci(t,n);Ao(e,-1,i,r,!1)}}}(e,t),function(e){ri(e,1|ni(e))}(e)}}(r),function(e,t){return e&&t>On}(r,s))?(Mo(r,e,t,n,s,o,a),!0):i}function Mo(e,t,n,r,i,s,o){const a=!0===(u=i)?-1:!1===u?0:u;var u;const c=Oo,l=(a&ai(e,3))>0?1:0;let h=fi(e);for(;h<e.length;){const i=ci(e,h);if(a&ai(e,h)){let a=!1;const u=ii(e,h),p=i-1,d=li(e,h,p);for(let i=0;i<p;i++){const c=li(e,h,i),l=r[c];if(gi(l)){s(t,n,u,o&&oi(e,h)?o(u,l,2):l,c),a=!0;break}}if(c){const i=c(e,t,n,r,s,o,l|(a?4:2),u,d);a=a||i}a||s(t,n,u,d)}h+=3+i}c&&c(e,t,n,r,s,o,l)}let Oo=null;const Ro=(e,t,n,r)=>{const i=t.style;r?(r=r.toString(),e&&Ai(e)?e.setStyle(t,n,r,Ii.DashCase):i&&i.setProperty(n,r)):e&&Ai(e)?e.removeStyle(t,n,Ii.DashCase):i&&i.removeProperty(n)},Lo=(e,t,n,r)=>{if(""!==n){const i=t.classList;r?e&&Ai(e)?e.addClass(t,n):i&&i.add(n):e&&Ai(e)?e.removeClass(t,n):i&&i.remove(n)}};function Fo(e,t,n,r){const i=wi(n);if(i)for(let s=1;s<i.length;s+=2){const n=Ci(i,s),o=xi(i,s);r?Lo(e,t,n,o,null):Ro(e,t,n,o,null)}}const Vo={},Bo={marker:"element"},Uo={marker:"comment"};const jo=(e,t,n,r,i,s,o,a,u)=>{let c=!1;if(ci(e,3)){let l=!0;const h=!a;h&&-2&o&&(l=!1,c=!0),l&&(c=function e(t,n,r,i,s,o,a,u,c,l){let h=!1;const p=ci(t,3);if(c<p){const p=li(t,3,c),f=i[p];let m=function(e){e>=zo.length&&zo.push(1);return zo[e]}(c);for(;m<f.length;){const d=Ci(f,m),g=u&&d>u,v=!g&&d===u,y=xi(f,m),w=gi(y),b=g?a:$o(a,w,v);let _=e(t,n,r,i,s,o,b,g?u:d,c+1,l);if(g){h||(h=_);break}if(!_&&Ho(a,v)){const e=v&&!w,t=e?l:y,i=e?p:null,a=o?o(d,t,3):t;s(n,r,d,a,i),_=!0}h=_&&v,m+=2}if(d=m,zo[c]=d,1===f.length||!u)return e(t,n,r,i,s,o,a,u,c+1,l)}var d;return h}(e,t,n,r,i,s,o,a||null,0,u||null)),h&&function(){for(let e=0;e<zo.length;e++)zo[e]=1}()}return c};function qo(){Oo=jo}function $o(e,t,n){let r=e;return t||4&e||!(n||1&e)?(r|=4,r&=-3):(r|=2,r&=-5),r}function Ho(e,t){let n=(1&e)>0;return n?4&e&&t&&(n=!1):2&e&&(n=t),n}const zo=[];function Wo(e,t,n,r){for(let i=1;i<e.length;i+=2){const s=Ci(e,i);if(t<=s){let o=!1;if(s===t){const t=e[i];!r&&gi(t)||(o=!0,Ti(e,i,n))}else o=!0,e.splice(i,0,t,n);return o}}return e.push(t,n),!0}function Ko(e,t){let n="";for(let r=1;r<e.length;r+=2){const i=Ci(e,r),s=xi(e,r),o=vi(i,t?"":s,":");n=vi(n,o,t?" ":"; ")}return n}function Go(e){Qo(tr(),e)}function Qo(e,t){In(e,e[qt],Er(),t),Lr(t)}const Yo=(()=>Promise.resolve(null))();function Xo(e){const t=e[qt],n=yr(e);if(t.firstTemplatePass=!1,e[Gt]=t.bindingStartIndex,!n){const n=Er();In(e,t,n,void 0),function(e){for(let t=e[tn];null!==t;t=t[zt])if(-1===t[cn]&&mn(t))for(let e=dn;e<t.length;e++){const n=t[e];ra(n,n[qt],n[Yt])}}(e),Jo(t,e),Kn(e),An(e,t.contentHooks,t.contentCheckHooks,n,1,void 0),function(e,t){const n=Rr();try{if(e.expandoInstructions){let n=t[Gt]=e.expandoStartIndex;xr(n);let r=-1,i=-1;for(let s=0;s<e.expandoInstructions.length;s++){const o=e.expandoInstructions[s];if("number"==typeof o){if(o<=0){cr(i=-o);const t=e.expandoInstructions[++s];r=n+=En+t}else n+=o;xr(n)}else{if(null!==o){t[Gt]=n;const e=Vn(t[r]);o(2,e,i),lr()}r++}}}}finally{cr(n)}}(t,e)}n&&t.staticContentQueries&&Jo(t,e),n&&!t.staticViewQueries||La(2,t,e[Yt]),function(e,t){if(null!=t)for(let n=0;n<t.length;n++)Aa(e,t[n])}(e,t.components)}function Jo(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];Dr(i),n.contentQueries(2,t[s],s)}}}function Zo(e,t){let n;const r=t||tr()[Zt],i=Vr;return n=Ai(r)?r.createElement(e,i):null===i?r.createElement(e):r.createElementNS(i,e)}function ea(e,t,n,r,i,s,o,a,u,c){const l=t.blueprint.slice();return l[jt]=i,l[$t]=140|r,Kn(l),l[Ht]=l[rn]=e,l[Yt]=n,l[Jt]=o||e&&e[Jt],l[Zt]=a||e&&e[Zt],l[en]=u||e&&e[en]||null,l[Xt]=c||e&&e[Xt]||null,l[Kt]=s,l}function ta(e,t,n,r,i,s){const o=n+an,a=e.data[o]||function(e,t,n,r,i,s,o){const a=dr(),u=gr(),c=u?a:a&&a.parent,l=c&&c!==t?c:null,h=e.data[n]=pa(e,l,r,n,i,s);0!==o&&e.firstChild||(e.firstChild=h);a&&(!u||null!=a.child||null===h.parent&&2!==a.type?u||(a.next=h):a.child=h);return h}(e,t,o,r,i,s,n);return fr(a,!0),a}function na(e,t,n,r){let i=e.node;return null==i&&(e.node=i=pa(e,t,2,n,null,null)),r[Kt]=i}function ra(e,t,n){const r=gr(),i=dr();let s;if(512&e[$t])ka(ji(e));else{let o=!1;try{fr(null,!0),s=Nr(e,e[Kt]),Kn(e),sa(e,t.template,oa(e),n),t.firstTemplatePass=!1,Xo(e),o=!0}finally{Mr(s,o),fr(i,r)}}}function ia(e,t,n){const r=e[Jt],i=Nr(e,e[Kt]),s=!Er(),o=yr(e);let a=!1;try{s&&!o&&r.begin&&r.begin(),o&&(n&&sa(e,n,1,t),Xo(e),e[$t]&=-5),Kn(e),n&&sa(e,n,2,t),Xo(e),a=!0}finally{s&&!o&&r.end&&r.end(),Mr(i,a)}}function sa(e,t,n,r){qr();const i=Rr();try{cr(null),2&n&&Qo(e,0),t(n,r)}finally{Lr(i)}}function oa(e){return yr(e)?1:2}function aa(e,t,n){if(gn(t)){const r=t.directiveStart,i=t.directiveEnd;for(let t=r;t<i;t++){const r=e.data[t];r.contentQueries&&r.contentQueries(1,n[t],t)}}}function ua(e,t,n,r=Un){Jn()&&(!function(e,t,n){const r=n.directiveStart,i=n.directiveEnd;!e.firstTemplatePass&&r<i&&Wi(n,t);for(let s=r;s<i;s++){const r=e.data[s];yn(r)&&Ta(t,n,r);const i=ts(e.data,t,s,n);wa(t,i,r,s)}}(e,t,n),function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=e.expandoInstructions,o=e.firstTemplatePass,a=n.index-an,u=Rr();try{cr(a);for(let a=r;a<i;a++){const r=e.data[a],i=t[a];r.hostBindings?(va(r,s,i,n,o),lr()):o&&s.push(null)}}finally{cr(u)}}(e,t,n),function(e,t,n){const r=t.localNames;if(r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}(t,n,r),cr(null))}function ca(e){return e.tView||(e.tView=la(-1,e.template,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas))}function la(e,t,n,r,i,s,o,a){const u=an+n,c=u+r,l=function(e,t){const n=new Array(t).fill(null,0,e).fill(Vo,e);return n[Gt]=e,n}(u,c);return l[qt]={id:e,blueprint:l,template:t,queries:null,viewQuery:o,node:null,data:l.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:c,expandoInstructions:null,firstTemplatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a}}function ha(e,t){const n=e.createRenderer(null,null),r="string"==typeof t?Ai(n)?n.selectRootElement(t):n.querySelector(t):t;return r}function pa(e,t,n,r,i,s){let o=t?t.injectorIndex:-1;return{type:n,index:r,injectorIndex:o,directiveStart:-1,directiveEnd:-1,propertyMetadataStartIndex:-1,propertyMetadataEndIndex:-1,flags:0,providerIndexes:0,tagName:i,attrs:s,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,classes:null}}function da(e,t){const n=tr()[qt];let r=null;const i=e.directiveStart,s=e.directiveEnd;if(s>i){const e=0===t,o=n.data;for(let t=i;t<s;t++){const n=o[t],i=e?n.inputs:n.outputs;for(let e in i)if(i.hasOwnProperty(e)){r=r||{};const n=i[e];r.hasOwnProperty(e)?r[e].push(t,e,n):r[e]=[t,e,n]}}}return r}const fa={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};function ma(e,t,n,r,i,s){const o=tr(),a=Bn(e,o),u=qn(e,o);let c,l;if(!i&&(c=Ba(u))&&(l=c[t]))Ha(o,l,n),vn(u)&&function(e,t){const n=Hn(t,e);16&n[$t]||(n[$t]|=64)}(o,e+an);else if(3===u.type){(function(e,t,n,r,i){const s=t[Gt]-1,o=r[s];o[0]==Jr&&(r[s]=n+o,i||(-1==e.propertyMetadataStartIndex&&(e.propertyMetadataStartIndex=s),e.propertyMetadataEndIndex=s+1))})(u,o,t=fa[t]||t,o[qt].data,i);const e=s?s(u,o):o[Zt];n=null!=r?r(n,u.tagName||"",t):n,Ai(e)?e.setProperty(a,t,n):Mi(t)||(a.setProperty?a.setProperty(t,n):a[t]=n)}else u.type}function ga(e,t,n,r){if(!Jn())return;const i=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];vo(n,o.selectors,!1)&&(i||(i=[]),Yi(Wi(n,t),e,o.type),yn(o)?(1&n.flags&&co(n),n.flags=1,i.unshift(o)):i.push(o))}return i}(e,t,n),s=r?{"":-1}:null;if(i){Sa(n,e.data.length,i.length);for(let e=0;e<i.length;e++){const t=i[e];t.providersResolver&&t.providersResolver(t)}ya(e,n,i.length);const r=e.preOrderHooks&&e.preOrderHooks.length||0,o=e.preOrderCheckHooks&&e.preOrderCheckHooks.length||0,a=n.index-an;for(let n=0;n<i.length;n++){const u=i[n],c=e.data.length;Ca(e,t,u,u.factory),Ea(e.data.length-1,u,s),Tn(c,u,e,a,r,o)}}s&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new Error(`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,s)}function va(e,t,n,r,i){const s=t.length;Xn(e);const o=r.index-an;e.hostBindings(1,n,o),Xn(null),s===t.length&&i&&t.push(e.hostBindings)}function ya(e,t,n){const r=-(t.index-an),i=65535&t.providerIndexes,s=e.data.length-i;(e.expandoInstructions||(e.expandoInstructions=[])).push(r,s,n)}function wa(e,t,n,r){const i=dr();if(ba(e,i,t),i&&i.attrs&&function(e,t,n,r){let i=r.initialInputs;(void 0===i||e>=i.length)&&(i=function(e,t,n){const r=n.initialInputs||(n.initialInputs=[]);for(let o=r.length;o<=e;o++)r.push(null);const i=n.attrs;let s=0;for(;s<i.length;){const n=i[s];if(0===n){s+=4;continue}if(5===n){s+=2;continue}if("number"==typeof n)break;const o=t[n],a=i[s+1];if(void 0!==o){(r[e]||(r[e]=[])).push(n,o,a)}s+=2}return r}(e,n.inputs,r));const s=i[e];if(s){const e=n.setInput;for(let r=0;r<s.length;){const i=s[r++],o=s[r++],a=s[r++];e?n.setInput(t,a,i,o):t[o]=a}}}(r,t,n,i),e[qt].firstTemplatePass&&n.contentQueries&&(i.flags|=4),yn(n)){Hn(i.index,e)[Yt]=t}}function ba(e,t,n){const r=Un(t,e);uo(n,e),r&&uo(r,e)}function _a(e){const t=tr()[qt];(t.components||(t.components=[])).push(e.index)}function Ea(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;t.template&&(n[""]=e)}}function Sa(e,t,n){const r=e.flags;e.flags=1&r,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ca(e,t,n,r){e.data.push(n);const i=new Cn(r,yn(n),null);e.blueprint.push(i),t.push(i)}function Ta(e,t,n){const r=Un(t,e),i=ca(n),s=e[Jt],o=Da(e,ea(e,i,null,n.onPush?64:16,e[t.index],t,s,s.createRenderer(r,n)));o[Kt]=t,e[t.index]=o,e[qt].firstTemplatePass&&_a(t)}function xa(e,t,n,r,i,s){const o=Bn(e,r),a=r[Zt];if(null==n)Ai(a)?a.removeAttribute(o,t,s):o.removeAttribute(t);else{const u=qn(e,r),c=null==i?Wr(n):i(n,u.tagName||"",t);Ai(a)?a.setAttribute(o,t,c,s):s?o.setAttributeNS(s,t,c):o.setAttribute(t,c)}}function Ia(e,t,n,r,i){const s=new Array(e,!0,i?-1:0,t,null,null,r,n,null);return s}function Aa(e,t){const n=Hn(t,e);(128==(128&n[$t])||yr(e))&&80&n[$t]&&(!function(e){const t=e[qt];for(let n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(n),Ra(n,n[Yt]))}function Da(e,t){return e[tn]?e[nn][zt]=t:e[tn]=t,e[nn]=t,t}function Na(e){for(;e;){e[$t]|=64;const t=Vi(e);if(wn(e)&&!t)return e;e=t}return null}function ka(e){for(let t=0;t<e.components.length;t++){const n=e.components[t];ia(Wn(n),n)}}function Pa(e,t){const n=e[Jt];n.begin&&n.begin();try{yr(e)&&Ra(e,t),Ra(e,t)}catch(r){throw $a(e,r),r}finally{n.end&&n.end()}}function Ma(e){ka(e[Yt])}function Oa(e,t){Sr(!0);try{Pa(e,t)}finally{Sr(!1)}}function Ra(e,t){const n=e[qt],r=Nr(e,e[Kt]),i=n.template,s=yr(e);let o=!1;try{Kn(e),s&&La(1,n,t),sa(e,i,oa(e),t),Xo(e),o=!0}finally{Mr(r,o)}}function La(e,t,n){const r=t.viewQuery;null!==r&&(Dr(0),r(e,n))}function Fa(e,t="",n=""){const r=e[qt].data,i=e[Gt]-1,s=Jr+t+Jr+n;return null==r[i]?r[i]=s:null}const Va=Yo;function Ba(e){return void 0===e.inputs&&(e.inputs=da(e,0)),e.inputs}function Ua(e){return e[Qt]||(e[Qt]=[])}function ja(e){return e[qt].cleanup||(e[qt].cleanup=[])}function qa(e,t){return t[e.index][Zt]}function $a(e,t){const n=e[Xt],r=n?n.get(ds,null):null;r&&r.handleError(t)}function Ha(e,t,n){const r=e[qt];for(let i=0;i<t.length;){const s=t[i++],o=t[i++],a=t[i++],u=e[s],c=r.data[s];c.setInput?c.setInput(u,n,o,a):u[a]=n}}function za(e,t,n){const r=Bn(t,e),i=e[Zt];Ai(i)?i.setValue(r,n):r.textContent=n}function Wa(e,t,n){Fo(e,t,n.classes,!0),Fo(e,t,n.styles,!1)}function Ka(e,t){const n=t[Ht];return-1===e.index?mn(n)?n:null:n}function Ga(e,t){const n=Ka(e,t);return n?uu(t[Zt],n[hn]):null}function Qa(e,t,n,r,i){if(null!=r){let s,o=!1;mn(r)?s=r:fn(r)&&(o=!0,r=r[jt]);const a=Vn(r);0===e?ou(t,n,a,i||null):1===e?hu(t,a,o):2===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[hn],o=Vn(n);s!==o&&Qa(t,e,r,s,i);for(let a=dn;a<n.length;a++){const i=n[a];mu(e,t,i,r,s)}}(t,e,s,n,i)}}function Ya(e,t){return Ai(t)?t.createText(Wr(e)):t.createTextNode(Wr(e))}function Xa(e,t,n){const r=Ga(e[qt].node,e);if(r){mu(e[Zt],t?0:1,e,r,n)}}function Ja(e,t,n){const r=dn+n,i=t.length;n>0&&(t[r-1][zt]=e),n<i-dn?(e[zt]=t[r],lt(t,dn+n,e)):(t.push(e),e[zt]=null),e[Ht]=t;const s=e[sn];null!==s&&t!==s&&function(e,t){const n=e[ln];null===n?e[ln]=[t]:n.push(t)}(s,e);const o=e[Wt];null!==o&&o.insertView(e[qt]),e[$t]|=128}function Za(e,t){const n=e[ln],r=n.indexOf(t);n.splice(r,1)}function eu(e,t){if(e.length<=dn)return;const n=dn+t,r=e[n];if(r){const i=r[sn];null!==i&&i!==e&&Za(i,r),t>0&&(e[n-1][zt]=r[zt]);const s=ht(e,dn+t);Xa(r,!1);const o=s[Wt];null!==o&&o.detachView(s[qt]),r[Ht]=null,r[zt]=null,r[$t]&=-129}return r}function tu(e,t){const n=eu(e,t);n&&nu(n)}function nu(e){if(!(256&e[$t])){const t=e[Zt];Ai(t)&&t.destroyNode&&mu(t,2,e,null,null),function(e){let t=e[tn];if(!t)return iu(e);for(;t;){let n=null;if(fn(t))n=t[tn];else{const e=t[dn];e&&(n=e)}if(!n){for(;t&&!t[zt]&&t!==e;)iu(t),t=ru(t,e);iu(t||e),n=t&&t[zt]}t=n}}(e)}}function ru(e,t){let n;return fn(e)&&(n=e[Kt])&&2===n.type?Ka(n,e):e[Ht]===t?null:e[Ht]}function iu(e){if(fn(e)&&!(256&e[$t])){e[$t]&=-129,e[$t]|=256,function(e){const t=e[qt];let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof Cn||n[r+1].call(t)}}(e),function(e){const t=e[qt].cleanup;if(null!==t){const n=e[Qt];for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const i=t[r+1],s="function"==typeof i?i(e):Vn(e[i]),o=n[t[r+2]],a=t[r+3];"boolean"==typeof a?s.removeEventListener(t[r],o,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else{const e=n[t[r+1]];t[r].call(e)}e[Qt]=null}}(e);const t=e[Kt];t&&3===t.type&&Ai(e[Zt])&&e[Zt].destroy();const n=e[sn];if(null!==n&&mn(e[Ht])){n!==e[Ht]&&Za(n,e);const t=e[Wt];null!==t&&t.detachView(e[qt])}}}function su(e,t){if(wn(t))return uu(t[Zt],Un(e,t));const n=function(e){for(;null!=e.parent&&(4===e.parent.type||5===e.parent.type);)e=e.parent;return e}(e),r=n.parent;if(null==r){const e=t[Kt];return 2===e.type?Ga(e,t):function(e){const t=e[Kt];return t&&3===t.type?Un(t,Vi(e)):null}(t)}{const e=n&&5===n.type;if(e&&2&n.flags)return Un(n,t).parentNode;if(1&r.flags&&!e){const e=t[qt].data,n=e[e[r.index].directiveStart].encapsulation;if(n!==vt.ShadowDom&&n!==vt.Native)return null}return Un(r,t)}}function ou(e,t,n,r){Ai(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function au(e,t,n,r){null!==r?ou(e,t,n,r):function(e,t,n){Ai(e)?e.appendChild(t,n):t.appendChild(n)}(e,t,n)}function uu(e,t){return Ai(e)?e.parentNode(t):t.parentNode}function cu(e,t,n){const r=su(t,n);if(null!=r){const i=n[Zt],s=function(e,t){if(2===e.type){const n=Ka(e,t);return lu(n.indexOf(t,dn)-dn,n)}return 4===e.type||5===e.type?Un(e,t):null}(t.parent||n[Kt],n);if(Array.isArray(e))for(let t of e)au(i,r,t,s);else au(i,r,e,s)}}function lu(e,t){const n=dn+e+1;if(n<t.length){const e=t[n],r=e[Kt].child;return null!==r?jn(r,e):t[hn]}return t[hn]}function hu(e,t,n){const r=uu(e,t);r&&function(e,t,n,r){Ai(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function pu(e,t,n,r){const i=r[Ht];let s=r[Kt].projection[n];if(Array.isArray(s))cu(s,t,e);else for(;s;)32&s.flags||(1===s.type?pu(e,t,s.projection,Ui(i)):(s.flags|=2,fu(s,t,e,i))),s=s.projectionNext}function du(e,t,n,r){for(;e;)fu(e,t,n,r),e=e.next}function fu(e,t,n,r){const i=Un(e,r);cu(i,t,n),uo(i,r);const s=r[e.index];if(0===e.type)for(let o=dn;o<s.length;o++)Xa(s[o],!0,s[hn]);else if(5===e.type){let t=e.child;du(t,t,r,r)}else 4===e.type&&du(e.child,t,n,r),mn(s)&&cu(s[hn],t,n)}function mu(e,t,n,r,i){const s=n[qt];let o=s.node.child;for(;null!==o;)gu(e,t,n,o,r,i),o=o.next}function gu(e,t,n,r,i,s){const o=r.type;32&r.flags||(4===o||5===o?function(e,t,n,r,i,s){Qa(t,e,i,n[r.index],s);let o=r.child;for(;o;)gu(e,t,n,o,i,s),o=o.next}(e,t,n,r,i,s):1===o?function(e,t,n,r,i,s){const o=Ui(n),a=o[Kt],u=a.projection[r.projection];if(void 0!==u)if(Array.isArray(u))for(let c=0;c<u.length;c++){const n=u[c];Qa(t,e,i,n,s)}else{let n=u;const r=o[Ht];for(;null!==n;)gu(e,t,r,n,i,s),n=n.projectionNext}}(e,t,n,r,i,s):Qa(t,e,i,n[r.index],s))}class vu{constructor(e,t,n){this._context=t,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=e}get rootNodes(){if(null==this._lView[jt]){const e=this._lView[Kt];return function e(t,n,r){let i=n.child;for(;i;){const n=jn(i,t);if(n&&r.push(n),4===i.type)e(t,i,r);else if(1===i.type){const e=Ui(t),n=e[Kt],s=Vi(e);let o=n.projection[i.projection];for(;o&&s;)r.push(Un(o,s)),o=o.next}i=i.next}return r}(this._lView,e,[])}return[]}get context(){return this._context?this._context:this._lookUpContext()}get destroyed(){return 256==(256&this._lView[$t])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}nu(this._lView)}onDestroy(e){var t,n;t=this._lView,n=e,Ua(t).push(n),t[qt].firstTemplatePass&&ja(t).push(t[Qt].length-1,null)}markForCheck(){Na(this._lView)}detach(){this._lView[$t]&=-129}reattach(){this._lView[$t]|=128}detectChanges(){Pa(this._lView,this.context)}checkNoChanges(){Oa(this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){this._appRef=null,function(e){mu(e[Zt],1,e,null,null)}(this._lView)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}_lookUpContext(){return this._context=Vi(this._lView)[this._componentIndex]}}class yu extends vu{constructor(e){super(e,null,-1),this._view=e}detectChanges(){Ma(this._view)}checkNoChanges(){!function(e){Sr(!0);try{Ma(e)}finally{Sr(!1)}}(this._view)}get context(){return null}}let wu,bu,_u;function Eu(e,t,n){return wu||(wu=class extends e{}),new wu(Un(t,n))}function Su(e,t,n,r){return bu||(bu=class extends e{constructor(e,t,n){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=function(e,t,n,r){const i=gr(),s=dr();fr(null,!0);const o=ea(n,e,t,16,null,null);return o[rn]=n,na(e,null,-1,o),e.firstTemplatePass&&(e.node.injectorIndex=r),fr(s,i),o}(t,e,this._declarationView,this._declarationTContainer.injectorIndex),r=this._declarationView[this._declarationTContainer.index];n[sn]=r;const i=this._declarationView[Wt];null!==i&&(n[Wt]=i.createEmbeddedView(t)),ra(n,t,e);const s=new vu(n,e,-1);return s._tViewNode=n[Kt],s}}),0===n.type?new bu(r,n,Eu(t,n,r)):null}function Cu(e,t,n,r){let i;_u||(_u=class extends e{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostView=n}get element(){return Eu(t,this._hostTNode,this._hostView)}get injector(){return new is(this._hostTNode,this._hostView)}get parentInjector(){const e=Qi(this._hostTNode,this._hostView),t=Fi(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){const e=n.parent.injectorIndex;let t=n.parent;for(;null!=t.parent&&e==t.injectorIndex;)t=t.parent;return t}let r=Li(e),i=t,s=t[Kt];for(;r>1;)s=(i=i[rn])[Kt],r--;return s}(e,this._hostView,this._hostTNode);return Oi(e)&&null!=n?new is(n,t):new is(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[pn]&&this._lContainer[pn][e]||null}get length(){return this._lContainer.length-dn}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;!i&&null==e.ngModule&&s&&(i=s.get(ot,null));const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");this.allocateContainerIfNeeded();const n=e._lView,r=this._adjustIndex(t);if(mn(n[Ht]))return this.move(e,r);return Ja(n,this._lContainer,r),Xa(n,!0,lu(r,this._lContainer)),e.attachToViewContainerRef(this),lt(this._lContainer[pn],r,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this.indexOf(e);return-1!==n&&this.detach(n),this.insert(e,t),e}indexOf(e){return null!==this._lContainer[pn]?this._lContainer[pn].indexOf(e):0}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1);tu(this._lContainer,t),ht(this._lContainer[pn],t)}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=eu(this._lContainer,t);return n&&null!=ht(this._lContainer[pn],t)?new vu(n,n[Yt],-1):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[pn]&&(this._lContainer[pn]=[])}});const s=r[n.index];if(mn(s))(i=s)[cn]=-1;else{let e;if(e=4===n.type?Vn(s):r[Zt].createComment(""),wn(r)){const t=r[Zt],i=Un(n,r);ou(t,uu(t,i),e,function(e,t){return Ai(e)?e.nextSibling(t):t.nextSibling}(t,i))}else cu(e,n,r);r[n.index]=i=Ia(s,r,e,n,!0),Da(r,i)}return new _u(i,n,r)}function Tu(e=!1){return function(e,t,n){if(vn(e)&&!n){const n=e.directiveStart,r=Hn(e.index,t);return new vu(r,null,n)}if(3===e.type||0===e.type||4===e.type){const e=Ui(t);return new vu(e,e[Yt],-1)}return null}(dr(),tr(),e)}class xu{}xu.__NG_ELEMENT_ID__=()=>Au();const Iu=(...e)=>{},Au=Iu,Du=Function;function Nu(e){return"function"==typeof e}const ku=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Pu=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Mu=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ou=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class Ru{constructor(e){this._reflect=e||Ve.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=void 0===e?new Array(t.length):new Array(e.length);for(let r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]&&e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(function(e){return ku.test(e)||Ou.test(e)||Pu.test(e)&&!Mu.test(e)}(e.toString()))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const n=e.ctorParameters;if(n&&n!==t.ctorParameters){const e="function"==typeof n?n():n,t=e.map(e=>e&&e.type),r=e.map(e=>e&&Lu(e.decorators));return this._zipTypesAndAnnotations(t,r)}const r=e.hasOwnProperty(ce)&&e[ce],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||r?this._zipTypesAndAnnotations(i,r):new Array(e.length).fill(void 0)}parameters(e){if(!Nu(e))return[];const t=Fu(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Lu(e.decorators):e.hasOwnProperty(ue)?e[ue]:null}annotations(e){if(!Nu(e))return[];const t=Fu(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=Lu(t[e])}),n}return e.hasOwnProperty(le)?e[le]:null}propMetadata(e){if(!Nu(e))return{};const t=Fu(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return Nu(e)&&this._ownPropMetadata(e,Fu(e))||{}}hasLifecycleHook(e,t){return e instanceof Du&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${Ne(e)}`}resourceUri(e){return`./${Ne(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function Lu(e){return e?e.map(e=>{return new(0,e.type.annotationCls)(...e.args?e.args:[])}):[]}function Fu(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}Ee({provide:String,useValue:Ee});const Vu=Ee({provide:String,useValue:Ee}),Bu=[];function Uu(e,t){if(!t){const t=(new Ru).parameters(e);return()=>new e(...nt(t))}if(Vu in t){const e=t;return()=>e.useValue}if(t.useExisting){const e=t;return()=>et(e.useExisting)}if(t.useFactory){const e=t;return()=>e.useFactory(...nt(e.deps||Bu))}if(t.useClass){const n=t;let r=t.deps;if(!r){const t=new Ru;r=t.parameters(e)}return()=>new n.useClass(...nt(r))}{let n=t.deps;if(!n){const t=new Ru;n=t.parameters(e)}return()=>new e(...nt(n))}}const ju=he("Injectable",void 0,void 0,void 0,(e,t)=>qu(e,t));const qu=function(e,t){t&&void 0!==t.providedIn&&!xe(e)&&(e.ngInjectableDef=Ce({token:e,providedIn:t.providedIn,factory:Uu(e,t)}))},$u=new Ue("The presence of this token marks an injector as being the root injector.");function Hu(e){const t=xe(e);if(null!==t)return t.factory;const n=Ie(e);if(null!==n)return n.factory;if(e instanceof Ue)throw new Error(`Token ${Ne(e)} is missing an ngInjectableDef definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=new Array(t).fill("?");throw new Error(`Can't resolve all parameters for ${Ne(e)}: (${n.join(", ")}).`)}const n=(r=e,r&&r[Ae]?(console.warn(`DEPRECATED: DI is instantiating a token "${r.name}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${r.name}" class.`),r[Ae]):null);var r;return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function zu(e,t,n){let r=void 0;if(Ku(e))return Hu(Me(e));if(Wu(e))r=()=>Me(e.useValue);else if((i=e)&&i.useExisting)r=()=>et(Me(e.useExisting));else if(function(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...nt(e.deps||[]));else{const i=Me(e&&(e.useClass||e.provide));if(i||function(e,t,n){let r="";if(e&&t){r=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==n?"?"+n+"?":"...").join(", ")}]`}throw new Error(`Invalid provider for the NgModule '${Ne(e)}'`+r)}(t,n,e),!function(e){return!!e.deps}(e))return Hu(i);r=()=>new i(...nt(e.deps))}var i;return r}function Wu(e){return null!==e&&"object"==typeof e&&Ge in e}function Ku(e){return"function"==typeof e}const Gu=function(e,t,n){return new tc(e,t,n)};class Qu{static create(e,t){return Array.isArray(e)?Gu(e,t,""):Gu(e.providers,e.parent,e.name||"")}}Qu.THROW_IF_NOT_FOUND=qe,Qu.NULL=new rt,Qu.ngInjectableDef=Ce({token:Qu,providedIn:"any",factory:()=>et(je)}),Qu.__NG_ELEMENT_ID__=-1;const Yu=function(e){return e},Xu=[],Ju=Yu,Zu=function(){return Array.prototype.slice.call(arguments)},ec="\u0275";class tc{constructor(e,t=Qu.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(Qu,{token:Qu,fn:Yu,deps:Xu,value:this,useNew:!1}),r.set(je,{token:je,fn:Yu,deps:Xu,value:this,useNew:!1}),function e(t,n){if(n)if((n=Me(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw ic("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ic("Unexpected provider",n);{let e=Me(n.provide);const r=function(e){const t=function(e){let t=Xu;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,i=Me(n[e]);if(i instanceof Array)for(let e=0,t=i;e<t.length;e++){const n=t[e];n instanceof ge||n==ge?r|=1:n instanceof ye||n==ye?r&=-3:n instanceof ve||n==ve?r&=-5:i=n instanceof me?n.token:Me(n)}t.push({token:i,options:r})}}else if(e.useExisting){const n=Me(e.useExisting);t=[{token:n,options:6}]}else if(!(n||Ge in e))throw ic("'deps' required",e);return t}(e);let n=Yu,r=Xu,i=!1,s=Me(e.provide);if(Ge in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=Me(e.useClass);else{if("function"!=typeof s)throw ic("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=s}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==Zu)throw nc(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:Zu,value:Xu});e=n,r.deps.push({token:e,options:6})}const i=t.get(e);if(i&&i.fn==Zu)throw nc(e);t.set(e,r)}}}(r,e)}get(e,t,n=_e.Default){const r=this._records.get(e);try{return rc(e,r,this._records,this.parent,t,n)}catch(i){return it(i,e,"StaticInjectorError",this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(Ne(n))),`StaticInjector[${e.join(", ")}]`}}function nc(e){return ic("Cannot mix multi providers and regular providers",e)}function rc(e,t,n,r,i,s){try{return function(e,t,n,r,i,s){let o;if(!t||s&_e.SkipSelf)s&_e.Self||(o=r.get(e,i,_e.Default));else{if((o=t.value)==Ju)throw Error(ec+"Circular dependency");if(o===Xu){t.value=Ju;let e=void 0,i=t.useNew,s=t.fn,a=t.deps,u=Xu;if(a.length){u=[];for(let e=0;e<a.length;e++){const t=a[e],i=t.options,s=2&i?n.get(t.token):void 0;u.push(rc(t.token,s,n,s||4&i?r:Qu.NULL,1&i?null:Qu.THROW_IF_NOT_FOUND,_e.Default))}}t.value=o=i?new s(...u):s.apply(e,u)}}return o}(e,t,n,r,i,s)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[$e]=o[$e]||[]).unshift(e),t&&t.value==Ju&&(t.value=Xu),o}}function ic(e,t){return new Error(st(e,t,"StaticInjectorError"))}function sc(e){if(e.length>1){return" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>Ne(e.token)).join(" -> ")+")"}return""}function oc(e,t,n,r){const i=[t],s=n(i),o=r?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r[us]=t,r}(s,r):Error(s);return o.addKey=ac,o.keys=i,o.injectors=[e],o.constructResolvingMessage=n,o[us]=r,o}function ac(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function uc(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const e=t[r];e&&0!=e.length?n.push(e.map(Ne).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+Ne(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Ne(e)+"' is decorated with Injectable.")}class cc{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=Ne(this.token)}static get(e){return lc.get(Me(e))}static get numberOfKeys(){return lc.numberOfKeys}}const lc=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof cc)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new cc(e,cc.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}};const hc=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new Ru);class pc{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new pc(e,!1,null)}}const dc=[];class fc{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class mc{constructor(e,t){this.factory=e,this.dependencies=t}}function gc(e){let t,n;if(e.useClass){const r=Me(e.useClass);t=hc.factory(r),n=wc(r)}else e.useExisting?(t=e=>e,n=[pc.fromKey(cc.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>bc(e,t,n))}return wc(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=dc);return new mc(t,n)}function vc(e){return new fc(cc.get(e.provide),[gc(e)],e.multi||!1)}function yc(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)i.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new fc(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(function e(t,n){t.forEach(t=>{if(t instanceof Du)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!(t instanceof Array))throw function(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}(t);e(t,n)}});return n}(e,[]).map(vc),new Map);return Array.from(t.values())}function wc(e){const t=hc.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw uc(e,t);return t.map(n=>bc(e,n,t))}function bc(e,t,n){let r=null,i=!1;if(!Array.isArray(t))return _c(t instanceof me?t.token:t,i,null);let s=null;for(let o=0;o<t.length;++o){const e=t[o];e instanceof Du?r=e:e instanceof me?r=e.token:e instanceof ge?i=!0:e instanceof ve||e instanceof ye?s=e:e instanceof Ue&&(r=e)}if(null!=(r=Me(r)))return _c(r,i,s);throw uc(e,n)}function _c(e,t,n){return new pc(cc.get(e),t,n)}const Ec=new Object;class Sc{static resolve(e){return yc(e)}static resolveAndCreate(e,t){const n=Sc.resolve(e);return Sc.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Cc(e,t)}}class Cc{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=Ec}get(e,t=qe){return this._getByKey(cc.get(e),null,t)}resolveAndCreateChild(e){const t=Sc.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new Cc(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(Sc.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw t=this,n=e.key,oc(t,n,(function(e){return`Cannot instantiate cyclic dependency!${sc(e)}`}));var t,n;return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=new Array(e.resolvedFactories.length);for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,i;try{r=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(u){throw u.addKey&&u.addKey(this,e.key),u}try{i=n(...r)}catch(u){throw s=this,o=u,u.stack,a=e.key,oc(s,a,(function(e){const t=Ne(e[0].token);return`${o.message}: Error during instantiation of ${t}!${sc(e)}.`}),o)}var s,o,a;return i}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:qe)}_getByKey(e,t,n){return e===Cc.INJECTOR_KEY?this:t instanceof ve?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Ec&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Ec}_throwOrNull(e,t){if(t!==qe)return t;throw function(e,t){return oc(e,t,(function(e){return`No provider for ${Ne(e[0].token)}!${sc(e)}`}))}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==Ec?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let r;for(r=n instanceof ye?this.parent:this;r instanceof Cc;){const t=r,n=t._getObjByKeyId(e.id);if(n!==Ec)return n;r=t.parent}return null!==r?r.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=new Array(e._providers.length);for(let r=0;r<e._providers.length;++r)n[r]=t(e.getProviderAtIndex(r));return n}(this,e=>' "'+e.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}Cc.INJECTOR_KEY=cc.get(Qu);const Tc=new Ue("AnalyzeForEntryComponents");class xc{}const Ic=fe("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t),xc);fe("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),xc);fe("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t),xc);fe("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),xc);new Map;new Set;function Ac(e){const t=tr(),n=t[qt];n.firstTemplatePass&&(function(e,t,n){const r=e.expandoInstructions,i=r.length;i>=2&&r[i-2]===t.hostBindings?r[i-1]=r[i-1]+n:r.push(t.hostBindings,n)}(n,Yn,e),function(e,t,n){for(let r=0;r<n;r++)t.push(Vo),e.blueprint.push(Vo),e.data.push(null)}(n,t,e))}let Dc=null;function Nc(){if(!Dc){const e=Ve.Symbol;if(e&&e.iterator)Dc=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Dc=n)}}}return Dc}function kc(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Pc(e,t){const n=Oc(e),r=Oc(t);if(n&&r)return function(e,t,n){const r=e[Nc()](),i=t[Nc()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Pc);{const i=e&&("object"==typeof e||"function"==typeof e),s=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!s)||kc(e,t)}}class Mc{constructor(e){this.wrapped=e}static wrap(e){return new Mc(e)}static unwrap(e){return Mc.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Mc}}function Oc(e){return!!Rc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Nc()in e)}function Rc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Lc(e,t,n){return e[t]=n}function Fc(e,t){return e[t]}function Vc(e,t,n){const r=e[t];return!!zr(r,n)&&(e[t]=n,!0)}function Bc(e,t,n,r){const i=Vc(e,t,n);return Vc(e,t+1,r)||i}function Uc(e,t,n,r,i){const s=Bc(e,t,n,r);return Vc(e,t+2,i)||s}function jc(e,t,n,r,i,s){const o=Bc(e,t,n,r);return Bc(e,t+2,i,s)||o}function qc(e,t,n){const r=Rr(),i=$c(tr(),t);return i!==Vo&&ma(r,e,i,n),qc}function $c(e,t){const n=e[Gt]++;return Fa(e),Vc(e,n,t)?t:Vo}function Hc(e,t,n,r){const i=Rr(),s=tr(),o=$c(s,t);return o!==Vo&&xa(i,e,o,s,n,r),Hc}function zc(e,t){let n=!1;const r=e[qt].data;let i=e[Gt];if(null==r[i]){for(let e=2;e<t.length;e+=2)r[i++]=t[e];i=e[Gt]}for(let o=1;o<t.length;o+=2)n=Vc(e,i++,t[o])||n;if(e[Gt]=i,Fa(e,t[0],t[t.length-1]),!n)return Vo;let s=t[0];for(let o=1;o<t.length;o+=2)s+=Wr(t[o])+t[o+1];return s}function Wc(e,t,n,r){const i=Vc(e,e[Gt]++,n);return Fa(e,t,r),i?t+Wr(n)+r:Vo}function Kc(e,t,n,r,i,s){const o=e[Gt],a=Bc(e,o,n,i);return e[Gt]+=2,Fa(e,t,s)&&(e[qt].data[o]=r),a?t+Wr(n)+r+Wr(i)+s:Vo}function Gc(e,t,n,r,i,s,o,a){const u=e[Gt],c=Uc(e,u,n,i,o);if(e[Gt]+=3,Fa(e,t,a)){const t=e[qt].data;t[u]=r,t[u+1]=s}return c?t+Wr(n)+r+Wr(i)+s+Wr(o)+a:Vo}function Qc(e,t,n,r,i,s,o,a,u,c){const l=e[Gt],h=jc(e,l,n,i,o,u);if(e[Gt]+=4,Fa(e,t,c)){const t=e[qt].data;t[l]=r,t[l+1]=s,t[l+2]=a}return h?t+Wr(n)+r+Wr(i)+s+Wr(o)+a+Wr(u)+c:Vo}function Yc(e,t,n,r,i,s,o,a,u,c,l,h){const p=e[Gt];let d=jc(e,p,n,i,o,u);if(d=Vc(e,p+4,l)||d,e[Gt]+=5,Fa(e,t,h)){const t=e[qt].data;t[p]=r,t[p+1]=s,t[p+2]=a,t[p+3]=c}return d?t+Wr(n)+r+Wr(i)+s+Wr(o)+a+Wr(u)+c+Wr(l)+h:Vo}function Xc(e,t,n,r,i,s,o,a,u,c,l,h,p,d){const f=e[Gt];let m=jc(e,f,n,i,o,u);if(m=Bc(e,f+4,l,p)||m,e[Gt]+=6,Fa(e,t,d)){const t=e[qt].data;t[f]=r,t[f+1]=s,t[f+2]=a,t[f+3]=c,t[f+4]=h}return m?t+Wr(n)+r+Wr(i)+s+Wr(o)+a+Wr(u)+c+Wr(l)+h+Wr(p)+d:Vo}function Jc(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m){const g=e[Gt];let v=jc(e,g,n,i,o,u);if(v=Uc(e,g+4,l,p,f)||v,e[Gt]+=7,Fa(e,t,m)){const t=e[qt].data;t[g]=r,t[g+1]=s,t[g+2]=a,t[g+3]=c,t[g+4]=h,t[g+5]=d}return v?t+Wr(n)+r+Wr(i)+s+Wr(o)+a+Wr(u)+c+Wr(l)+h+Wr(p)+d+Wr(f)+m:Vo}function Zc(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g,v){const y=e[Gt];let w=jc(e,y,n,i,o,u);if(w=jc(e,y+4,l,p,f,g)||w,e[Gt]+=8,Fa(e,t,v)){const t=e[qt].data;t[y]=r,t[y+1]=s,t[y+2]=a,t[y+3]=c,t[y+4]=h,t[y+5]=d,t[y+6]=m}return w?t+Wr(n)+r+Wr(i)+s+Wr(o)+a+Wr(u)+c+Wr(l)+h+Wr(p)+d+Wr(f)+m+Wr(g)+v:Vo}function el(e,t,n,r,i,s){const o=Rr(),a=tr(),u=Wc(a,t,n,r);return u!==Vo&&xa(o,e,u,a,i,s),el}function tl(e,t,n,r,i,s,o,a){const u=Rr(),c=tr(),l=Kc(c,t,n,r,i,s);return l!==Vo&&xa(u,e,l,c,o,a),tl}function nl(e,t,n,r,i,s,o,a,u,c){const l=Rr(),h=tr(),p=Gc(h,t,n,r,i,s,o,a);return p!==Vo&&xa(l,e,p,h,u,c),nl}function rl(e,t,n,r,i,s,o,a,u,c,l,h){const p=Rr(),d=tr(),f=Qc(d,t,n,r,i,s,o,a,u,c);return f!==Vo&&xa(p,e,f,d,l,h),rl}function il(e,t,n,r,i,s,o,a,u,c,l,h,p,d){const f=Rr(),m=tr(),g=Yc(m,t,n,r,i,s,o,a,u,c,l,h);return g!==Vo&&xa(f,e,g,m,p,d),il}function sl(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m){const g=Rr(),v=tr(),y=Xc(v,t,n,r,i,s,o,a,u,c,l,h,p,d);return y!==Vo&&xa(g,e,y,v,f,m),sl}function ol(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g,v){const y=Rr(),w=tr(),b=Jc(w,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m);return b!==Vo&&xa(y,e,b,w,g,v),ol}function al(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g,v,y,w){const b=Rr(),_=tr(),E=Zc(_,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g,v);return E!==Vo&&xa(b,e,E,_,y,w),al}function ul(e,t,n,r){const i=Rr(),s=tr(),o=zc(s,t);return o!==Vo&&xa(i,e,o,s,n,r),ul}function cl(e){const t=tr(),n=dl(t,e,null,null);t[qt].firstTemplatePass&&(n.tViews=[]),vr()}function ll(e,t,n,r,i,s,o,a){const u=tr(),c=u[qt],l=dl(u,e,i||null,s||null);if(c.firstTemplatePass){ga(c,u,l,o||null);const e=l.tViews=la(-1,t,n,r,c.directiveRegistry,c.pipeRegistry,null,null);null!==c.queries&&(c.queries.template(c,l),e.queries=c.queries.embeddedTView(l))}ua(c,u,l,a),uo(Un(l,u),u),xn(c,l),vr()}function hl(e){const t=tr(),n=t[qt];let r=$n(n.data,e);fr(r,!0),t[e+an][cn]=0,In(t,n,Er(),void 0)}function pl(){let e=dr();gr()?vr():fr(e=e.parent,!1);const t=tr()[e.index],n=t[cn];for(;n<t.length-dn;)tu(t,n)}function dl(e,t,n,r){const i=t+an,s=e[i]=e[Zt].createComment(""),o=ta(e[qt],e[Kt],t,0,n,r),a=e[i]=Ia(s,e,s,o);return cu(s,o,e),Da(e,a),o}function fl(e){return $n(br(),e)}function ml(e){return $n(tr(),e)}function gl(e,t=_e.Default){e=Me(e);const n=tr();return null==n?et(e,t):Xi(dr(),n,e,t)}function vl(e){return function(e,t){if("class"===t)return _i(e.classes);if("style"===t)return _i(e.styles);const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(ki(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(dr(),e)}function yl(){var e,t;tr()[qt].firstTemplatePass&&(e=dr(),t=Pl(),ti(Ol(e),t),ti(Ml(e),t))}function wl(e){$r(e)}function bl(e,t,n){_l(Rr(),e,t,n)}function _l(e,t,n,r){Sl(e,tr()[Gt]++,t,function(e,t){if(e===Vo)return e;let n=null;null!==e&&(n=t?Wr(e)+t:e);return n}(n,r),!1,Ll())}function El(e,t){const n=tr()[Gt]++;Sl(Rr(),n,e,t,!0,Ll())}function Sl(e,t,n,r,i,s){const o=tr(),a=qn(e,o),u=Un(a,o);let c=!1;if(r!==Vo)if(i)c=Co(Ol(a),o,u,n,t,r,s,!1);else{const e=Hr();c=To(Ml(a),o,u,n,t,r,e,s,!1)}return c}function Cl(e){const t=Rr(),n=tr(),r=qn(t,n),i=Ml(r),s=Pl(),o=n[Gt]++;!s&&Si(r)&&e!==Vo&&(Al(i,n,r,o,e,!1),e=Vo);Il(t,i,o,e,!1,Ll())}function Tl(e){xl(Rr(),e)}function xl(e,t){const n=tr(),r=qn(e,n),i=Ol(r),s=Pl(),o=n[Gt]++;!s&&Ei(r)&&t!==Vo&&(Al(i,n,r,o,t,!0),t=Vo);Il(e,i,o,t,!0,Ll())}function Il(e,t,n,r,i,s){qo();const o=tr();let a=!1;if(r!==Vo){const u=Un(qn(e,o),o),c=o[n];a=mi(c,r);const l=function(e,t,n){const r=Array.isArray(e)?e:[null];r[0]=t||null;for(let a=1;a<r.length;a+=2)Ti(r,a,null);let i,s=null,o=!1;if("string"==typeof t?t.length&&(s=t.split(/\s+/),o=!0):(s=t?Object.keys(t):null,i=t),s)for(let a=0;a<s.length;a++){const e=s[a];Wo(r,n?yi(e):e,!!o||i[e],!0)}return r}(c,r,!i);if(i)Co(t,o,u,null,n,l,s,a);else{To(t,o,u,null,n,l,Hr(),s,a)}}return a}function Al(e,t,n,r,i,s){if(t[r]!==i){if(i||pi(e)){Ha(t,n.inputs[s?"class":"style"],function(e,t,n){let r=t;e.length>0&&(r=n?vi(e,((i=t)&&"string"!=typeof i&&(i=Object.keys(i).join(" ")),i||"")):vi(e,function(e){let t="";if(e){const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];t=vi(t,`${i}:${e[i]}`,";")}}return t}(t),";"));var i;return r}(_i(e),i,s))}t[r]=i}}function Dl(){const e=Rr(),t=tr(),n=qn(e,t),r=function(e,t){return 3===e.type?t[Zt]:null}(n,t),i=Un(n,t),s=Pl(),o=Hr();ko(r,t,Ol(n),Ml(n),i,s,o),$r(null)}function Nl(e,t,n){let r=!1,i=wi(e.styles),s=wi(e.classes),o=-1;for(let a=n;a<t.length;a++){const e=t[a];if("number"==typeof e)o=e;else if(1==o)Wo(s=s||[""],e,!0),r=!0;else if(2==o){Wo(i=i||[""],e,t[++a]),r=!0}}return s&&s.length>1&&(e.classes||(e.classes=s),kl(e.classes,Ko(s,!0))),i&&i.length>1&&(e.styles||(e.styles=i),kl(e.styles,Ko(i,!1))),r}function kl(e,t){wi(e)[0]=t}function Pl(){return or+ar}function Ml(e){return Rl(e,!1)}function Ol(e){return Rl(e,!0)}function Rl(e,t){let n=t?e.classes:e.styles;return bi(n)||(n=[n||[""],0,ei,1,0,Zr],t?e.classes=n:e.styles=n),n}function Ll(){return ur>0}function Fl(e,t,n,r){const i=tr(),s=i[qt],o=i[e+an]=Zo(t),a=i[Zt],u=ta(s,i[Kt],e,3,t,n||null);if(null!=n){const e=Ni(o,n);s.firstTemplatePass&&Nl(u,n,e)}if(Wa(a,o,u),cu(o,u,i),0===Gn&&uo(o,i),Gn++,s.firstTemplatePass){ga(s,i,u,r||null);const e=Ba(u);e&&e.hasOwnProperty("class")&&(u.flags|=8),e&&e.hasOwnProperty("style")&&(u.flags|=16),null!==s.queries&&s.queries.elementStart(s,u)}ua(s,i,u),aa(s,u,i)}function Vl(){let e=dr();gr()?vr():fr(e=e.parent,!1);const t=e,n=tr(),r=n[qt];xn(r,e),Gn--,r.firstTemplatePass&&null!==r.queries&&gn(e)&&r.queries.elementEnd(e),Ei(t)&&t.classes&&jl(t.classes,n,t.inputs.class),Si(t)&&t.styles&&jl(t.styles,n,t.inputs.style)}function Bl(e,t,n,r){Fl(e,t,n,r),Vl()}function Ul(e){const t=Rr(),n=tr(),r=n[qt],i=qn(t,n);if(3===i.type){const t=Un(i,n),s=Ni(t,e);if(r.firstTemplatePass){if(Nl(i,e,s)){Wa(n[Zt],t,i)}}}}function jl(e,t,n){Ha(t,n,_i(e)||null)}function ql(e,t,n){const r=tr(),i=r[qt],s=r[Zt],o=r[e+an]=s.createComment(""),a=ta(i,r[Kt],e,4,"ng-container",t||null);t&&i.firstTemplatePass&&Nl(a,t,0),cu(o,a,r),i.firstTemplatePass&&(ga(i,r,a,n||null),i.queries&&i.queries.elementStart(i,a)),ua(i,r,a),uo(o,r),aa(i,a,r)}function $l(){let e=dr();const t=tr()[qt];gr()?vr():fr(e=e.parent,!1),xn(t,e),t.firstTemplatePass&&null!==t.queries&&gn(e)&&t.queries.elementEnd(e)}function Hl(e,t,n){ql(e,t,n),$l()}function zl(e,t,n){const r=tr(),i=dr(),s=2===i.type?i.parent:i,o=r[s.index];let a=function(e,t,n){for(let r=t+dn;r<e.length;r++){const t=e[r][qt].id;if(t===n)return e[r];if(!(t<n))break;tu(e,r-dn)}return null}(o,o[cn],e);if(a)ir=!0,Nr(a,a[qt].node);else{a=ea(r,function(e,t,n,r){const i=tr()[qt];const s=r.tViews;(e>=s.length||null==s[e])&&(s[e]=la(e,null,t,n,i.directiveRegistry,i.pipeRegistry,null,null));return s[e]}(e,t,n,s),null,16,null,null);const o=gr()?i:i&&i.parent;na(a[qt],o,e,a),Nr(a,a[qt].node)}return o&&(yr(a)&&Ja(a,o,o[cn]),o[cn]++),yr(a)?3:2}function Wl(){const e=tr(),t=e[Kt];yr(e)&&(Xo(e),e[$t]&=-5),Kn(e),Xo(e);const n=e[Ht];Mr(n[Ht],!0),fr(t,!1)}function Kl(){return tr()}function Gl(e){return!!e&&"function"==typeof e.then}function Ql(e){return!!e&&"function"==typeof e.subscribe}function Yl(e,t,n=!1,r){Jl(e,t,n,r)}function Xl(e,t,n=!1,r){Jl(e,t,n,r,qa)}function Jl(e,t,n=!1,r,i){const s=tr(),o=dr(),a=s[qt],u=a.firstTemplatePass&&(a.cleanup||(a.cleanup=[]));let c=!0;if(3===o.type){const a=Un(o,s),l=r?r(a):wt,h=l.target||a,p=i?i(o,s):s[Zt],d=Ua(s),f=d.length,m=r?e=>r(Vn(e[o.index])).target:o.index;if(Ai(p)){let n=null;if(!r&&function(e){return e.directiveEnd>e.directiveStart}(o)&&(n=function(e,t,n){const r=e[qt].cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const s=r[i];if(s===t&&r[i+1]===n){const t=e[Qt],n=r[i+2];return t.length>n?t[n]:null}"string"==typeof s&&(i+=2)}return null}(s,e,o.index)),null!==n)t.__ngNextListenerFn__=n.__ngNextListenerFn__,n.__ngNextListenerFn__=t,c=!1;else{t=eh(o,s,t,!1);const n=p.listen(l.name||h,e,t);d.push(t,n),u&&u.push(e,m,f,f+1)}}else t=eh(o,s,t,!0),h.addEventListener(e,t,n),d.push(t),u&&u.push(e,m,f,n)}void 0===o.outputs&&(o.outputs=da(o,1));const l=o.outputs;let h;if(c&&l&&(h=l[e])){const n=h.length;if(n){const r=Ua(s);for(let i=0;i<n;i+=3){const n=h[i],a=h[i+2],c=s[n],l=c[a];0;const p=l.subscribe(t),d=r.length;r.push(t,p),u&&u.push(e,o.index,d,-(d+1))}}}}function Zl(e,t,n){try{return!1!==t(n)}catch(r){return $a(e,r),!1}}function eh(e,t,n,r){return function i(s){const o=1&e.flags?Hn(e.index,t):t;0==(32&t[$t])&&Na(o);let a=Zl(t,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Zl(t,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function th(e=1){return kr(e)}function nh(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?vo(e,s,!0):yo(r,s))return i}else n=i}return n}function rh(e){const t=Ui(tr())[Kt];if(!t.projection){const n=e?e.length:1,r=t.projection=new Array(n).fill(null),i=r.slice();let s=t.child;for(;null!==s;){const t=e?nh(s,e):0;null!==t&&(i[t]?i[t].projectionNext=s:r[t]=s,i[t]=s),s=s.next}}}let ih=!1;function sh(e){ih=e}function oh(e,t=0,n){const r=tr(),i=ta(r[qt],r[Kt],e,1,null,n||null);null===i.projection&&(i.projection=t),vr(),ih||pu(r,i,t,Ui(r))}function ah(e,t,n){return uh(e,"",t,"",n),ah}function uh(e,t,n,r,i){const s=Rr(),o=Wc(tr(),t,n,r);return o!==Vo&&ma(s,e,o,i),uh}function ch(e,t,n,r,i,s,o){const a=Rr(),u=Kc(tr(),t,n,r,i,s);return u!==Vo&&ma(a,e,u,o),ch}function lh(e,t,n,r,i,s,o,a,u){const c=Rr(),l=Gc(tr(),t,n,r,i,s,o,a);return l!==Vo&&ma(c,e,l,u),lh}function hh(e,t,n,r,i,s,o,a,u,c,l){const h=Rr(),p=Qc(tr(),t,n,r,i,s,o,a,u,c);return p!==Vo&&ma(h,e,p,l),hh}function ph(e,t,n,r,i,s,o,a,u,c,l,h,p){const d=Rr(),f=Yc(tr(),t,n,r,i,s,o,a,u,c,l,h);return f!==Vo&&ma(d,e,f,p),ph}function dh(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f){const m=Rr(),g=Xc(tr(),t,n,r,i,s,o,a,u,c,l,h,p,d);return g!==Vo&&ma(m,e,g,f),dh}function fh(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g){const v=Rr(),y=Jc(tr(),t,n,r,i,s,o,a,u,c,l,h,p,d,f,m);return y!==Vo&&ma(v,e,y,g),fh}function mh(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g,v,y){const w=Rr(),b=Zc(tr(),t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g,v);return b!==Vo&&ma(w,e,b,y),mh}function gh(e,t,n){const r=Rr(),i=zc(tr(),t);return i!==Vo&&ma(r,e,i,n),gh}function vh(e,t){const n=tr(),r=n[e+an]=Ya(t,n[Zt]),i=ta(n[qt],n[Kt],e,3,null,null);vr(),cu(r,i,n)}function yh(e){const t=tr(),n=Rr(),r=$c(t,e);r!==Vo&&za(t,n,Wr(r))}function wh(e){return bh("",e,""),wh}function bh(e,t,n){const r=Rr(),i=tr(),s=Wc(i,e,t,n);return s!==Vo&&za(i,r,s),bh}function _h(e,t,n,r,i){const s=Rr(),o=tr(),a=Kc(o,e,t,n,r,i);return a!==Vo&&za(o,s,a),_h}function Eh(e,t,n,r,i,s,o){const a=Rr(),u=tr(),c=Gc(u,e,t,n,r,i,s,o);return c!==Vo&&za(u,a,c),Eh}function Sh(e,t,n,r,i,s,o,a,u){const c=Rr(),l=tr(),h=Qc(l,e,t,n,r,i,s,o,a,u);return h!==Vo&&za(l,c,h),Sh}function Ch(e,t,n,r,i,s,o,a,u,c,l){const h=Rr(),p=tr(),d=Yc(p,e,t,n,r,i,s,o,a,u,c,l);return d!==Vo&&za(p,h,d),Ch}function Th(e,t,n,r,i,s,o,a,u,c,l,h,p){const d=Rr(),f=tr(),m=Xc(f,e,t,n,r,i,s,o,a,u,c,l,h,p);return m!==Vo&&za(f,d,m),Th}function xh(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f){const m=Rr(),g=tr(),v=Jc(g,e,t,n,r,i,s,o,a,u,c,l,h,p,d,f);return v!==Vo&&za(g,m,v),xh}function Ih(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g){const v=Rr(),y=tr(),w=Zc(y,e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g);return w!==Vo&&za(y,v,w),Ih}function Ah(e){const t=Rr(),n=tr(),r=zc(n,e);return r!==Vo&&za(n,t,r),Ah}function Dh(e,t,n){const r=Wc(tr(),e,t,n);xl(Rr(),r)}function Nh(e,t,n,r,i){const s=Kc(tr(),e,t,n,r,i);xl(Rr(),s)}function kh(e,t,n,r,i,s,o){const a=Gc(tr(),e,t,n,r,i,s,o);xl(Rr(),a)}function Ph(e,t,n,r,i,s,o,a,u){const c=Qc(tr(),e,t,n,r,i,s,o,a,u);xl(Rr(),c)}function Mh(e,t,n,r,i,s,o,a,u,c,l){const h=Yc(tr(),e,t,n,r,i,s,o,a,u,c,l);xl(Rr(),h)}function Oh(e,t,n,r,i,s,o,a,u,c,l,h,p){const d=Xc(tr(),e,t,n,r,i,s,o,a,u,c,l,h,p);xl(Rr(),d)}function Rh(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f){const m=Jc(tr(),e,t,n,r,i,s,o,a,u,c,l,h,p,d,f);xl(Rr(),m)}function Lh(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g){const v=Zc(tr(),e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g);xl(Rr(),v)}function Fh(e){const t=zc(tr(),e);xl(Rr(),t)}function Vh(e,t,n,r,i){const s=Wc(tr(),t,n,r);return _l(Rr(),e,s,i),Vh}function Bh(e,t,n,r,i,s,o){const a=Kc(tr(),t,n,r,i,s);return _l(Rr(),e,a,o),Bh}function Uh(e,t,n,r,i,s,o,a,u){const c=Gc(tr(),t,n,r,i,s,o,a);return _l(Rr(),e,c,u),Uh}function jh(e,t,n,r,i,s,o,a,u,c,l){const h=Qc(tr(),t,n,r,i,s,o,a,u,c);return _l(Rr(),e,h,l),jh}function qh(e,t,n,r,i,s,o,a,u,c,l,h,p){const d=Yc(tr(),t,n,r,i,s,o,a,u,c,l,h);return _l(Rr(),e,d,p),qh}function $h(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f){const m=Xc(tr(),t,n,r,i,s,o,a,u,c,l,h,p,d);return _l(Rr(),e,m,f),$h}function Hh(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g){const v=Jc(tr(),t,n,r,i,s,o,a,u,c,l,h,p,d,f,m);return _l(Rr(),e,v,g),Hh}function zh(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g,v,y){const w=Zc(tr(),t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g,v);return _l(Rr(),e,w,y),zh}function Wh(e,t,n){const r=zc(tr(),t);return _l(Rr(),e,r,n),Wh}function Kh(e,t,n){const r=Rr(),i=$c(tr(),t);return i!==Vo&&ma(r,e,i,n,!0),Kh}function Gh(e,t,n){const r=Rr(),i=$c(tr(),t);return i!==Vo&&ma(r,e,i,n,!0,qa),Gh}function Qh(e,t,n,r,i,s){Pr();const o=n[qt];n[0+an]=e;const a=ta(o,null,0,3,null,null),u=ea(n,ca(t),null,t.onPush?64:16,n[an],a,r,i,s);return o.firstTemplatePass&&(Yi(Wi(a,n),o,t.type),a.flags=1,Sa(a,n.length,1),_a(a)),n[an]=u}function Yh(e,t,n,r,i){const s=n[qt],o=function(e,t,n){const r=dr();e.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),ya(e,r,1),Ca(e,t,n,n.factory));const i=ts(e.data,t,t.length-1,r);return ba(t,r,i),i}(s,n,t);r.components.push(o),e[Yt]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries&&t.contentQueries(1,o,n.length-1);const a=dr();if(s.firstTemplatePass&&t.hostBindings){cr(a.index-an);const e=s.expandoInstructions;va(t,e,o,a,s.firstTemplatePass),cr(null)}return o}function Xh(e,t){return{components:[],scheduler:e||Gr,clean:Va,playerHandler:t||null,flags:0}}function Jh(e,t){const n=Wn(e)[qt],r=n.data.length-1;Tn(r,t,n,-1,-1,-1),xn(n,{directiveStart:r,directiveEnd:r+1})}class Zh{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ep(){return tp.ngInherit=!0,tp}function tp(e){e.type.prototype.ngOnChanges&&(e.setInput=np,e.onChanges=function(){const e=ip(this),t=e&&e.current;if(t){const n=e.previous;if(n===wt)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}})}function np(e,t,n,r){const i=ip(e)||function(e,t){return e[rp]=t}(e,{previous:wt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Zh(u&&u.currentValue,t,o===wt),e[r]=t}const rp="__ngSimpleChanges__";function ip(e){return e[rp]||null}function sp(e){let t=(n=e.type,Object.getPrototypeOf(n.prototype).constructor);for(var n;t;){let n=void 0;if(yn(e))n=t.ngComponentDef||t.ngDirectiveDef;else{if(t.ngComponentDef)throw new Error("Directives cannot inherit Components");n=t.ngDirectiveDef}const r=t.ngBaseDef;if(r||n){const t=e;t.inputs=op(e.inputs),t.declaredInputs=op(e.declaredInputs),t.outputs=op(e.outputs)}if(r){const t=r.viewQuery,n=r.contentQueries,i=r.hostBindings;i&&cp(e,i),t&&ap(e,t),n&&up(e,n),Se(e.inputs,r.inputs),Se(e.declaredInputs,r.declaredInputs),Se(e.outputs,r.outputs)}if(n){const t=n.hostBindings;t&&cp(e,t);const r=n.viewQuery,i=n.contentQueries;r&&ap(e,r),i&&up(e,i),Se(e.inputs,n.inputs),Se(e.declaredInputs,n.declaredInputs),Se(e.outputs,n.outputs),e.afterContentChecked=e.afterContentChecked||n.afterContentChecked,e.afterContentInit=e.afterContentInit||n.afterContentInit,e.afterViewChecked=e.afterViewChecked||n.afterViewChecked,e.afterViewInit=e.afterViewInit||n.afterViewInit,e.doCheck=e.doCheck||n.doCheck,e.onDestroy=e.onDestroy||n.onDestroy,e.onInit=e.onInit||n.onInit;const s=n.features;if(s)for(const n of s)n&&n.ngInherit&&n(e)}else{const n=t.prototype;n&&(e.afterContentChecked=e.afterContentChecked||n.ngAfterContentChecked,e.afterContentInit=e.afterContentInit||n.ngAfterContentInit,e.afterViewChecked=e.afterViewChecked||n.ngAfterViewChecked,e.afterViewInit=e.afterViewInit||n.ngAfterViewInit,e.doCheck=e.doCheck||n.ngDoCheck,e.onDestroy=e.onDestroy||n.ngOnDestroy,e.onInit=e.onInit||n.ngOnInit,n.ngOnChanges&&ep()(e))}t=Object.getPrototypeOf(t)}}function op(e){return e===wt?{}:e===bt?[]:e}function ap(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function up(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function cp(e,t){const n=e.hostBindings;t!==n&&(e.hostBindings=n?(e,r,i)=>{hr(1);try{t(e,r,i)}finally{hr(-1)}n(e,r,i)}:t)}function lp(e,t,n,r,i){if(e=Me(e),Array.isArray(e))for(let s=0;s<e.length;s++)lp(e[s],t,n,r,i);else{const s=tr(),o=s[qt];let a=Ku(e)?e:Me(e.provide),u=zu(e);const c=dr(),l=65535&c.providerIndexes,h=c.directiveStart,p=c.providerIndexes>>16;if(e.useClass||Ku(e)){const n=(e.useClass||e).prototype.ngOnDestroy;n&&(o.destroyHooks||(o.destroyHooks=[])).push(t.length,n)}if(Ku(e)||!e.multi){const e=new Cn(u,i,gl),r=pp(a,t,i?l:l+p,h);-1==r?(Yi(Wi(c,s),o,a),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(e),s.push(e)):(n[r]=e,s[r]=e)}else{const e=pp(a,t,l+p,h),d=pp(a,t,l,l+p),f=e>=0&&n[e],m=d>=0&&n[d];if(i&&!m||!i&&!f){Yi(Wi(c,s),o,a);const e=function(e,t,n,r,i){const s=new Cn(e,n,gl);return s.multi=[],s.index=t,s.componentProviders=0,hp(s,i,r&&!n),s}(i?fp:dp,n.length,i,r,u);!i&&m&&(n[d].providerFactory=e),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(e),s.push(e)}else hp(n[i?d:e],u,!i&&r);!i&&r&&m&&n[d].componentProviders++}}}function hp(e,t,n){e.multi.push(t),n&&e.componentProviders++}function pp(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function dp(e,t,n,r){return mp(this.multi,[])}function fp(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,o=ts(t,n,this.providerFactory.index,r);mp(i,s=o.slice(0,e));for(let t=e;t<o.length;t++)s.push(o[t])}else mp(i,s=[]);return s}function mp(e,t){for(let n=0;n<e.length;n++){const r=e[n];t.push(r())}return t}function gp(e,t=[]){return n=>{n.providersResolver=(n,r)=>(function(e,t,n){const r=tr()[qt];if(r.firstTemplatePass){const i=yn(e);lp(n,r.data,r.blueprint,i,!0),lp(t,r.data,r.blueprint,i,!1)}})(n,r?r(e):e,t)}}class vp{}class yp{}function wp(e){const t=Error(`No component factory found for ${Ne(e)}. Did you add it to @NgModule.entryComponents?`);return t[bp]=e,t}const bp="ngComponent";class _p{}_p.NULL=new class{resolveComponentFactory(e){throw wp(e)}};class Ep{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw wp(e);return new Sp(t,this._ngModule)}}class Sp extends yp{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function Cp(...e){}class Tp{constructor(e){this.nativeElement=e}}Tp.__NG_ELEMENT_ID__=()=>xp(Tp);const xp=Cp;class Ip{}new Ue("Renderer2Interceptor");class Ap{}const Dp={Important:1,DashCase:2};Dp[Dp.Important]="Important",Dp[Dp.DashCase]="DashCase";class Np{}Np.__NG_ELEMENT_ID__=()=>kp();const kp=Cp;class Pp{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Mp=new Pp("8.2.14");class Op{constructor(){}supports(e){return Oc(e)}create(e){return new Lp(e)}}const Rp=(e,t)=>t;class Lp{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Rp}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<Up(n,r,i)?t:n,o=Up(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Oc(e))throw new Error(`Error trying to diff '${Ne(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&kc(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),kc(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Nc()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&kc(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),kc(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(kc(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(kc(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Fp(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Bp),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class Fp{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vp{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&kc(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Bp{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Vp,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Up(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class jp{constructor(){}supports(e){return e instanceof Map||Rc(e)}create(){return new qp}}class qp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Rc(e)))throw new Error(`Error trying to diff '${Ne(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new $p(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){kc(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class $p{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}class Hp{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new Hp(e)}static extend(e){return{provide:Hp,useFactory:t=>{if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return Hp.create(e,t)},deps:[[Hp,new ye,new ge]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}Hp.ngInjectableDef=Ce({token:Hp,providedIn:"root",factory:()=>new Hp([new Op])});class zp{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new zp(e)}static extend(e){return{provide:zp,useFactory:t=>{if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return zp.create(e,t)},deps:[[zp,new ye,new ge]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}zp.ngInjectableDef=Ce({token:zp,providedIn:"root",factory:()=>new zp([new jp])});const Wp=[new jp],Kp=[new Op],Gp=new Hp(Kp),Qp=new zp(Wp);class Yp{}Yp.__NG_ELEMENT_ID__=()=>Xp(Yp,Tp);const Xp=Cp;class Jp{}Jp.__NG_ELEMENT_ID__=()=>Zp(Jp,Tp);const Zp=Cp;function ed(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return td(n,t),n}(i,e)}function td(e,t){e[as]=t,e[cs]=t.logError.bind(t)}function nd(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function rd(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function id(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function sd(e,t){return e.nodes[t]}function od(e,t){return e.nodes[t]}function ad(e,t){return e.nodes[t]}function ud(e,t){return e.nodes[t]}function cd(e,t){return e.nodes[t]}const ld={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},hd=()=>{},pd=new Map;function dd(e){let t=pd.get(e);return t||(t=Ne(e)+"_"+pd.size,pd.set(e,t)),t}function fd(e,t,n,r){if(Mc.isWrapped(r)){r=Mc.unwrap(r);const i=e.def.nodes[t].bindingIndex+n,s=Mc.unwrap(e.oldValues[i]);e.oldValues[i]=new Mc(s)}return r}const md="$$undefined",gd="$$empty";function vd(e){return{id:md,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let yd=0;function wd(e,t,n,r){const i=e.oldValues;return!(!(2&e.state)&&kc(i[t.bindingIndex+n],r))}function bd(e,t,n,r){return!!wd(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function _d(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Pc(i,r)){const s=t.bindings[n].name;throw ed(ld.createDebugContext(e,t.nodeIndex),`${s}: ${i}`,`${s}: ${r}`,0!=(1&e.state))}}function Ed(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Sd(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Cd(e,t,n,r){try{return Ed(33554432&e.def.nodes[t].flags?od(e,t).componentView:e),ld.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Td(e){if(e.parent){return od(e.parent,e.parentNodeDef.nodeIndex)}return null}function xd(e){return e.parent?e.parentNodeDef.parent:null}function Id(e,t){switch(201347067&t.flags){case 1:return od(e,t.nodeIndex).renderElement;case 2:return sd(e,t.nodeIndex).renderText}}function Ad(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Dd(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Nd(e){return 1<<e%32}function kd(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=Nd(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function Pd(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,Ke,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:dd(n)}})}function Md(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===vt.Native?od(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Od=new WeakMap;function Rd(e){let t=Od.get(e);return t||((t=e(()=>hd)).factory=e,Od.set(e,t)),t}function Ld(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Id(e,e.def.lastRenderRootNode))),Fd(e,t,0,e.def.nodes.length-1,n,r,i)}function Fd(e,t,n,r,i,s,o){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&Bd(e,n,t,i,s,o),a+=n.childCount}}function Vd(e,t,n,r,i,s){let o=e;for(;o&&!Ad(o);)o=o.parent;const a=o.parent,u=xd(o),c=u.nodeIndex+1,l=u.nodeIndex+u.childCount;for(let h=c;h<=l;h++){const e=a.def.nodes[h];e.ngContentIndex===t&&Bd(a,e,n,r,i,s),h+=e.childCount}if(!a.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)Ud(e,o[t],n,r,i,s)}}function Bd(e,t,n,r,i,s){if(8&t.flags)Vd(e,t.ngContent.index,n,r,i,s);else{const o=Id(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags){if(16&t.bindingFlags&&Ud(e,o,n,r,i,s),32&t.bindingFlags){Ud(od(e,t.nodeIndex).componentView,o,n,r,i,s)}}else Ud(e,o,n,r,i,s);if(16777216&t.flags){const o=od(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)Ld(o[e],n,r,i,s)}1&t.flags&&!t.element.name&&Fd(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,s)}}function Ud(e,t,n,r,i,s){const o=e.renderer;switch(n){case 1:o.appendChild(r,t);break;case 2:o.insertBefore(r,t,i);break;case 3:o.removeChild(r,t);break;case 0:s.push(t)}}const jd=/^:([^:]+):(.+)$/;function qd(e){if(":"===e[0]){const t=e.match(jd);return[t[1],t[2]]}return["",e]}function $d(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Hd(e,t){let n="";for(let r=0;r<2*e;r+=2)n=n+t[r]+Wd(t[r+1]);return n+t[2*e]}function zd(e,t,n,r,i,s,o,a,u,c,l,h,p,d,f,m,g,v,y,w){switch(e){case 1:return t+Wd(n)+r;case 2:return t+Wd(n)+r+Wd(i)+s;case 3:return t+Wd(n)+r+Wd(i)+s+Wd(o)+a;case 4:return t+Wd(n)+r+Wd(i)+s+Wd(o)+a+Wd(u)+c;case 5:return t+Wd(n)+r+Wd(i)+s+Wd(o)+a+Wd(u)+c+Wd(l)+h;case 6:return t+Wd(n)+r+Wd(i)+s+Wd(o)+a+Wd(u)+c+Wd(l)+h+Wd(p)+d;case 7:return t+Wd(n)+r+Wd(i)+s+Wd(o)+a+Wd(u)+c+Wd(l)+h+Wd(p)+d+Wd(f)+m;case 8:return t+Wd(n)+r+Wd(i)+s+Wd(o)+a+Wd(u)+c+Wd(l)+h+Wd(p)+d+Wd(f)+m+Wd(g)+v;case 9:return t+Wd(n)+r+Wd(i)+s+Wd(o)+a+Wd(u)+c+Wd(l)+h+Wd(p)+d+Wd(f)+m+Wd(g)+v+Wd(y)+w;default:throw new Error("Does not support more than 9 expressions")}}function Wd(e){return null!=e?e.toString():""}const Kd=[],Gd={},Qd=new Object,Yd=dd(Qu),Xd=dd(je),Jd=dd(ot);function Zd(e,t,n,r){return n=Me(n),{index:-1,deps:Pd(r,Ne(t)),flags:e,token:t,value:n}}function ef(e){const t={},n=[];let r=!1;for(let i=0;i<e.length;i++){const s=e[i];s.token===$u&&!0===s.value&&(r=!0),1073741824&s.flags&&n.push(s.token),s.index=i,t[dd(s.token)]=s}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function tf(e,t,n=Qu.THROW_IF_NOT_FOUND){const r=Xe(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const o=t.tokenKey;switch(o){case Yd:case Xd:case Jd:return e}const a=e._def.providersByKey[o];let u;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=nf(e,a)),t===Qd?void 0:t}if((u=xe(t.token))&&(i=e,null!=(s=u).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(i,s.providedIn)||"root"===s.providedIn&&i._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:t.token},e._providers[n]=Qd,e._providers[n]=nf(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Xe(r)}var i,s}function nf(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(tf(e,n[0]));case 2:return new t(tf(e,n[0]),tf(e,n[1]));case 3:return new t(tf(e,n[0]),tf(e,n[1]),tf(e,n[2]));default:const i=new Array(r);for(let t=0;t<r;t++)i[t]=tf(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(tf(e,n[0]));case 2:return t(tf(e,n[0]),tf(e,n[1]));case 3:return t(tf(e,n[0]),tf(e,n[1]),tf(e,n[2]));default:const i=Array(r);for(let t=0;t<r;t++)i[t]=tf(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=tf(e,t.deps[0]);break;case 256:n=t.value}return n===Qd||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Qd:n}function rf(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,lt(i,n,r),function(e,t){const n=Td(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]);r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),ld.dirtyParentQueries(r),of(t,n>0?i[n-1]:null,r)}function sf(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,ht(n,t),ld.dirtyParentQueries(r),af(r),r}function of(e,t,n){const r=t?Id(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);Ld(n,2,i,s,void 0)}function af(e){Ld(e,3,null,null,void 0)}const uf=new Object;function cf(e,t,n,r,i,s){return new lf(e,t,n,r,i,s)}class lf extends yp{constructor(e,t,n,r,i,s){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t){const r=t[n];e.push({propName:n,templateName:r})}return e}get outputs(){const e=[];for(let t in this._outputs){const n=this._outputs[t];e.push({propName:t,templateName:n})}return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=Rd(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=ld.createRootView(e,t||[],n,i,r,uf),a=ad(o,s).instance;return n&&o.renderer.setAttribute(od(o,0).renderElement,"ng-version",Mp.full),new hf(o,new mf(o),a)}}class hf extends vp{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new Tp(od(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new wf(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function pf(e,t,n){return new df(e,t,n)}class df{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new Tp(this._data.renderElement)}get injector(){return new wf(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=xd(e),e=e.parent;return e?new wf(e,t):new wf(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=sf(this._data,e);ld.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new mf(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;i||e instanceof Sp||(i=s.get(ot));const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e,r=n._view;return rf(this._view,this._data,t,r),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];ht(r,t),null==n&&(n=r.length),lt(r,n,i),ld.dirtyParentQueries(i),af(i),of(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=sf(this._data,e);t&&ld.destroyView(t)}detach(e){const t=sf(this._data,e);return t?new mf(t):null}}function ff(e){return new mf(e)}class mf{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Ld(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Ed(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{ld.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){ld.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ld.destroyView(this._view)}detachFromAppRef(){this._appRef=null,af(this._view),ld.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function gf(e,t){return new vf(e,t)}class vf extends Yp{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new mf(ld.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Tp(od(this._parentView,this._def.nodeIndex).renderElement)}}function yf(e,t){return new wf(e,t)}class wf{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Qu.THROW_IF_NOT_FOUND){const n=!!this.elDef&&0!=(33554432&this.elDef.flags);return ld.resolveDep(this.view,this.elDef,n,{flags:0,token:e,tokenKey:dd(e)},t)}}function bf(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=od(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return sd(e,n.nodeIndex).renderText;if(20240&n.flags)return ad(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function _f(e){return new Ef(e.renderer)}class Ef{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=qd(t),i=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,i),i}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,i]=qd(t);null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Sf(e,t,n,r){return new Cf(e,t,n,r)}class Cf{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=nf(e,i))}}(this)}get(e,t=Qu.THROW_IF_NOT_FOUND,n=_e.Default){let r=0;return n&_e.SkipSelf?r|=1:n&_e.Self&&(r|=4),tf(this,{token:e,tokenKey:dd(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(_p)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Ne(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++){if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==Qd){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Tf=dd(Ip),xf=dd(Np),If=dd(Tp),Af=dd(Jp),Df=dd(Yp),Nf=dd(xu),kf=dd(Qu),Pf=dd(je);function Mf(e,t,n,r,i,s,o,a){const u=[];if(o)for(let l in o){const[e,t]=o[l];u[e]={flags:8,name:l,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let l in a)c.push({type:1,propName:l,target:null,eventName:a[l]});return Lf(e,t|=16384,n,r,i,i,s,u,c)}function Of(e,t,n){return Lf(-1,e|=16,null,0,t,t,n)}function Rf(e,t,n,r,i){return Lf(-1,e,t,0,n,r,i)}function Lf(e,t,n,r,i,s,o,a,u){const{matchedQueries:c,references:l,matchedQueryIds:h}=kd(n);u||(u=[]),a||(a=[]),s=Me(s);const p=Pd(o,Ne(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:l,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:$d(a),outputs:u,element:null,provider:{token:i,value:s,deps:p},text:null,query:null,ngContent:null}}function Ff(e,t){return jf(e,t)}function Vf(e,t){let n=e;for(;n.parent&&!Ad(n);)n=n.parent;return qf(n.parent,xd(n),!0,t.provider.value,t.provider.deps)}function Bf(e,t){const n=(32768&t.flags)>0,r=qf(e,t.parent,n,t.provider.value,t.provider.deps);if(t.outputs.length)for(let i=0;i<t.outputs.length;i++){const n=t.outputs[i],s=r[n.propName];if(!Ql(s))throw new Error(`@Output ${n.propName} not initialized in '${r.constructor.name}'.`);{const r=s.subscribe(Uf(e,t.parent.nodeIndex,n.eventName));e.disposables[t.outputIndex+i]=r.unsubscribe.bind(r)}}return r}function Uf(e,t,n){return r=>Cd(e,t,n,r)}function jf(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return qf(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const s=i.length;switch(s){case 0:return r();case 1:return r(Hf(e,t,n,i[0]));case 2:return r(Hf(e,t,n,i[0]),Hf(e,t,n,i[1]));case 3:return r(Hf(e,t,n,i[0]),Hf(e,t,n,i[1]),Hf(e,t,n,i[2]));default:const o=Array(s);for(let r=0;r<s;r++)o[r]=Hf(e,t,n,i[r]);return r(...o)}}(e,t.parent,n,r.value,r.deps);case 2048:return Hf(e,t.parent,n,r.deps[0]);case 256:return r.value}}function qf(e,t,n,r,i){const s=i.length;switch(s){case 0:return new r;case 1:return new r(Hf(e,t,n,i[0]));case 2:return new r(Hf(e,t,n,i[0]),Hf(e,t,n,i[1]));case 3:return new r(Hf(e,t,n,i[0]),Hf(e,t,n,i[1]),Hf(e,t,n,i[2]));default:const o=new Array(s);for(let r=0;r<s;r++)o[r]=Hf(e,t,n,i[r]);return new r(...o)}}const $f={};function Hf(e,t,n,r,i=Qu.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const s=e;2&r.flags&&(i=null);const o=r.tokenKey;o===Nf&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(o){case Tf:return _f(zf(a,t,n));case xf:return zf(a,t,n).renderer;case If:return new Tp(od(a,t.nodeIndex).renderElement);case Af:return od(a,t.nodeIndex).viewContainer;case Df:if(t.element.template)return od(a,t.nodeIndex).template;break;case Nf:return ff(zf(a,t,n));case kf:case Pf:return yf(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[o];if(e){let t=ad(a,e.nodeIndex);return t||(t={instance:jf(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Ad(a),t=xd(a),a=a.parent,4&r.flags&&(a=null)}const u=s.root.injector.get(r.token,$f);return u!==$f||i===$f?u:s.root.ngModule.injector.get(r.token,i)}function zf(e,t,n){let r;if(n)r=od(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Ad(r);)r=r.parent;return r}function Wf(e,t,n,r,i,s){if(32768&n.flags){const t=od(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}const o=n.bindings[r].name;if(t.instance[o]=i,524288&n.flags){s=s||{};const t=Mc.unwrap(e.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new Zh(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,s}function Kf(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const s=n[i];let o=s.parent;for(!o&&s.flags&t&&Qf(e,i,s.flags&t,r++),0==(s.childFlags&t)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(r=Gf(e,o,t,r)),o=o.parent}}function Gf(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&Qf(e,i,t.flags&n,r++),i+=t.childCount}return r}function Qf(e,t,n,r){const i=ad(e,t);if(!i)return;const s=i.instance;s&&(ld.setCurrentNode(e,t),1048576&n&&id(e,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&id(e,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}class Yf extends _p{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ft(e);return new Zf(t,this.ngModule)}}function Xf(e){const t=[];for(let n in e)if(e.hasOwnProperty(n)){const r=e[n];t.push({propName:r,templateName:n})}return t}const Jf=new Ue("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Gr});class Zf extends yp{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors[0][0]||"div",this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Xf(this.componentDef.inputs)}get outputs(){return Xf(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,$f,i);return s!==$f||r===$f?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Ap,Di),o=i.get(Ks,null);qr();const a=n?ha(s,n):Zo(this.selector,s.createRenderer(null,this.componentDef)),u=this.componentDef.onPush?576:528,c="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),l=Xh(),h=s.createRenderer(a,this.componentDef);n&&a&&(Ai(h)?h.setAttribute(a,"ng-version",Mp.full):a.setAttribute("ng-version",Mp.full));const p=ea(null,la(-1,null,1,0,null,null,null,null),l,u,null,null,s,h,o,i),d=Nr(p,null);let f,m,g=!1;try{const e=Qh(a,this.componentDef,p,s,h);m=qn(0,p),t&&(m.projection=t.map(e=>Array.from(e))),f=Yh(e,this.componentDef,p,l,[Jh]),Da(p,e),Xo(p),g=!0}finally{Mr(d,g)}const v=new em(this.componentType,f,Eu(Tp,m,p),p,m);return n&&!c||(v.hostView._tViewNode.child=m),v}}new Yf;class em extends vp{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new yu(r),this.hostView._tViewNode=na(r[qt],null,-1,r),this.componentType=e}get injector(){return new is(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const tm={},nm={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};nm[nm.LocaleId]="LocaleId",nm[nm.DayPeriodsFormat]="DayPeriodsFormat",nm[nm.DayPeriodsStandalone]="DayPeriodsStandalone",nm[nm.DaysFormat]="DaysFormat",nm[nm.DaysStandalone]="DaysStandalone",nm[nm.MonthsFormat]="MonthsFormat",nm[nm.MonthsStandalone]="MonthsStandalone",nm[nm.Eras]="Eras",nm[nm.FirstDayOfWeek]="FirstDayOfWeek",nm[nm.WeekendRange]="WeekendRange",nm[nm.DateFormat]="DateFormat",nm[nm.TimeFormat]="TimeFormat",nm[nm.DateTimeFormat]="DateTimeFormat",nm[nm.NumberSymbols]="NumberSymbols",nm[nm.NumberFormats]="NumberFormats",nm[nm.CurrencySymbol]="CurrencySymbol",nm[nm.CurrencyName]="CurrencyName",nm[nm.Currencies]="Currencies",nm[nm.PluralCase]="PluralCase",nm[nm.ExtraData]="ExtraData";const rm=void 0;var im=["en",[["a","p"],["AM","PM"],rm],[["AM","PM"],rm,rm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rm,"{1} 'at' {0}",rm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function sm(e){return om(e)[nm.PluralCase]}function om(e){const t=e.toLowerCase().replace(/_/g,"-");let n=tm[t];if(n)return n;const r=t.split("-")[0];if(n=tm[r])return n;if("en"===r)return im;throw new Error(`Missing locale data for the locale "${e}".`)}const am="en-US",um="\ufffd",cm=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,lm=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,hm=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,pm=/\ufffd(\d+):?\d*\ufffd/gi,dm=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,fm=0,mm=/\[(\ufffd.+?\ufffd?)\]/,gm=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,vm=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,ym=/{([A-Z0-9_]+)}/g,wm=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,bm=/\/\*/,_m=/\d+\:(\d+)/;function Em(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(e);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);cm.test(n)?r.push(Sm(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const o=e.substring(t);return r.push(o),r}function Sm(e){const t=[],n=[];let r=1,i=0;const s=Em(e=e.replace(cm,(function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""})));for(let o=0;o<s.length;){let e=s[o++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=Em(s[o++]);t.length>n.length&&n.push(i)}return pt(t.indexOf("other"),-1,'Missing key "other" in ICU statement.'),{type:r,mainBinding:i,cases:t,values:n}}function Cm(e){let t,n,r="",i=0,s=!1;for(;null!==(t=lm.exec(e));)s?t[0]===`${um}/*${n}${um}`&&(i=t.index,s=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],s=!0);return r+=e.substr(i)}function Tm(e,t,n,r=null){const i=[null,null],s=e.split(pm);let o=0;for(let a=0;a<s.length;a++){const e=s[a];if(1&a){const t=parseInt(e,10);i.push(-1-t),o|=Dm(t)}else""!==e&&i.push(e)}return i.push(t<<2|(n?1:0)),n&&i.push(n,r),i[0]=o,i[1]=i.length-2,i}function xm(e,t=0){let n;t|=Dm(e.mainBinding);for(let r=0;r<e.values.length;r++){const i=e.values[r];for(let e=0;e<i.length;e++){const r=i[e];if("string"==typeof r)for(;n=pm.exec(r);)t|=Dm(parseInt(n[1],10));else t=xm(r,t)}}return t}const Im=[];let Am=-1;function Dm(e){return 1<<Math.min(e,31)}const Nm=[];function km(e,t,n){const r=tr()[qt];Im[++Am]=e,sh(!0),r.firstTemplatePass&&null===r.data[e+an]&&function(e,t,n,r){const i=tr(),s=e.blueprint.length-an;Pm=0;const o=dr(),a=gr()?dr():o&&o.parent;let u=a&&a!==i[Kt]?a.index-an:t,c=0;Nm[c]=u;const l=[];t>0&&o!==a&&l.push(o.index<<3|0);const h=[],p=[],d=(f=function(e,t){if("number"!=typeof t)return Cm(e);{const n=e.indexOf(`:${t}${um}`)+2+t.toString().length,r=e.search(new RegExp(`${um}\\/\\*\\d+:${t}${um}`));return Cm(e.substring(n,r))}}(n,r),f.replace(Qm," ")).split(hm);var f;for(let g=0;g<d.length;g++){let e=d[g];if(1&g)if("/"===e.charAt(0)){if("#"===e.charAt(1)){const t=parseInt(e.substr(2),10);u=Nm[--c],l.push(t<<3|5)}}else{const t=parseInt(e.substr(1),10);l.push(t<<3|0,u<<17|1),"#"===e.charAt(0)&&(Nm[++c]=u=t)}else{const t=Em(e);for(let e=0;e<t.length;e++)if(1&e){const n=s+Pm++;l.push(Uo,"",n,u<<17|1);const r=t[e],i=xm(r);Wm(p,r,n,n);const o=p.length-1;h.push(Dm(r.mainBinding),3,-1-r.mainBinding,n<<2|2,o,i,2,n<<2|3,o)}else if(""!==t[e]){const n=t[e],r=n.match(pm),i=s+Pm++;l.push(r?"":n,i,u<<17|1),r&&ut(Tm(n,i),h)}}}Pm>0&&function(e,t){if(t>0){const n=e[qt];if(n.firstTemplatePass){for(let r=0;r<t;r++)n.blueprint.push(null),n.data.push(null),e.push(null);n.expandoInstructions?n.expandoInstructions.push(t):n.expandoStartIndex+=t}}}(i,Pm);const m={vars:Pm,create:l,update:h,icus:p.length?p:null};e.data[t+an]=m}(r,e,t,n)}let Pm;function Mm(e,t,n,r){const i=e.next;n||(n=t),n===t&&e!==t.child?(e.next=t.child,t.child=e):n!==t&&e!==n.next?(e.next=n.next,n.next=e):e.next=null,t!==r[Kt]&&(e.parent=t);let s=e.next;for(;s;)s.next===e&&(s.next=i),s=s.next;if(1===e.type){return pu(r,e,e.projection,Ui(r)),e}cu(Un(e,r),e,r);const o=r[e.index];return 0!==e.type&&mn(o)&&cu(o[hn],e,r),e}function Om(e,t={}){let n=e;if(mm.test(e)){const e={},t=[fm];n=n.replace(gm,(n,r,i)=>{const s=r||i,o=e[s]||[];if(o.length||(s.split("|").forEach(e=>{const t=e.match(_m),n=t?parseInt(t[1],10):fm,r=bm.test(e);o.push([n,r,e])}),e[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=t[t.length-1];let u=0;for(let e=0;e<o.length;e++)if(o[e][0]===a){u=e;break}const[c,l,h]=o[u];return l?t.pop():a!==c&&t.push(c),o.splice(u,1),h})}return Object.keys(t).length?n=(n=(n=n.replace(vm,(e,n,r,i,s,o)=>t.hasOwnProperty(r)?`${n}${t[r]}${o}`:e)).replace(ym,(e,n)=>t.hasOwnProperty(n)?t[n]:e)).replace(wm,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}):n}function Rm(){const e=tr()[qt];!function(e){const t=tr();const n=Im[Am--],r=e.data[n+an];let i=dr();const s=Fm(n,r.create,r.icus,t);for(let o=n+1;o<=i.index-an;o++)-1===s.indexOf(o)&&Vm(o,t)}(e),sh(!1)}function Lm(e,t,n,r,i){const s=dr();e[t+an]=r;const o=ta(e[qt],e[Kt],t,n,i,null);return s.next===o&&(s.next=null),o}function Fm(e,t,n,r){const i=tr()[Zt];let s=null,o=null;const a=[];for(let u=0;u<t.length;u++){const n=t[u];if("string"==typeof n){const e=Ya(n,i),c=t[++u];o=s,s=Lm(r,c,3,e,null),a.push(c),vr()}else if("number"==typeof n)switch(7&n){case 1:const i=n>>>17;let c;o=Mm(s,c=i===e?r[Kt]:qn(i,r),o,r);break;case 0:const l=n>>>3;a.push(l),o=s,(s=qn(l,r))&&fr(s,3===s.type);break;case 5:o=s=qn(n>>>3,r),fr(s,!1);break;case 4:xa(n>>>3,t[++u],t[++u],r);break;default:throw new Error(`Unable to determine the type of mutate operation for "${n}"`)}else switch(n){case Uo:const e=t[++u],c=t[++u],l=i.createComment(e);o=s,s=Lm(r,c,5,l,null),a.push(c),uo(l,r),s.activeCaseIndex=null,vr();break;case Bo:const h=t[++u],p=t[++u];o=s,s=Lm(r,p,3,i.createElement(h),h),a.push(p);break;default:throw new Error(`Unable to determine the type of mutate operation for "${n}"`)}}return vr(),a}function Vm(e,t){const n=qn(e,t),r=Bn(e,t);r&&hu(t[Zt],r);const i=ml(e);if(mn(i)){const e=i;0!==n.type&&hu(t[Zt],e[hn])}n.flags|=32}function Bm(e,t,n){km(e,t,n),Rm()}function Um(e,t){const n=tr()[qt];!function(e,t,n){const r=dr().index-an,i=[];for(let s=0;s<n.length;s+=2){const o=n[s],a=n[s+1].split(dm);for(let n=0;n<a.length;n++){const s=a[n];if(1&n)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s){if(!!s.match(pm))e.firstTemplatePass&&null===e.data[t+an]&&ut(Tm(s,r,o),i);else{const e=tr();xa(r,o,s,e);const t=qn(r,e),n=t.inputs&&t.inputs[o];n&&Ha(e,n,s)}}}}e.firstTemplatePass&&null===e.data[t+an]&&(e.data[t+an]=i)}(n,e,t)}let jm=0,qm=0;function $m(e){return $c(tr(),e)!==Vo&&(jm|=1<<qm),qm++,$m}function Hm(e){if(qm){const t=tr(),n=t[qt],r=n.data[e+an];let i,s=null;Array.isArray(r)?i=r:(i=r.update,s=r.icus),!function e(t,n,r,i,s,o=!1){let a=!1;for(let u=0;u<t.length;u++){const c=t[u],l=t[++u];if(o||c&i){let o="";for(let c=u+1;c<=u+l;c++){const u=t[c];if("string"==typeof u)o+=u;else if("number"==typeof u)if(u<0)o+=Wr(s[r-u]);else{const l=u>>>2;let h,p,d;switch(3&u){case 1:ma(l,t[++c],o,t[++c]);break;case 0:za(s,l,o);break;case 2:if(p=n[h=t[++c]],null!==(d=qn(l,s)).activeCaseIndex){const e=p.remove[d.activeCaseIndex];for(let t=0;t<e.length;t++){const r=e[t];switch(7&r){case 3:Vm(r>>>3,s);break;case 6:const i=qn(e[t+1]>>>3,s).activeCaseIndex;if(null!==i){ut(n[r>>>3].remove[i],e)}}}}const u=zm(p,o);d.activeCaseIndex=-1!==u?u:null,Fm(-1,p.create[u],0,s),a=!0;break;case 3:p=n[h=t[++c]],d=qn(l,s),e(p.update[d.activeCaseIndex],n,r,i,s,a)}}}}u+=l}}(i,s,t[Gt]-qm-1,jm,t),jm=0,qm=0}}function zm(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){switch(sm(t)(e)){case 0:return"zero";case 1:return"one";case 2:return"two";case 3:return"few";case 4:return"many";default:return"other"}}(t,Zm);-1===(n=e.cases.indexOf(r))&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return n}function Wm(e,t,n,r){const i=[],s=[],o=[],a=[],u=[];for(let l=0;l<t.values.length;l++){const c=t.values[l],h=[];for(let e=0;e<c.length;e++){const t=c[e];if("string"!=typeof t){const n=h.push(t)-1;c[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const p=Km(c.join(""),n,h,e,r);i.push(p.create),s.push(p.remove),o.push(p.update),a.push(p.vars),u.push(p.childIcus)}const c={type:t.type,vars:a,childIcus:u,cases:t.cases,create:i,remove:s,update:o};e.push(c),Pm+=Math.max(...a)}function Km(e,t,n,r,i){const s=new ws(document).getInertBodyElement(e);if(!s)throw new Error("Unable to generate inert body element");const o={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,r,i,s,o){if(t){const a=[];for(;t;){const u=t.nextSibling,c=o+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:const u=t,l=u.tagName.toLowerCase();if(Ps.hasOwnProperty(l)){n.create.push(Bo,l,c,r<<17|1);const a=u.attributes;for(let e=0;e<a.length;e++){const t=a.item(e),r=t.name.toLowerCase();!!t.value.match(pm)?Fs.hasOwnProperty(r)&&(Ms[r]?ut(Tm(t.value,c,t.name,Es),n.update):Os[r]?ut(Tm(t.value,c,t.name,Ss),n.update):ut(Tm(t.value,c,t.name),n.update)):n.create.push(c<<3|4,t.name,t.value)}e(t.firstChild,n,c,i,s,o),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=t.textContent||"",p=h.match(pm);n.create.push(p?"":h,c,r<<17|1),n.remove.push(c<<3|3),p&&ut(Tm(h,c),n.update);break;case Node.COMMENT_NODE:const d=Gm.exec(t.textContent||"");if(d){const e=parseInt(d[1],10),t="";n.create.push(Uo,t,c,r<<17|1);const s=i[e];a.push([s,c])}else n.vars--;break;default:n.vars--}t=u}for(let e=0;e<a.length;e++){const t=a[e][0],r=a[e][1];Wm(s,t,r,o+n.vars);const i=s.length-1;n.vars+=Math.max(...s[i].vars),n.childIcus.push(i);const u=xm(t);n.update.push(Dm(t.mainBinding),3,-1-t.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((zs(s)||s).firstChild,o,t,n,r,i),o}const Gm=/\ufffd(\d+)\ufffd/;const Qm=/\uE500/g;let Ym={};const Xm=/\{\$(.*?)\}/g;function Jm(e,t){return void 0!==Ym[e]&&(e=Ym[e]),void 0!==t&&Object.keys(t).length?e.replace(Xm,(e,n)=>t[n]||""):e}let Zm=am;function eg(e){dt(e,"Expected localeId to be defined"),"string"==typeof e&&(Zm=e.toLowerCase().replace(/_/g,"-"))}const tg=new Map;function ng(e,t){const n=tg.get(e);rg(e,n&&n.moduleType,t.moduleType),tg.set(e,t)}function rg(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Ne(t)} vs ${Ne(t.name)}`)}function ig(e,t,n){const r=Tr()+e,i=tr();return yr()?Lc(i,r,n?t.call(n):t()):Fc(i,r)}function sg(e,t,n,r){const i=tr(),s=Tr()+e;return Vc(i,s,n)?Lc(i,s+1,r?t.call(r,n):t(n)):Fc(i,s+1)}function og(e,t,n,r,i){const s=Tr()+e,o=tr();return Bc(o,s,n,r)?Lc(o,s+2,i?t.call(i,n,r):t(n,r)):Fc(o,s+2)}function ag(e,t,n,r,i,s){const o=Tr()+e,a=tr();return Uc(a,o,n,r,i)?Lc(a,o+3,s?t.call(s,n,r,i):t(n,r,i)):Fc(a,o+3)}function ug(e,t,n,r,i,s,o){const a=Tr()+e,u=tr();return jc(u,a,n,r,i,s)?Lc(u,a+4,o?t.call(o,n,r,i,s):t(n,r,i,s)):Fc(u,a+4)}function cg(e,t,n,r,i,s,o,a){const u=Tr()+e,c=tr(),l=jc(c,u,n,r,i,s);return Vc(c,u+4,o)||l?Lc(c,u+5,a?t.call(a,n,r,i,s,o):t(n,r,i,s,o)):Fc(c,u+5)}function lg(e,t,n,r,i,s,o,a,u){const c=Tr()+e,l=tr(),h=jc(l,c,n,r,i,s);return Bc(l,c+4,o,a)||h?Lc(l,c+6,u?t.call(u,n,r,i,s,o,a):t(n,r,i,s,o,a)):Fc(l,c+6)}function hg(e,t,n,r,i,s,o,a,u,c){const l=Tr()+e,h=tr();let p=jc(h,l,n,r,i,s);return Uc(h,l+4,o,a,u)||p?Lc(h,l+7,c?t.call(c,n,r,i,s,o,a,u):t(n,r,i,s,o,a,u)):Fc(h,l+7)}function pg(e,t,n,r,i,s,o,a,u,c,l){const h=Tr()+e,p=tr(),d=jc(p,h,n,r,i,s);return jc(p,h+4,o,a,u,c)||d?Lc(p,h+8,l?t.call(l,n,r,i,s,o,a,u,c):t(n,r,i,s,o,a,u,c)):Fc(p,h+8)}function dg(e,t,n,r){let i=Tr()+e,s=!1;const o=tr();for(let a=0;a<n.length;a++)Vc(o,i++,n[a])&&(s=!0);return s?Lc(o,i,t.apply(r,n)):Fc(o,i)}function fg(e,t){const n=tr()[qt];let r;const i=e+an;n.firstTemplatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory();return function(e,t){const n=tr(),r=n[qt],i=e+an;i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=t}(e,s),s}function mg(e,t,n){const r=ml(e);return _g(bg(e)?sg(t,r.transform,n,r):r.transform(n))}function gg(e,t,n,r){const i=ml(e);return _g(bg(e)?og(t,i.transform,n,r,i):i.transform(n,r))}function vg(e,t,n,r,i){const s=ml(e);return _g(bg(e)?ag(t,s.transform,n,r,i,s):s.transform(n,r,i))}function yg(e,t,n,r,i,s){const o=ml(e);return _g(bg(e)?ug(t,o.transform,n,r,i,s,o):o.transform(n,r,i,s))}function wg(e,t,n){const r=ml(e);return _g(bg(e)?dg(t,r.transform,n,r):r.transform.apply(r,n))}function bg(e){return tr()[qt].data[e+an].pure}function _g(e){if(Mc.isWrapped(e)){e=Mc.unwrap(e);const t=tr();t[t[Gt]]=Vo}return e}class Eg extends A{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,i=e=>null,s=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return e instanceof d&&e.add(o),o}}function Sg(){return this._results[Nc()]()}class Cg{constructor(){this.dirty=!0,this._results=[],this.changes=new Eg,this.length=0;const e=Nc(),t=Cg.prototype;t[e]||(t[e]=Sg)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=ct(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Tg{constructor(e){this.queryList=e,this.matches=null}clone(){return new Tg(this.queryList)}setDirty(){this.queryList.setDirty()}}class xg{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=new Array(n);for(let e=0;e<n;e++){const n=t.getByIndex(e),i=this.queries[n.indexInDeclarationView];r[e]=i.clone()}return new xg(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zg(e,t).matches&&this.queries[t].setDirty()}}class Ig{constructor(e,t,n,r=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=r}}class Ag{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n of this.queries)n.elementStart(e,t)}elementEnd(e){for(let t of this.queries)t.elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Ag(t):null}template(e,t){for(let n of this.queries)n.template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Dg{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Dg(this.metadata)):null}isApplyingToNode(e){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(e.parent?e.parent.index:-1):this._appliesToNextNode}matchTNode(e,t){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,Ng(t,n[r]))}else{const n=this.metadata.predicate;n===Yp?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,es(t,e,n,!1,!1))}}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Tp||r===Jp||r===Yp&&0===t.type)this.addMatch(t.index,-2);else{const n=es(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ng(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function kg(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?Eu(Tp,e,t):0===e.type?Su(Yp,Tp,e,t):null}(t,e):-2===n?function(e,t,n){if(n===Tp)return Eu(Tp,t,e);if(n===Yp)return Su(Yp,Tp,t,e);if(n===Jp)return Cu(Jp,Tp,t,e)}(e,t,r):ts(e[qt].data,e,n,t)}function Pg(e,t,n){const r=e[Wt].queries[n];if(null===r.matches){const n=e[qt].data,i=t.matches,s=new Array(i.length/2);for(let r=0;r<i.length;r+=2){const o=i[r];if(o<0)s[r/2]=null;else{const a=n[o];s[r/2]=kg(e,a,i[r+1],t.metadata.read)}}r.matches=s}return r.matches}function Mg(e){const t=tr(),n=Ar();Dr(n+1);const r=zg(t[qt],n);if(e.dirty&&yr()===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{const i=r.crossesNgTemplate?function e(t,n,r){const i=t[qt].queries.getByIndex(n),s=i.matches;if(null!==s){const o=Pg(t,i,n);for(let n=0;n<s.length;n+=2){const i=s[n];if(i>0){const e=o[n/2];r.push(e)}else{const o=s[n+1],a=t[-i];for(let t=dn;t<a.length;t++){const n=a[t];n[sn]===n[Ht]&&e(n,o,r)}if(null!==a[ln])for(let t of a[ln])e(t,o,r)}}}return r}(t,n,[]):Pg(t,r,n);e.reset(i),e.notifyOnChanges()}return!0}return!1}function Og(e,t,n){Lg(tr(),e,t,n,!0)}function Rg(e,t,n){Lg(tr(),e,t,n,!1)}function Lg(e,t,n,r,i){const s=e[qt];s.firstTemplatePass&&(Hg(s,new Ig(t,n,i,r),-1),i&&(s.staticViewQueries=!0)),$g(e)}function Fg(){return qg(tr(),Ar())}function Vg(e,t,n,r){Ug(tr(),t,n,r,!1,dr(),e)}function Bg(e,t,n,r){Ug(tr(),t,n,r,!0,dr(),e)}function Ug(e,t,n,r,i,s,o){const a=e[qt];a.firstTemplatePass&&(Hg(a,new Ig(t,n,i,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]),r=e.contentQueries.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}(a,o),i&&(a.staticContentQueries=!0)),$g(e)}function jg(){return qg(tr(),Ar())}function qg(e,t){return e[Wt].queries[t].queryList}function $g(e){const t=new Cg;!function(e,t,n){const r=Ua(e);r.push(t),e[qt].firstTemplatePass&&ja(e).push(n,r.length-1)}(e,t,t.destroy),null===e[Wt]&&(e[Wt]=new xg),e[Wt].queries.push(new Tg(t))}function Hg(e,t,n){null===e.queries&&(e.queries=new Ag),e.queries.track(new Dg(t,n))}function zg(e,t){return e.queries.getByIndex(t)}function Wg(e,t){return Su(Yp,Tp,e,t)}function Kg(e=_e.Default){const t=Tu(!0);if(null!=t||e&_e.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}(()=>({"\u0275\u0275attribute":Hc,"\u0275\u0275attributeInterpolate1":el,"\u0275\u0275attributeInterpolate2":tl,"\u0275\u0275attributeInterpolate3":nl,"\u0275\u0275attributeInterpolate4":rl,"\u0275\u0275attributeInterpolate5":il,"\u0275\u0275attributeInterpolate6":sl,"\u0275\u0275attributeInterpolate7":ol,"\u0275\u0275attributeInterpolate8":al,"\u0275\u0275attributeInterpolateV":ul,"\u0275\u0275defineBase":Ot,"\u0275\u0275defineComponent":It,"\u0275\u0275defineDirective":Rt,"\u0275\u0275defineInjectable":Ce,"\u0275\u0275defineInjector":Te,"\u0275\u0275defineNgModule":kt,"\u0275\u0275definePipe":Lt,"\u0275\u0275directiveInject":gl,"\u0275\u0275getFactoryOf":ss,"\u0275\u0275getInheritedFactory":os,"\u0275\u0275inject":et,"\u0275\u0275injectAttribute":vl,"\u0275\u0275injectPipeChangeDetectorRef":Kg,"\u0275\u0275templateRefExtractor":Wg,"\u0275\u0275NgOnChangesFeature":ep,"\u0275\u0275ProvidersFeature":gp,"\u0275\u0275InheritDefinitionFeature":sp,"\u0275\u0275container":cl,"\u0275\u0275nextContext":th,"\u0275\u0275containerRefreshStart":hl,"\u0275\u0275containerRefreshEnd":pl,"\u0275\u0275namespaceHTML":jr,"\u0275\u0275namespaceMathML":Ur,"\u0275\u0275namespaceSVG":Br,"\u0275\u0275enableBindings":Zn,"\u0275\u0275disableBindings":er,"\u0275\u0275allocHostVars":Ac,"\u0275\u0275elementStart":Fl,"\u0275\u0275elementEnd":Vl,"\u0275\u0275element":Bl,"\u0275\u0275elementContainerStart":ql,"\u0275\u0275elementContainerEnd":$l,"\u0275\u0275elementContainer":Hl,"\u0275\u0275pureFunction0":ig,"\u0275\u0275pureFunction1":sg,"\u0275\u0275pureFunction2":og,"\u0275\u0275pureFunction3":ag,"\u0275\u0275pureFunction4":ug,"\u0275\u0275pureFunction5":cg,"\u0275\u0275pureFunction6":lg,"\u0275\u0275pureFunction7":hg,"\u0275\u0275pureFunction8":pg,"\u0275\u0275pureFunctionV":dg,"\u0275\u0275getCurrentView":Kl,"\u0275\u0275restoreView":pr,"\u0275\u0275listener":Yl,"\u0275\u0275load":ml,"\u0275\u0275projection":oh,"\u0275\u0275updateSyntheticHostBinding":Gh,"\u0275\u0275componentHostSyntheticListener":Xl,"\u0275\u0275pipeBind1":mg,"\u0275\u0275pipeBind2":gg,"\u0275\u0275pipeBind3":vg,"\u0275\u0275pipeBind4":yg,"\u0275\u0275pipeBindV":wg,"\u0275\u0275projectionDef":rh,"\u0275\u0275hostProperty":Kh,"\u0275\u0275property":qc,"\u0275\u0275propertyInterpolate":ah,"\u0275\u0275propertyInterpolate1":uh,"\u0275\u0275propertyInterpolate2":ch,"\u0275\u0275propertyInterpolate3":lh,"\u0275\u0275propertyInterpolate4":hh,"\u0275\u0275propertyInterpolate5":ph,"\u0275\u0275propertyInterpolate6":dh,"\u0275\u0275propertyInterpolate7":fh,"\u0275\u0275propertyInterpolate8":mh,"\u0275\u0275propertyInterpolateV":gh,"\u0275\u0275pipe":fg,"\u0275\u0275queryRefresh":Mg,"\u0275\u0275viewQuery":Rg,"\u0275\u0275staticViewQuery":Og,"\u0275\u0275staticContentQuery":Bg,"\u0275\u0275loadViewQuery":Fg,"\u0275\u0275contentQuery":Vg,"\u0275\u0275loadContentQuery":jg,"\u0275\u0275reference":fl,"\u0275\u0275elementHostAttrs":Ul,"\u0275\u0275classMap":Tl,"\u0275\u0275classMapInterpolate1":Dh,"\u0275\u0275classMapInterpolate2":Nh,"\u0275\u0275classMapInterpolate3":kh,"\u0275\u0275classMapInterpolate4":Ph,"\u0275\u0275classMapInterpolate5":Mh,"\u0275\u0275classMapInterpolate6":Oh,"\u0275\u0275classMapInterpolate7":Rh,"\u0275\u0275classMapInterpolate8":Lh,"\u0275\u0275classMapInterpolateV":Fh,"\u0275\u0275styling":yl,"\u0275\u0275styleMap":Cl,"\u0275\u0275styleProp":bl,"\u0275\u0275stylePropInterpolate1":Vh,"\u0275\u0275stylePropInterpolate2":Bh,"\u0275\u0275stylePropInterpolate3":Uh,"\u0275\u0275stylePropInterpolate4":jh,"\u0275\u0275stylePropInterpolate5":qh,"\u0275\u0275stylePropInterpolate6":$h,"\u0275\u0275stylePropInterpolate7":Hh,"\u0275\u0275stylePropInterpolate8":zh,"\u0275\u0275stylePropInterpolateV":Wh,"\u0275\u0275styleSanitizer":wl,"\u0275\u0275stylingApply":Dl,"\u0275\u0275classProp":El,"\u0275\u0275select":Go,"\u0275\u0275template":ll,"\u0275\u0275text":vh,"\u0275\u0275textBinding":yh,"\u0275\u0275textInterpolate":wh,"\u0275\u0275textInterpolate1":bh,"\u0275\u0275textInterpolate2":_h,"\u0275\u0275textInterpolate3":Eh,"\u0275\u0275textInterpolate4":Sh,"\u0275\u0275textInterpolate5":Ch,"\u0275\u0275textInterpolate6":Th,"\u0275\u0275textInterpolate7":xh,"\u0275\u0275textInterpolate8":Ih,"\u0275\u0275textInterpolateV":Ah,"\u0275\u0275embeddedViewStart":zl,"\u0275\u0275embeddedViewEnd":Wl,"\u0275\u0275i18n":Bm,"\u0275\u0275i18nAttributes":Um,"\u0275\u0275i18nExp":$m,"\u0275\u0275i18nStart":km,"\u0275\u0275i18nEnd":Rm,"\u0275\u0275i18nApply":Hm,"\u0275\u0275i18nPostprocess":Om,"\u0275\u0275i18nLocalize":Jm,"\u0275\u0275resolveWindow":Qr,"\u0275\u0275resolveDocument":Yr,"\u0275\u0275resolveBody":Xr,"\u0275\u0275setComponentScope":At,"\u0275\u0275setNgModuleScope":Pt,"\u0275\u0275sanitizeHtml":Xs,"\u0275\u0275sanitizeStyle":Js,"\u0275\u0275defaultStyleSanitizer":ro,"\u0275\u0275sanitizeResourceUrl":eo,"\u0275\u0275sanitizeScript":to,"\u0275\u0275sanitizeUrl":Zs,"\u0275\u0275sanitizeUrlOrResourceUrl":no}))();new Map,new Map;const Gg=he("Directive",(e={})=>e,void 0,void 0,(e,t)=>nv(e,t));const Qg=he("Component",(e={})=>Object.assign({changeDetection:mt.Default},e),Gg,void 0,(e,t)=>tv(e,t));const Yg=he("Pipe",e=>Object.assign({pure:!0},e),void 0,void 0,(e,t)=>rv(e,t));const Xg=fe("Input",e=>({bindingPropertyName:e}));const Jg=fe("Output",e=>({bindingPropertyName:e}));const Zg=fe("HostBinding",e=>({hostPropertyName:e}));const ev=fe("HostListener",(e,t)=>({eventName:e,args:t})),tv=Cp,nv=Cp,rv=Cp;const iv=he("NgModule",e=>e,void 0,void 0,(e,t)=>sv(e,t));const sv=function(e,t){let n=t&&t.imports||[];t&&t.exports&&(n=[...n,t.exports]),e.ngInjectorDef=Te({factory:Uu(e,{useClass:e}),providers:t&&t.providers,imports:n})},ov=new Ue("Application Initializer");class av{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Gl(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}av.decorators=[{type:ju}],av.ctorParameters=()=>[{type:Array,decorators:[{type:me,args:[ov]},{type:ge}]}];const uv=new Ue("AppId");const cv={provide:uv,useFactory:function(){return`${lv()}${lv()}${lv()}`},deps:[]};function lv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hv=new Ue("Platform Initializer"),pv=new Ue("Platform ID"),dv=new Ue("appBootstrapListener"),fv=new Ue("Application Packages Root URL");class mv{log(e){console.log(e)}warn(e){console.warn(e)}}mv.decorators=[{type:ju}];const gv=new Ue("LocaleId"),vv=new Ue("Translations"),yv=new Ue("TranslationsFormat"),wv={Error:0,Warning:1,Ignore:2};wv[wv.Error]="Error",wv[wv.Warning]="Warning",wv[wv.Ignore]="Ignore";const bv=!1;function _v(){throw new Error("Runtime compiler is not loaded")}const Ev=_v,Sv=_v,Cv=_v,Tv=_v;class xv{constructor(){this.compileModuleSync=Ev,this.compileModuleAsync=Sv,this.compileModuleAndAllComponentsSync=Cv,this.compileModuleAndAllComponentsAsync=Tv}clearCache(){}clearCacheFor(e){}getModuleId(e){}}xv.decorators=[{type:ju}];const Iv=new Ue("compilerOptions");class Av{}let Dv,Nv;const kv=function(){const e=Ve.wtf;return!(!e||!(Dv=e.trace))&&(Nv=Dv.events,!0)}();function Pv(e,t){return null}const Mv=kv?function(e,t=null){return Nv.createScope(e,t)}:(e,t)=>Pv,Ov=kv?function(e,t){return Dv.leaveScope(e,t),t}:(e,t)=>t,Rv=(()=>Promise.resolve(0))();function Lv(e){"undefined"==typeof Zone?Rv.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Fv{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eg(!1),this.onMicrotaskEmpty=new Eg(!1),this.onStable=new Eg(!1),this.onError=new Eg(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const t=this;var n;t._nesting=0,t._outer=t._inner=Zone.current,Zone.wtfZoneSpec&&(t._inner=t._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(t._inner=t._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(t._inner=t._inner.fork(Zone.longStackTraceZoneSpec)),(n=t)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,t,r,i,s,o)=>{try{return jv(n),e.invokeTask(r,i,s,o)}finally{qv(n)}},onInvoke:(e,t,r,i,s,o,a)=>{try{return jv(n),e.invoke(r,i,s,o,a)}finally{qv(n)}},onHasTask:(e,t,r,i)=>{e.hasTask(r,i),t===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,Uv(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,t,r,i)=>(e.handleError(r,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fv.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fv.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Bv,Vv,Vv);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Vv(){}const Bv={};function Uv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function jv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qv(e){e._nesting--,Uv(e)}class $v{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eg,this.onMicrotaskEmpty=new Eg,this.onStable=new Eg,this.onError=new Eg}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class Hv{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fv.assertNotInAngularZone(),Lv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lv(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}Hv.decorators=[{type:ju}],Hv.ctorParameters=()=>[{type:Fv}];class zv{constructor(){this._applications=new Map,Kv.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Kv.findTestabilityInTree(this,e,t)}}zv.decorators=[{type:ju}],zv.ctorParameters=()=>[];let Wv,Kv=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}},Gv=function(e,t,n){return e.get(Av).createCompiler([t]).compileModuleAsync(n)};let Qv=function(e){return e instanceof Sp};const Yv=new Ue("AllowMultipleToken");class Xv{constructor(e,t){this.name=e,this.token=t}}function Jv(e,t,n=[]){const r=`Platform: ${t}`,i=new Ue(r);return(t=[])=>{let s=Zv();if(!s||s.injector.get(Yv,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(Wv&&!Wv.destroyed&&!Wv.injector.get(Yv,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wv=e.get(ey);const t=e.get(hv,null);t&&t.forEach(e=>e())}(Qu.create({providers:e,name:r}))}return function(e){const t=Zv();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Zv(){return Wv&&!Wv.destroyed?Wv:null}class ey{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e){let t;t="noop"===e?new $v:("zone.js"===e?void 0:e)||new Fv({enableLongStackTrace:ys()});return t}(t?t.ngZone:void 0),r=[{provide:Fv,useValue:n}];return n.run(()=>{const t=Qu.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(ds,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");if(bv){eg(i.injector.get(gv,am)||am)}return i.onDestroy(()=>ry(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{s.handleError(e)}})),function(e,t,n){try{const r=n();return Gl(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(av);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=ty({},t);return Gv(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(ny);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Ne(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function ty(e,t){return e=Array.isArray(t)?t.reduce(ty,e):Object.assign({},e,t)}ey.decorators=[{type:ju}],ey.ctorParameters=()=>[{type:Qu}];class ny{constructor(e,t,n,r,i,s){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ys(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new E(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new E(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Fv.assertNotInAngularZone(),Lv(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fv.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=J(o,a.pipe(ae()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof yp?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=Qv(n)?null:this._injector.get(ot),i=t||n.selector,s=n.create(Qu.NULL,[],i,r);s.onDestroy(()=>{this._unloadComponent(s)});const o=s.injector.get(Hv,null);return o&&s.injector.get(zv).registerApplication(s.location.nativeElement,o),this._loadComponent(s),ys()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=ny._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1,Ov(e)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;ry(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(dv,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),ry(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}function ry(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}ny._tickScope=Mv("ApplicationRef#tick()"),ny.decorators=[{type:ju}],ny.ctorParameters=()=>[{type:Fv},{type:mv},{type:Qu},{type:ds},{type:_p},{type:av}];class iy{}const sy="#",oy="NgFactory";class ay{}const uy={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class cy{constructor(e,t){this._compiler=e,this._config=t||uy}load(e){return!bv&&this._compiler instanceof xv?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split(sy);return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>ly(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split(sy),i=oy;return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>ly(e,t,r))}}function ly(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}cy.decorators=[{type:ju}],cy.ctorParameters=()=>[{type:xv},{type:ay,decorators:[{type:ge}]}];class hy{constructor(e,t){this.name=e,this.callback=t}}class py{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof dy&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class dy extends py{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof dy&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof dy&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof dy&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof dy)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const fy=new Map;const my=function(e){return fy.get(e)||null};function gy(e){fy.set(e.nativeNode,e)}const vy=Jv(null,"core",[{provide:pv,useValue:"unknown"},{provide:ey,deps:[Qu]},{provide:zv,deps:[]},{provide:mv,deps:[]}]);const yy=[{provide:ny,useClass:ny,deps:[Fv,mv,Qu,ds,_p,av]},{provide:Jf,deps:[Fv],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:av,useClass:av,deps:[[new ge,ov]]},{provide:xv,useClass:xv,deps:[]},cv,{provide:Hp,useFactory:function(){return Gp},deps:[]},{provide:zp,useFactory:function(){return Qp},deps:[]},{provide:gv,useFactory:function(e){return e?(bv&&eg(e),e):am},deps:[[new me(gv),new ge,new ye]]}];class wy{constructor(e){}}function by(e,t,n,r,i,s){e|=1;const{matchedQueries:o,references:a,matchedQueryIds:u}=kd(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:u,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?Rd(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||hd},provider:null,text:null,query:null,ngContent:null}}function _y(e,t,n,r,i,s,o=[],a,u,c,l,h){c||(c=hd);const{matchedQueries:p,references:d,matchedQueryIds:f}=kd(n);let m=null,g=null;s&&([m,g]=qd(s)),a=a||[];const v=new Array(a.length);for(let b=0;b<a.length;b++){const[e,t,n]=a[b],[r,i]=qd(t);let s=void 0,o=void 0;switch(15&e){case 4:o=n;break;case 1:case 8:s=n}v[b]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:s,suffix:o}}u=u||[];const y=new Array(u.length);for(let b=0;b<u.length;b++){const[e,t]=u[b];y[b]={type:0,target:e,eventName:t,propName:null}}const w=(o=o||[]).map(([e,t])=>{const[n,r]=qd(e);return[n,r,t]});return h=function(e){if(e&&e.id===md){const t=null!=e.encapsulation&&e.encapsulation!==vt.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${yd++}`:gd}return e&&e.id===gd&&(e=null),e||null}(h),l&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:f,references:d,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:$d(v),outputs:y,element:{ns:m,name:g,attrs:w,template:null,componentProvider:null,componentView:l||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||hd},provider:null,text:null,query:null,ngContent:null}}function Ey(e,t,n){const r=n.element,i=e.root.selectorOrNode,s=e.renderer;let o;if(e.parent||!i){o=r.name?s.createElement(r.name,r.ns):s.createComment("");const i=Md(e,t,n);i&&s.appendChild(i,o)}else{const e=!!r.componentRendererType&&r.componentRendererType.encapsulation===vt.ShadowDom;o=s.selectRootElement(i,e)}if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];s.setAttribute(o,t,n,e)}return o}function Sy(e,t,n,r){for(let o=0;o<n.outputs.length;o++){const a=n.outputs[o],u=Cy(e,n.nodeIndex,(i=a.target,s=a.eventName,i?`${i}:${s}`:s));let c=a.target,l=e;"component"===a.target&&(c=null,l=t);const h=l.renderer.listen(c||r,a.eventName,u);e.disposables[n.outputIndex+o]=h}var i,s}function Cy(e,t,n){return r=>Cd(e,t,n,r)}function Ty(e,t,n,r){if(!bd(e,t,n,r))return!1;const i=t.bindings[n],s=od(e,t.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,s){const o=t.securityContext;let a=o?e.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;const u=e.renderer;null!=s?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(e,i,o,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,o,a,r);break;case 4:!function(e,t,n,r,i){let s=e.root.sanitizer.sanitize(Ws.STYLE,i);if(null!=s){s=s.toString();const e=t.suffix;null!=e&&(s+=e)}else s=null;const o=e.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(e,i,o,a,r);break;case 8:!function(e,t,n,r,i){const s=t.securityContext;let o=s?e.root.sanitizer.sanitize(s,i):i;e.renderer.setProperty(n,r,o)}(33554432&t.flags&&32&i.flags?s.componentView:e,i,o,a,r)}return!0}function xy(e,t,n){let r=[];for(let i in n){const e=n[i];r.push({propName:i,bindingType:e})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Nd(t),bindings:r},ngContent:null}}function Iy(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Dd(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&cd(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&cd(e,n).setDirty(),n+=t.childCount}}function Ay(e,t){const n=cd(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=Dy(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=ad(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Dy(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const s=t.query.bindings;let o=!1;for(let a=0;a<s.length;a++){const e=s[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}r[e.propName]=t}o&&n.notifyOnChanges()}function Dy(e,t,n,r,i){for(let s=t;s<=n;s++){const t=e.def.nodes[s],n=t.matchedQueries[r.id];if(null!=n&&i.push(Ny(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=od(e,s);if((t.childMatchedQueries&r.filterId)===r.filterId&&(Dy(e,s+1,s+t.childCount,r,i),s+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const s=e[t],o=Td(s);o&&o===n&&Dy(s,0,s.def.nodes.length-1,r,i)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];Dy(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(s+=t.childCount)}return i}function Ny(e,t,n){if(null!=n)switch(n){case 1:return od(e,t.nodeIndex).renderElement;case 0:return new Tp(od(e,t.nodeIndex).renderElement);case 2:return od(e,t.nodeIndex).template;case 3:return od(e,t.nodeIndex).viewContainer;case 4:return ad(e,t.nodeIndex).instance}}function ky(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Py(e,t,n){const r=Md(e,t,n);r&&Vd(e,n.ngContent.index,1,r,null,void 0)}function My(e,t){return Ly(128,e,new Array(t+1))}function Oy(e,t){return Ly(32,e,new Array(t))}function Ry(e,t){const n=Object.keys(t),r=n.length,i=new Array(r);for(let s=0;s<r;s++){const e=n[s];i[t[e]]=e}return Ly(64,e,i)}function Ly(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const e=n[i];r[i]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:$d(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Fy(e,t,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Vy(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const s=Md(e,t,n);return s&&i.appendChild(s,r),{renderText:r}}function By(e,t){return(null!=e?e.toString():"")+t.suffix}function Uy(e,t,n,r){let i=0,s=0,o=0,a=0,u=0,c=null,l=null,h=!1,p=!1,d=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=c,e.bindingIndex=i,e.outputIndex=s,e.renderParent=l,o|=e.flags,u|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,p=!1,e.element.template&&(u|=e.element.template.nodeMatchedQueries)}if(qy(c,e,t.length),i+=e.bindings.length,s+=e.outputs.length,!l&&3&e.flags&&(d=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(8192&e.flags),n=0!=(32768&e.flags);!t||n?c.element.publicProviders[dd(e.provider.token)]=e:(p||(p=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[dd(e.provider.token)]=e),n&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)c=e,jy(e)||(l=e);else for(;c&&f===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),l=(c=e)&&jy(c)?c.renderParent:c}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||hd,updateRenderer:r||hd,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:s,lastRenderRootNode:d}}function jy(e){return 0!=(1&e.flags)&&null===e.element.name}function qy(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags){if(0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`)}if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function $y(e,t,n,r){const i=Wy(e.root,e.renderer,e,t,n);return Ky(i,e.component,r),Gy(i),i}function Hy(e,t,n){const r=Wy(e,e.renderer,null,null,t);return Ky(r,n,n),Gy(r),r}function zy(e,t,n,r){const i=t.element.componentRendererType;let s;return s=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,Wy(e.root,s,e,t.element.componentProvider,n)}function Wy(e,t,n,r,i){const s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function Ky(e,t,n){e.component=t,e.context=n}function Gy(e){let t;if(Ad(e)){const n=e.parentNodeDef;t=od(e.parent,n.parent.nodeIndex).renderElement}const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const s=n.nodes[i];let o;switch(ld.setCurrentNode(e,i),201347067&s.flags){case 1:const n=Ey(e,t,s);let a=void 0;if(33554432&s.flags){const t=Rd(s.element.componentView);a=ld.createComponentView(e,s,t,n)}Sy(e,a,s,n),o={renderElement:n,componentView:a,viewContainer:null,template:s.element.template?gf(e,s):void 0},16777216&s.flags&&(o.viewContainer=pf(e,s,o));break;case 2:o=Vy(e,t,s);break;case 512:case 1024:case 2048:case 256:if(!((o=r[i])||4096&s.flags)){o={instance:Ff(e,s)}}break;case 16:o={instance:Vf(e,s)};break;case 16384:if(!(o=r[i])){o={instance:Bf(e,s)}}if(32768&s.flags){Ky(od(e,s.parent.nodeIndex).componentView,o.instance,o.instance)}break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Cg;break;case 8:Py(e,t,s),o=void 0}r[i]=o}rw(e,nw.CreateViewNodes),aw(e,201326592,268435456,0)}function Qy(e){Jy(e),ld.updateDirectives(e,1),iw(e,nw.CheckNoChanges),ld.updateRenderer(e,1),rw(e,nw.CheckNoChanges),e.state&=-97}function Yy(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,rd(e,0,256),Jy(e),ld.updateDirectives(e,0),iw(e,nw.CheckAndUpdate),aw(e,67108864,536870912,0);let t=rd(e,256,512);Kf(e,2097152|(t?1048576:0)),ld.updateRenderer(e,0),rw(e,nw.CheckAndUpdate),aw(e,134217728,536870912,0),Kf(e,8388608|((t=rd(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,rd(e,768,1024)}function Xy(e,t,n,r,i,s,o,a,u,c,l,h,p){return 0===n?function(e,t,n,r,i,s,o,a,u,c,l,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,s,o,a,u,c,l,h){const p=t.bindings.length;let d=!1;return p>0&&Ty(e,t,0,n)&&(d=!0),p>1&&Ty(e,t,1,r)&&(d=!0),p>2&&Ty(e,t,2,i)&&(d=!0),p>3&&Ty(e,t,3,s)&&(d=!0),p>4&&Ty(e,t,4,o)&&(d=!0),p>5&&Ty(e,t,5,a)&&(d=!0),p>6&&Ty(e,t,6,u)&&(d=!0),p>7&&Ty(e,t,7,c)&&(d=!0),p>8&&Ty(e,t,8,l)&&(d=!0),p>9&&Ty(e,t,9,h)&&(d=!0),d}(e,t,n,r,i,s,o,a,u,c,l,h);case 2:return function(e,t,n,r,i,s,o,a,u,c,l,h){let p=!1;const d=t.bindings,f=d.length;if(f>0&&bd(e,t,0,n)&&(p=!0),f>1&&bd(e,t,1,r)&&(p=!0),f>2&&bd(e,t,2,i)&&(p=!0),f>3&&bd(e,t,3,s)&&(p=!0),f>4&&bd(e,t,4,o)&&(p=!0),f>5&&bd(e,t,5,a)&&(p=!0),f>6&&bd(e,t,6,u)&&(p=!0),f>7&&bd(e,t,7,c)&&(p=!0),f>8&&bd(e,t,8,l)&&(p=!0),f>9&&bd(e,t,9,h)&&(p=!0),p){let p=t.text.prefix;f>0&&(p+=By(n,d[0])),f>1&&(p+=By(r,d[1])),f>2&&(p+=By(i,d[2])),f>3&&(p+=By(s,d[3])),f>4&&(p+=By(o,d[4])),f>5&&(p+=By(a,d[5])),f>6&&(p+=By(u,d[6])),f>7&&(p+=By(c,d[7])),f>8&&(p+=By(l,d[8])),f>9&&(p+=By(h,d[9]));const m=sd(e,t.nodeIndex).renderText;e.renderer.setValue(m,p)}return p}(e,t,n,r,i,s,o,a,u,c,l,h);case 16384:return function(e,t,n,r,i,s,o,a,u,c,l,h){const p=ad(e,t.nodeIndex),d=p.instance;let f=!1,m=void 0;const g=t.bindings.length;return g>0&&wd(e,t,0,n)&&(f=!0,m=Wf(e,p,t,0,n,m)),g>1&&wd(e,t,1,r)&&(f=!0,m=Wf(e,p,t,1,r,m)),g>2&&wd(e,t,2,i)&&(f=!0,m=Wf(e,p,t,2,i,m)),g>3&&wd(e,t,3,s)&&(f=!0,m=Wf(e,p,t,3,s,m)),g>4&&wd(e,t,4,o)&&(f=!0,m=Wf(e,p,t,4,o,m)),g>5&&wd(e,t,5,a)&&(f=!0,m=Wf(e,p,t,5,a,m)),g>6&&wd(e,t,6,u)&&(f=!0,m=Wf(e,p,t,6,u,m)),g>7&&wd(e,t,7,c)&&(f=!0,m=Wf(e,p,t,7,c,m)),g>8&&wd(e,t,8,l)&&(f=!0,m=Wf(e,p,t,8,l,m)),g>9&&wd(e,t,9,h)&&(f=!0,m=Wf(e,p,t,9,h,m)),m&&d.ngOnChanges(m),65536&t.flags&&id(e,256,t.nodeIndex)&&d.ngOnInit(),262144&t.flags&&d.ngDoCheck(),f}(e,t,n,r,i,s,o,a,u,c,l,h);case 32:case 64:case 128:return function(e,t,n,r,i,s,o,a,u,c,l,h){const p=t.bindings;let d=!1;const f=p.length;if(f>0&&bd(e,t,0,n)&&(d=!0),f>1&&bd(e,t,1,r)&&(d=!0),f>2&&bd(e,t,2,i)&&(d=!0),f>3&&bd(e,t,3,s)&&(d=!0),f>4&&bd(e,t,4,o)&&(d=!0),f>5&&bd(e,t,5,a)&&(d=!0),f>6&&bd(e,t,6,u)&&(d=!0),f>7&&bd(e,t,7,c)&&(d=!0),f>8&&bd(e,t,8,l)&&(d=!0),f>9&&bd(e,t,9,h)&&(d=!0),d){const d=ud(e,t.nodeIndex);let m;switch(201347067&t.flags){case 32:m=new Array(p.length),f>0&&(m[0]=n),f>1&&(m[1]=r),f>2&&(m[2]=i),f>3&&(m[3]=s),f>4&&(m[4]=o),f>5&&(m[5]=a),f>6&&(m[6]=u),f>7&&(m[7]=c),f>8&&(m[8]=l),f>9&&(m[9]=h);break;case 64:m={},f>0&&(m[p[0].name]=n),f>1&&(m[p[1].name]=r),f>2&&(m[p[2].name]=i),f>3&&(m[p[3].name]=s),f>4&&(m[p[4].name]=o),f>5&&(m[p[5].name]=a),f>6&&(m[p[6].name]=u),f>7&&(m[p[7].name]=c),f>8&&(m[p[8].name]=l),f>9&&(m[p[9].name]=h);break;case 128:const e=n;switch(f){case 1:m=e.transform(n);break;case 2:m=e.transform(r);break;case 3:m=e.transform(r,i);break;case 4:m=e.transform(r,i,s);break;case 5:m=e.transform(r,i,s,o);break;case 6:m=e.transform(r,i,s,o,a);break;case 7:m=e.transform(r,i,s,o,a,u);break;case 8:m=e.transform(r,i,s,o,a,u,c);break;case 9:m=e.transform(r,i,s,o,a,u,c,l);break;case 10:m=e.transform(r,i,s,o,a,u,c,l,h)}}d.value=m}return d}(e,t,n,r,i,s,o,a,u,c,l,h);default:throw"unreachable"}}(e,t,r,i,s,o,a,u,c,l,h,p):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)Ty(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let s=0;s<n.length;s++)bd(e,t,s,n[s])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=By(n[e],r[e]);i=t.text.prefix+i;const s=sd(e,t.nodeIndex).renderText;e.renderer.setValue(s,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=ad(e,t.nodeIndex),i=r.instance;let s=!1,o=void 0;for(let a=0;a<n.length;a++)wd(e,t,a,n[a])&&(s=!0,o=Wf(e,r,t,a,n[a],o));return o&&i.ngOnChanges(o),65536&t.flags&&id(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),s}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let s=0;s<n.length;s++)bd(e,t,s,n[s])&&(i=!0);if(i){const i=ud(e,t.nodeIndex);let s;switch(201347067&t.flags){case 32:s=n;break;case 64:s={};for(let i=0;i<n.length;i++)s[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);s=e.transform(...t)}i.value=s}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function Jy(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=od(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,Sd(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Zy(e,t,n,r,i,s,o,a,u,c,l,h,p){return 0===n?function(e,t,n,r,i,s,o,a,u,c,l,h){const p=t.bindings.length;p>0&&_d(e,t,0,n);p>1&&_d(e,t,1,r);p>2&&_d(e,t,2,i);p>3&&_d(e,t,3,s);p>4&&_d(e,t,4,o);p>5&&_d(e,t,5,a);p>6&&_d(e,t,6,u);p>7&&_d(e,t,7,c);p>8&&_d(e,t,8,l);p>9&&_d(e,t,9,h)}(e,t,r,i,s,o,a,u,c,l,h,p):function(e,t,n){for(let r=0;r<n.length;r++)_d(e,t,r,n[r])}(e,t,r),!1}function ew(e,t){if(cd(e,t.nodeIndex).dirty)throw ed(ld.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function tw(e){if(!(128&e.state)){if(iw(e,nw.Destroy),rw(e,nw.Destroy),Kf(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Td(e);if(t){const n=t.template._projectedViews;n&&(ht(n,n.indexOf(e)),ld.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(od(e,n).renderElement):2&t.flags?e.renderer.destroyNode(sd(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&cd(e,n).destroy()}}(e),Ad(e)&&e.renderer.destroy(),e.state|=128}}wy.decorators=[{type:iv,args:[{providers:yy}]}],wy.ctorParameters=()=>[{type:ny}];const nw={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};function rw(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?sw(od(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function iw(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=od(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)sw(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function sw(e,t){const n=e.state;switch(t){case nw.CheckNoChanges:0==(128&n)&&(12==(12&n)?Qy(e):64&n&&ow(e,nw.CheckNoChangesProjectedViews));break;case nw.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Qy(e):64&n&&ow(e,t));break;case nw.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Yy(e):64&n&&ow(e,nw.CheckAndUpdateProjectedViews));break;case nw.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Yy(e):64&n&&ow(e,t));break;case nw.Destroy:tw(e);break;case nw.CreateViewNodes:Gy(e)}}function ow(e,t){iw(e,t),rw(e,t)}function aw(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let s=0;s<i;s++){const i=e.def.nodes[s];if(i.flags&t&&i.flags&n)switch(ld.setCurrentNode(e,i.nodeIndex),r){case 0:Ay(e,i);break;case 1:ew(e,i)}i.childFlags&t&&i.childFlags&n||(s+=i.childCount)}}nw[nw.CreateViewNodes]="CreateViewNodes",nw[nw.CheckNoChanges]="CheckNoChanges",nw[nw.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",nw[nw.CheckAndUpdate]="CheckAndUpdate",nw[nw.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",nw[nw.Destroy]="Destroy";let uw=!1;function cw(){if(uw)return;uw=!0;const e=ys()?{setCurrentNode:Pw,createRootView:hw,createEmbeddedView:dw,createComponentView:fw,createNgModuleRef:mw,overrideProvider:ww,overrideComponentView:bw,clearOverrides:_w,checkAndUpdateView:Tw,checkNoChangesView:xw,destroyView:Iw,createDebugContext:(e,t)=>new Uw(e,t),handleEvent:Mw,updateDirectives:Ow,updateRenderer:Rw}:{setCurrentNode:()=>{},createRootView:lw,createEmbeddedView:$y,createComponentView:zy,createNgModuleRef:Sf,overrideProvider:hd,overrideComponentView:hd,clearOverrides:hd,checkAndUpdateView:Yy,checkNoChangesView:Qy,destroyView:tw,createDebugContext:(e,t)=>new Uw(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Sw:Cw,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Sw:Cw,e)};ld.setCurrentNode=e.setCurrentNode,ld.createRootView=e.createRootView,ld.createEmbeddedView=e.createEmbeddedView,ld.createComponentView=e.createComponentView,ld.createNgModuleRef=e.createNgModuleRef,ld.overrideProvider=e.overrideProvider,ld.overrideComponentView=e.overrideComponentView,ld.clearOverrides=e.clearOverrides,ld.checkAndUpdateView=e.checkAndUpdateView,ld.checkNoChangesView=e.checkNoChangesView,ld.destroyView=e.destroyView,ld.resolveDep=Hf,ld.createDebugContext=e.createDebugContext,ld.handleEvent=e.handleEvent,ld.updateDirectives=e.updateDirectives,ld.updateRenderer=e.updateRenderer,ld.dirtyParentQueries=Iy}function lw(e,t,n,r,i,s){const o=i.injector.get(Ap);return Hy(pw(e,i,o,t,n),r,s)}function hw(e,t,n,r,i,s){const o=i.injector.get(Ap),a=pw(e,i,new Hw(o),t,n),u=Ew(r);return qw(Aw.create,Hy,null,[a,u,s])}function pw(e,t,n,r,i){const s=t.injector.get(Ks),o=t.injector.get(ds),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:a,errorHandler:o}}function dw(e,t,n,r){const i=Ew(n);return qw(Aw.create,$y,null,[e,t,i,r])}function fw(e,t,n,r){const i=yw.get(t.element.componentProvider.provider.token);return n=i||Ew(n),qw(Aw.create,zy,null,[e,t,n,r])}function mw(e,t,n,r){return Sf(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;if(0===gw.size)return{hasOverrides:t,hasDeprecatedOverrides:n};return e.providers.forEach(e=>{const r=gw.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{vw.forEach((r,i)=>{xe(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);if(!t)return e;return function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=gw.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Pd(i.deps),r.value=i.value)}if(vw.size>0){let t=new Set(e.modules);vw.forEach((r,i)=>{if(t.has(xe(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:Pd(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[dd(i)]=t}})}}(e=e.factory(()=>hd)),e}(r))}const gw=new Map,vw=new Map,yw=new Map;function ww(e){let t;gw.set(e.token,e),"function"==typeof e.token&&(t=xe(e.token))&&"function"==typeof t.providedIn&&vw.set(e.token,e)}function bw(e,t){const n=Rd(t.viewDefFactory);const r=Rd(n.nodes[0].element.componentView);yw.set(e,r)}function _w(){gw.clear(),vw.clear(),yw.clear()}function Ew(e){if(0===gw.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&gw.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>hd);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=gw.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=Pd(n.deps),e.value=n.value)}}}}function Sw(e,t,n,r,i,s,o,a,u,c,l,h,p){const d=e.def.nodes[t];return Xy(e,d,n,r,i,s,o,a,u,c,l,h,p),224&d.flags?ud(e,t).value:void 0}function Cw(e,t,n,r,i,s,o,a,u,c,l,h,p){const d=e.def.nodes[t];return Zy(e,d,n,r,i,s,o,a,u,c,l,h,p),224&d.flags?ud(e,t).value:void 0}function Tw(e){return qw(Aw.detectChanges,Yy,null,[e])}function xw(e){return qw(Aw.checkNoChanges,Qy,null,[e])}function Iw(e){return qw(Aw.destroy,tw,null,[e])}const Aw={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};let Dw,Nw,kw;function Pw(e,t){Nw=e,kw=t}function Mw(e,t,n,r){return Pw(e,t),qw(Aw.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Ow(e,t){if(128&e.state)throw nd(Aw[Dw]);return Pw(e,Vw(e,0)),e.def.updateDirectives((function(e,n,r,...i){const s=e.def.nodes[n];0===t?Lw(e,s,r,i):Fw(e,s,r,i);16384&s.flags&&Pw(e,Vw(e,n));return 224&s.flags?ud(e,s.nodeIndex).value:void 0}),e)}function Rw(e,t){if(128&e.state)throw nd(Aw[Dw]);return Pw(e,Bw(e,0)),e.def.updateRenderer((function(e,n,r,...i){const s=e.def.nodes[n];0===t?Lw(e,s,r,i):Fw(e,s,r,i);3&s.flags&&Pw(e,Bw(e,n));return 224&s.flags?ud(e,s.nodeIndex).value:void 0}),e)}function Lw(e,t,n,r){if(Xy(e,t,n,...r)){const i=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],s=i[e];8&r.flags&&(n[so(r.nonMinifiedName)]=ao(s))}const r=t.parent,s=od(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(s,t,r):e.renderer.removeAttribute(s,t)}else e.renderer.setValue(s,`bindings=${JSON.stringify(n,null,2)}`)}}}function Fw(e,t,n,r){Zy(e,t,n,...r)}function Vw(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Bw(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}Aw[Aw.create]="create",Aw[Aw.detectChanges]="detectChanges",Aw[Aw.checkNoChanges]="checkNoChanges",Aw[Aw.destroy]="destroy",Aw[Aw.handleEvent]="handleEvent";class Uw{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=xd(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return od(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return yf(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){jw(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&jw(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Ad(e);)e=e.parent;if(e.parent)return od(e.parent,xd(e).nodeIndex);return null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Id(this.view,this.nodeDef):Id(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++){3&e.nodes[r].flags&&n++}return n}(n,r);let s=-1;n.factory(()=>++s===i?e.error.bind(e,...t):hd),s<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function jw(e,t,n){for(let r in t.references)n[r]=Ny(e,t,t.references[r])}function qw(e,t,n,r){const i=Dw,s=Nw,o=kw;try{Dw=e;const a=t.apply(n,r);return Nw=s,kw=o,Dw=i,a}catch(a){if(ls(a)||!Nw)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),td(e,t),e}(a,$w())}}function $w(){return Nw?new Uw(Nw,kw):null}class Hw{constructor(e){this.delegate=e}createRenderer(e,t){return new zw(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class zw{constructor(e){this.delegate=e,this.debugContextFactory=$w,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=my(e);!function(e){fy.delete(e.nativeNode)}(t),t instanceof py&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new dy(n,null,r);t.name=e,gy(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&gy(new py(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&gy(new py(t,null,n)),t}appendChild(e,t){const n=my(e),r=my(t);n&&r&&n instanceof dy&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=my(e),i=my(t),s=my(n);r&&i&&r instanceof dy&&r.insertBefore(s,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=my(e),r=my(t);n&&r&&n instanceof dy&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=$w();return r&&gy(new dy(n,null,r)),n}setAttribute(e,t,n,r){const i=my(e);if(i&&i instanceof dy){const e=r?r+":"+t:t;i.attributes[e]=n}this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=my(e);if(r&&r instanceof dy){const e=n?n+":"+t:t;r.attributes[e]=null}this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=my(e);n&&n instanceof dy&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=my(e);n&&n instanceof dy&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=my(e);i&&i instanceof dy&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=my(e);r&&r instanceof dy&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=my(e);r&&r instanceof dy&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=my(e);r&&r.listeners.push(new hy(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function Ww(e,t,n){return new Kw(e,t,n)}class Kw extends at{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){cw();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Rd(this._ngModuleDefFactory));return ld.createNgModuleRef(this.moduleType,e||Qu.NULL,this._bootstrapComponents,t)}}var Gw;function Qw(e){if(":"!=e[0])return[null,e];const t=e.indexOf(":",1);if(-1==t)throw new Error(`Unsupported format "${e}" expecting ":namespace:name"`);return[e.slice(1,t),e.slice(t+1)]}function Yw(e){return"ng-container"===Qw(e)[1]}function Xw(e){return"ng-content"===Qw(e)[1]}function Jw(e){return"ng-template"===Qw(e)[1]}function Zw(e){return null===e?null:Qw(e)[0]}function eb(e,t){return e?`:${e}:${t}`:t}(function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"})(Gw||(Gw={}));const tb={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"},nb="\ue500";tb.ngsp=nb;class rb{constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:n=Gw.PARSABLE_DATA,closedByParent:r=!1,isVoid:i=!1,ignoreFirstLf:s=!1}={}){this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,e&&e.length>0&&e.forEach(e=>this.closedByChildren[e]=!0),this.isVoid=i,this.closedByParent=r||i,this.implicitNamespacePrefix=t||null,this.contentType=n,this.ignoreFirstLf=s}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}}let ib,sb;function ob(e){return sb||(ib=new rb,sb={base:new rb({isVoid:!0}),meta:new rb({isVoid:!0}),area:new rb({isVoid:!0}),embed:new rb({isVoid:!0}),link:new rb({isVoid:!0}),img:new rb({isVoid:!0}),input:new rb({isVoid:!0}),param:new rb({isVoid:!0}),hr:new rb({isVoid:!0}),br:new rb({isVoid:!0}),source:new rb({isVoid:!0}),track:new rb({isVoid:!0}),wbr:new rb({isVoid:!0}),p:new rb({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new rb({closedByChildren:["tbody","tfoot"]}),tbody:new rb({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new rb({closedByChildren:["tbody"],closedByParent:!0}),tr:new rb({closedByChildren:["tr"],closedByParent:!0}),td:new rb({closedByChildren:["td","th"],closedByParent:!0}),th:new rb({closedByChildren:["td","th"],closedByParent:!0}),col:new rb({isVoid:!0}),svg:new rb({implicitNamespacePrefix:"svg"}),math:new rb({implicitNamespacePrefix:"math"}),li:new rb({closedByChildren:["li"],closedByParent:!0}),dt:new rb({closedByChildren:["dt","dd"]}),dd:new rb({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new rb({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new rb({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new rb({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new rb({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new rb({closedByChildren:["optgroup"],closedByParent:!0}),option:new rb({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new rb({ignoreFirstLf:!0}),listing:new rb({ignoreFirstLf:!0}),style:new rb({contentType:Gw.RAW_TEXT}),script:new rb({contentType:Gw.RAW_TEXT}),title:new rb({contentType:Gw.ESCAPABLE_RAW_TEXT}),textarea:new rb({contentType:Gw.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),sb[e.toLowerCase()]||ib}const ab=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class ub{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){const t=[],n=(e,t)=>{t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)};let r,i=new ub,s=i,o=!1;for(ab.lastIndex=0;r=ab.exec(e);){if(r[1]){if(o)throw new Error("Nesting :not is not allowed in a selector");o=!0,s=new ub,i.notSelectors.push(s)}if(r[2]&&s.setElement(r[2]),r[3]&&s.addClassName(r[3]),r[4]&&s.addAttribute(r[4],r[6]),r[7]&&(o=!1,s=i),r[8]){if(o)throw new Error("Multiple selectors in :not are not supported");n(t,i),i=s=new ub}}return n(t,i),t}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getMatchingElementTemplate(){const e=this.element||"div",t=this.classNames.length>0?` class="${this.classNames.join(" ")}"`:"";let n="";for(let r=0;r<this.attrs.length;r+=2){n+=` ${this.attrs[r]}${""!==this.attrs[r+1]?`="${this.attrs[r+1]}"`:""}`}return ob(e).isVoid?`<${e}${t}${n}/>`:`<${e}${t}${n}></${e}>`}getAttrs(){const e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+=`.${t}`),this.attrs)for(let t=0;t<this.attrs.length;t+=2){const n=this.attrs[t],r=this.attrs[t+1];e+=`[${n}${r?"="+r:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}}class cb{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(e){const t=new cb;return t.addSelectables(e,null),t}addSelectables(e,t){let n=null;e.length>1&&(n=new lb(e),this._listContexts.push(n));for(let r=0;r<e.length;r++)this._addSelectable(e[r],t,n)}_addSelectable(e,t,n){let r=this;const i=e.element,s=e.classNames,o=e.attrs,a=new hb(e,t,n);if(i){0===o.length&&0===s.length?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i)}if(s)for(let u=0;u<s.length;u++){const e=0===o.length&&u===s.length-1,t=s[u];e?this._addTerminal(r._classMap,t,a):r=this._addPartial(r._classPartialMap,t)}if(o)for(let u=0;u<o.length;u+=2){const e=u===o.length-2,t=o[u],n=o[u+1];if(e){const e=r._attrValueMap;let i=e.get(t);i||(i=new Map,e.set(t,i)),this._addTerminal(i,n,a)}else{const e=r._attrValuePartialMap;let i=e.get(t);i||(i=new Map,e.set(t,i)),r=this._addPartial(i,n)}}}_addTerminal(e,t,n){let r=e.get(t);r||(r=[],e.set(t,r)),r.push(n)}_addPartial(e,t){let n=e.get(t);return n||(n=new cb,e.set(t,n)),n}match(e,t){let n=!1;const r=e.element,i=e.classNames,s=e.attrs;for(let o=0;o<this._listContexts.length;o++)this._listContexts[o].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,e,t)||n,n=this._matchPartial(this._elementPartialMap,r,e,t)||n,i)for(let o=0;o<i.length;o++){const r=i[o];n=this._matchTerminal(this._classMap,r,e,t)||n,n=this._matchPartial(this._classPartialMap,r,e,t)||n}if(s)for(let o=0;o<s.length;o+=2){const r=s[o],i=s[o+1],a=this._attrValueMap.get(r);i&&(n=this._matchTerminal(a,"",e,t)||n),n=this._matchTerminal(a,i,e,t)||n;const u=this._attrValuePartialMap.get(r);i&&(n=this._matchPartial(u,"",e,t)||n),n=this._matchPartial(u,i,e,t)||n}return n}_matchTerminal(e,t,n,r){if(!e||"string"!=typeof t)return!1;let i=e.get(t)||[];const s=e.get("*");if(s&&(i=i.concat(s)),0===i.length)return!1;let o,a=!1;for(let u=0;u<i.length;u++)a=(o=i[u]).finalize(n,r)||a;return a}_matchPartial(e,t,n,r){if(!e||"string"!=typeof t)return!1;const i=e.get(t);return!!i&&i.match(n,r)}}class lb{constructor(e){this.selectors=e,this.alreadyMatched=!1}}class hb{constructor(e,t,n){this.selector=e,this.cbContext=t,this.listContext=n,this.notSelectors=e.notSelectors}finalize(e,t){let n=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){n=!cb.createNotMatcher(this.notSelectors).match(e,null)}return!n||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n}}const pb=Bb("Inject",e=>({token:e})),db=Bb("InjectionToken",e=>({_desc:e,ngInjectableDef:void 0})),fb=Bb("Attribute",e=>({attributeName:e})),mb=Bb("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)),gb=Bb("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)),vb=Bb("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)),yb=Bb("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)),wb=Bb("Directive",(e={})=>e);var bb,_b;!function(e){e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(bb||(bb={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(_b||(_b={}));const Eb=Bb("Component",(e={})=>Object.assign({changeDetection:_b.Default},e)),Sb=Bb("Pipe",e=>Object.assign({pure:!0},e)),Cb=Bb("Input",e=>({bindingPropertyName:e})),Tb=Bb("Output",e=>({bindingPropertyName:e})),xb=Bb("HostBinding",e=>({hostPropertyName:e})),Ib=Bb("HostListener",(e,t)=>({eventName:e,args:t})),Ab=Bb("NgModule",e=>e),Db=Bb("Injectable",(e={})=>e),Nb={name:"custom-elements"},kb={name:"no-errors-schema"},Pb=Bb("Optional"),Mb=Bb("Self"),Ob=Bb("SkipSelf"),Rb=Bb("Host"),Lb=Function;var Fb,Vb;function Bb(e,t){function n(...n){const r=t?t(...n):{};return Object.assign({ngMetadataName:e},r)}return n.isTypeOf=t=>t&&t.ngMetadataName===e,n.ngMetadataName=e,n}function Ub(e){const t=function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return[e.element&&"*"!==e.element?e.element:"",...e.attrs,...t]}(e),n=e.notSelectors&&e.notSelectors.length?e.notSelectors.map(e=>(function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return e.element?[5,e.element,...e.attrs,...t]:e.attrs.length?[3,...e.attrs,...t]:e.classNames&&e.classNames.length?[9,...e.classNames]:[]})(e)):[];return t.concat(...n)}function jb(e){return e?ub.parse(e).map(Ub):[]}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(Fb||(Fb={})),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(Vb||(Vb={}));var qb,$b;!function(e){e[e.Const=0]="Const"}(qb||(qb={}));class Hb{constructor(e=null){this.modifiers=e,e||(this.modifiers=[])}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function",e[e.Inferred=6]="Inferred",e[e.None=7]="None"}($b||($b={}));class zb extends Hb{constructor(e,t=null){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}}class Wb extends Hb{constructor(e,t=null,n=null){super(t),this.value=e,this.typeParams=n}visitType(e,t){return e.visitExpressionType(this,t)}}class Kb extends Hb{constructor(e,t=null){super(t),this.of=e}visitType(e,t){return e.visitArrayType(this,t)}}class Gb extends Hb{constructor(e,t=null){super(t),this.valueType=e||null}visitType(e,t){return e.visitMapType(this,t)}}const Qb=new zb($b.Dynamic),Yb=new zb($b.Inferred),Xb=new zb($b.Bool),Jb=(new zb($b.Int),new zb($b.Number)),Zb=(new zb($b.String),new zb($b.Function),new zb($b.None));var e_,t_,n_;function r_(e,t){return null==e||null==t?e==t:e.isEquivalent(t)}function i_(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(!e[r].isEquivalent(t[r]))return!1;return!0}!function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.BitwiseAnd=11]="BitwiseAnd",e[e.Lower=12]="Lower",e[e.LowerEquals=13]="LowerEquals",e[e.Bigger=14]="Bigger",e[e.BiggerEquals=15]="BiggerEquals"}(e_||(e_={}));class s_{constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new C_(this,e,null,t)}key(e,t,n){return new T_(this,e,t,n)}callMethod(e,t,n){return new p_(this,e,t,null,n)}callFn(e,t){return new d_(this,e,null,t)}instantiate(e,t,n){return new f_(this,e,t,n)}conditional(e,t=null,n){return new v_(this,e,t,null,n)}equals(e,t){return new S_(e_.Equals,this,e,null,t)}notEquals(e,t){return new S_(e_.NotEquals,this,e,null,t)}identical(e,t){return new S_(e_.Identical,this,e,null,t)}notIdentical(e,t){return new S_(e_.NotIdentical,this,e,null,t)}minus(e,t){return new S_(e_.Minus,this,e,null,t)}plus(e,t){return new S_(e_.Plus,this,e,null,t)}divide(e,t){return new S_(e_.Divide,this,e,null,t)}multiply(e,t){return new S_(e_.Multiply,this,e,null,t)}modulo(e,t){return new S_(e_.Modulo,this,e,null,t)}and(e,t){return new S_(e_.And,this,e,null,t)}bitwiseAnd(e,t,n=!0){return new S_(e_.BitwiseAnd,this,e,null,t,n)}or(e,t){return new S_(e_.Or,this,e,null,t)}lower(e,t){return new S_(e_.Lower,this,e,null,t)}lowerEquals(e,t){return new S_(e_.LowerEquals,this,e,null,t)}bigger(e,t){return new S_(e_.Bigger,this,e,null,t)}biggerEquals(e,t){return new S_(e_.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(k_,e)}cast(e,t){return new b_(this,e,t)}toStmt(){return new L_(this,null)}}!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(t_||(t_={}));class o_ extends s_{constructor(e,t,n){super(t,n),"string"==typeof e?(this.name=e,this.builtin=null):(this.name=null,this.builtin=e)}isEquivalent(e){return e instanceof o_&&this.name===e.name&&this.builtin===e.builtin}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}set(e){if(!this.name)throw new Error(`Built in variable ${this.builtin} can not be assigned to.`);return new c_(this.name,e,null,this.sourceSpan)}}class a_ extends s_{constructor(e,t,n){super(t,n),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof a_&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}}class u_ extends s_{constructor(e,t,n){super(t,n),this.node=e}isEquivalent(e){return e instanceof u_&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}}class c_ extends s_{constructor(e,t,n,r){super(n||t.type,r),this.name=e,this.value=t}isEquivalent(e){return e instanceof c_&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteVarExpr(this,t)}toDeclStmt(e,t){return new O_(this.name,this.value,e,t,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(Yb,[P_.Final])}}class l_ extends s_{constructor(e,t,n,r,i){super(r||n.type,i),this.receiver=e,this.index=t,this.value=n}isEquivalent(e){return e instanceof l_&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteKeyExpr(this,t)}}class h_ extends s_{constructor(e,t,n,r,i){super(r||n.type,i),this.receiver=e,this.name=t,this.value=n}isEquivalent(e){return e instanceof h_&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWritePropExpr(this,t)}}!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind"}(n_||(n_={}));class p_ extends s_{constructor(e,t,n,r,i){super(r,i),this.receiver=e,this.args=n,"string"==typeof t?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}isEquivalent(e){return e instanceof p_&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&i_(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeMethodExpr(this,t)}}class d_ extends s_{constructor(e,t,n,r,i=!1){super(n,r),this.fn=e,this.args=t,this.pure=i}isEquivalent(e){return e instanceof d_&&this.fn.isEquivalent(e.fn)&&i_(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}}class f_ extends s_{constructor(e,t,n,r){super(n,r),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof f_&&this.classExpr.isEquivalent(e.classExpr)&&i_(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}}class m_ extends s_{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof m_&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}}class g_ extends s_{constructor(e,t,n=null,r){super(t,r),this.value=e,this.typeParams=n}isEquivalent(e){return e instanceof g_&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}}class v_ extends s_{constructor(e,t,n=null,r,i){super(r||t.type,i),this.condition=e,this.falseCase=n,this.trueCase=t}isEquivalent(e){return e instanceof v_&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&r_(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}}class y_ extends s_{constructor(e,t){super(Xb,t),this.condition=e}isEquivalent(e){return e instanceof y_&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}}class w_ extends s_{constructor(e,t){super(e.type,t),this.condition=e}isEquivalent(e){return e instanceof w_&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitAssertNotNullExpr(this,t)}}class b_ extends s_{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof b_&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitCastExpr(this,t)}}class __{constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}}class E_ extends s_{constructor(e,t,n,r,i){super(n,r),this.params=e,this.statements=t,this.name=i}isEquivalent(e){return e instanceof E_&&i_(this.params,e.params)&&i_(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t=null){return new R_(e,this.params,this.statements,this.type,t,this.sourceSpan)}}class S_ extends s_{constructor(e,t,n,r,i,s=!0){super(r||t.type,i),this.operator=e,this.rhs=n,this.parens=s,this.lhs=t}isEquivalent(e){return e instanceof S_&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}}class C_ extends s_{constructor(e,t,n,r){super(n,r),this.receiver=e,this.name=t}isEquivalent(e){return e instanceof C_&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new h_(this.receiver,this.name,e,null,this.sourceSpan)}}class T_ extends s_{constructor(e,t,n,r){super(n,r),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof T_&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new l_(this.receiver,this.index,e,null,this.sourceSpan)}}class x_ extends s_{constructor(e,t,n){super(t,n),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof x_&&i_(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}}class I_{constructor(e,t,n){this.key=e,this.value=t,this.quoted=n}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}class A_ extends s_{constructor(e,t,n){super(t,n),this.entries=e,this.valueType=null,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof A_&&i_(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}}class D_ extends s_{constructor(e,t){super(e[e.length-1].type,t),this.parts=e}isEquivalent(e){return e instanceof D_&&i_(this.parts,e.parts)}isConstant(){return!1}visitExpression(e,t){return e.visitCommaExpr(this,t)}}new o_(t_.This,null,null),new o_(t_.Super,null,null),new o_(t_.CatchError,null,null),new o_(t_.CatchStack,null,null);const N_=new m_(null,null,null),k_=new m_(null,Yb,null);var P_;!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private",e[e.Exported=2]="Exported",e[e.Static=3]="Static"}(P_||(P_={}));class M_{constructor(e,t){this.modifiers=e||[],this.sourceSpan=t||null}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}class O_ extends M_{constructor(e,t,n,r=null,i){super(r,i),this.name=e,this.value=t,this.type=n||t&&t.type||null}isEquivalent(e){return e instanceof O_&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}}class R_ extends M_{constructor(e,t,n,r,i=null,s){super(i,s),this.name=e,this.params=t,this.statements=n,this.type=r||null}isEquivalent(e){return e instanceof R_&&i_(this.params,e.params)&&i_(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}}class L_ extends M_{constructor(e,t){super(null,t),this.expr=e}isEquivalent(e){return e instanceof L_&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}}class F_ extends M_{constructor(e,t){super(null,t),this.value=e}isEquivalent(e){return e instanceof F_&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}}class V_{constructor(e,t){this.modifiers=t,t||(this.modifiers=[]),this.type=e||null}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}class B_ extends V_{constructor(e,t,n,r,i=null){super(r,i),this.name=e,this.params=t,this.body=n}isEquivalent(e){return this.name===e.name&&i_(this.body,e.body)}}class U_ extends V_{constructor(e,t,n,r=null){super(n,r),this.name=e,this.body=t}isEquivalent(e){return this.name===e.name&&i_(this.body,e.body)}}class j_ extends M_{constructor(e,t,n,r,i,s,o=null,a){super(o,a),this.name=e,this.parent=t,this.fields=n,this.getters=r,this.constructorMethod=i,this.methods=s}isEquivalent(e){return e instanceof j_&&this.name===e.name&&r_(this.parent,e.parent)&&i_(this.fields,e.fields)&&i_(this.getters,e.getters)&&this.constructorMethod.isEquivalent(e.constructorMethod)&&i_(this.methods,e.methods)}visitStatement(e,t){return e.visitDeclareClassStmt(this,t)}}class q_ extends M_{constructor(e,t,n=[],r){super(null,r),this.condition=e,this.trueCase=t,this.falseCase=n}isEquivalent(e){return e instanceof q_&&this.condition.isEquivalent(e.condition)&&i_(this.trueCase,e.trueCase)&&i_(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}}class $_ extends M_{constructor(e=[],t){super(null,t),this.tags=e}isEquivalent(e){return e instanceof $_&&this.toString()===e.toString()}visitStatement(e,t){return e.visitJSDocCommentStmt(this,t)}toString(){return function(e){if(0===e.length)return"";let t="*\n";for(const n of e)t+=" *",t+=uE(n).replace(/\n/g,"\n * "),t+="\n";return t+=" "}(this.tags)}}class H_ extends M_{constructor(e,t,n){super(null,n),this.bodyStmts=e,this.catchStmts=t}isEquivalent(e){return e instanceof H_&&i_(this.bodyStmts,e.bodyStmts)&&i_(this.catchStmts,e.catchStmts)}visitStatement(e,t){return e.visitTryCatchStmt(this,t)}}class z_ extends M_{constructor(e,t){super(null,t),this.error=e}isEquivalent(e){return e instanceof H_&&this.error.isEquivalent(e.error)}visitStatement(e,t){return e.visitThrowStmt(this,t)}}class W_{transformExpr(e,t){return e}transformStmt(e,t){return e}visitReadVarExpr(e,t){return this.transformExpr(e,t)}visitWrappedNodeExpr(e,t){return this.transformExpr(e,t)}visitTypeofExpr(e,t){return this.transformExpr(new a_(e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWriteVarExpr(e,t){return this.transformExpr(new c_(e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWriteKeyExpr(e,t){return this.transformExpr(new l_(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWritePropExpr(e,t){return this.transformExpr(new h_(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitInvokeMethodExpr(e,t){const n=e.builtin||e.name;return this.transformExpr(new p_(e.receiver.visitExpression(this,t),n,this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitInvokeFunctionExpr(e,t){return this.transformExpr(new d_(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitInstantiateExpr(e,t){return this.transformExpr(new f_(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitLiteralExpr(e,t){return this.transformExpr(e,t)}visitExternalExpr(e,t){return this.transformExpr(e,t)}visitConditionalExpr(e,t){return this.transformExpr(new v_(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e.type,e.sourceSpan),t)}visitNotExpr(e,t){return this.transformExpr(new y_(e.condition.visitExpression(this,t),e.sourceSpan),t)}visitAssertNotNullExpr(e,t){return this.transformExpr(new w_(e.condition.visitExpression(this,t),e.sourceSpan),t)}visitCastExpr(e,t){return this.transformExpr(new b_(e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitFunctionExpr(e,t){return this.transformExpr(new E_(e.params,this.visitAllStatements(e.statements,t),e.type,e.sourceSpan),t)}visitBinaryOperatorExpr(e,t){return this.transformExpr(new S_(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type,e.sourceSpan),t)}visitReadPropExpr(e,t){return this.transformExpr(new C_(e.receiver.visitExpression(this,t),e.name,e.type,e.sourceSpan),t)}visitReadKeyExpr(e,t){return this.transformExpr(new T_(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type,e.sourceSpan),t)}visitLiteralArrayExpr(e,t){return this.transformExpr(new x_(this.visitAllExpressions(e.entries,t),e.type,e.sourceSpan),t)}visitLiteralMapExpr(e,t){const n=e.entries.map(e=>new I_(e.key,e.value.visitExpression(this,t),e.quoted)),r=new Gb(e.valueType,null);return this.transformExpr(new A_(n,r,e.sourceSpan),t)}visitCommaExpr(e,t){return this.transformExpr(new D_(this.visitAllExpressions(e.parts,t),e.sourceSpan),t)}visitAllExpressions(e,t){return e.map(e=>e.visitExpression(this,t))}visitDeclareVarStmt(e,t){const n=e.value&&e.value.visitExpression(this,t);return this.transformStmt(new O_(e.name,n,e.type,e.modifiers,e.sourceSpan),t)}visitDeclareFunctionStmt(e,t){return this.transformStmt(new R_(e.name,e.params,this.visitAllStatements(e.statements,t),e.type,e.modifiers,e.sourceSpan),t)}visitExpressionStmt(e,t){return this.transformStmt(new L_(e.expr.visitExpression(this,t),e.sourceSpan),t)}visitReturnStmt(e,t){return this.transformStmt(new F_(e.value.visitExpression(this,t),e.sourceSpan),t)}visitDeclareClassStmt(e,t){const n=e.parent.visitExpression(this,t),r=e.getters.map(e=>new U_(e.name,this.visitAllStatements(e.body,t),e.type,e.modifiers)),i=e.constructorMethod&&new B_(e.constructorMethod.name,e.constructorMethod.params,this.visitAllStatements(e.constructorMethod.body,t),e.constructorMethod.type,e.constructorMethod.modifiers),s=e.methods.map(e=>new B_(e.name,e.params,this.visitAllStatements(e.body,t),e.type,e.modifiers));return this.transformStmt(new j_(e.name,n,e.fields,r,i,s,e.modifiers,e.sourceSpan),t)}visitIfStmt(e,t){return this.transformStmt(new q_(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e.sourceSpan),t)}visitTryCatchStmt(e,t){return this.transformStmt(new H_(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e.sourceSpan),t)}visitThrowStmt(e,t){return this.transformStmt(new z_(e.error.visitExpression(this,t),e.sourceSpan),t)}visitCommentStmt(e,t){return this.transformStmt(e,t)}visitJSDocCommentStmt(e,t){return this.transformStmt(e,t)}visitAllStatements(e,t){return e.map(e=>e.visitStatement(this,t))}}class K_{visitType(e,t){return e}visitExpression(e,t){return e.type&&e.type.visitType(this,t),e}visitBuiltinType(e,t){return this.visitType(e,t)}visitExpressionType(e,t){return e.value.visitExpression(this,t),null!==e.typeParams&&e.typeParams.forEach(e=>this.visitType(e,t)),this.visitType(e,t)}visitArrayType(e,t){return this.visitType(e,t)}visitMapType(e,t){return this.visitType(e,t)}visitWrappedNodeExpr(e,t){return e}visitTypeofExpr(e,t){return this.visitExpression(e,t)}visitReadVarExpr(e,t){return this.visitExpression(e,t)}visitWriteVarExpr(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}visitWriteKeyExpr(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}visitWritePropExpr(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}visitInvokeMethodExpr(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitInvokeFunctionExpr(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitInstantiateExpr(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitLiteralExpr(e,t){return this.visitExpression(e,t)}visitExternalExpr(e,t){return e.typeParams&&e.typeParams.forEach(e=>e.visitType(this,t)),this.visitExpression(e,t)}visitConditionalExpr(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),this.visitExpression(e,t)}visitNotExpr(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}visitCastExpr(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}visitFunctionExpr(e,t){return this.visitAllStatements(e.statements,t),this.visitExpression(e,t)}visitBinaryOperatorExpr(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),this.visitExpression(e,t)}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),this.visitExpression(e,t)}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),this.visitExpression(e,t)}visitLiteralArrayExpr(e,t){return this.visitAllExpressions(e.entries,t),this.visitExpression(e,t)}visitLiteralMapExpr(e,t){return e.entries.forEach(e=>e.value.visitExpression(this,t)),this.visitExpression(e,t)}visitCommaExpr(e,t){return this.visitAllExpressions(e.parts,t),this.visitExpression(e,t)}visitAllExpressions(e,t){e.forEach(e=>e.visitExpression(this,t))}visitDeclareVarStmt(e,t){return e.value&&e.value.visitExpression(this,t),e.type&&e.type.visitType(this,t),e}visitDeclareFunctionStmt(e,t){return this.visitAllStatements(e.statements,t),e.type&&e.type.visitType(this,t),e}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t),e}visitReturnStmt(e,t){return e.value.visitExpression(this,t),e}visitDeclareClassStmt(e,t){return e.parent.visitExpression(this,t),e.getters.forEach(e=>this.visitAllStatements(e.body,t)),e.constructorMethod&&this.visitAllStatements(e.constructorMethod.body,t),e.methods.forEach(e=>this.visitAllStatements(e.body,t)),e}visitIfStmt(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e}visitTryCatchStmt(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e}visitThrowStmt(e,t){return e.error.visitExpression(this,t),e}visitCommentStmt(e,t){return e}visitJSDocCommentStmt(e,t){return e}visitAllStatements(e,t){e.forEach(e=>e.visitStatement(this,t))}}function G_(e){const t=new Q_;return t.visitAllStatements(e,null),t.varNames}class Q_ extends K_{constructor(){super(...arguments),this.varNames=new Set}visitDeclareFunctionStmt(e,t){return e}visitDeclareClassStmt(e,t){return e}visitReadVarExpr(e,t){return e.name&&this.varNames.add(e.name),null}}function Y_(e,t){if(!t)return e;const n=new J_(t);return e.visitStatement(n,null)}function X_(e,t){if(!t)return e;const n=new J_(t);return e.visitExpression(n,null)}class J_ extends W_{constructor(e){super(),this.sourceSpan=e}_clone(e){const t=Object.create(e.constructor.prototype);for(let n of Object.keys(e))t[n]=e[n];return t}transformExpr(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}transformStmt(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}}function Z_(e,t,n){return new o_(e,t,n)}function eE(e,t=null,n){return new g_(e,null,t,n)}function tE(e,t=null,n=null){return null!=e?nE(eE(e,t,null),n):null}function nE(e,t=null,n=null){return new Wb(e,t,n)}function rE(e,t,n){return new x_(e,t,n)}function iE(e,t=null){return new A_(e.map(e=>new I_(e.key,e.value,e.quoted)),t,null)}function sE(e,t,n,r,i){return new E_(e,t,n,r,i)}function oE(e,t,n){return new q_(e,t,n)}function aE(e,t,n){return new m_(e,t,n)}function uE(e){let t="";if(e.tagName&&(t+=` @${e.tagName}`),e.text){if(e.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');t+=" "+e.text.replace(/@/g,"\\@")}return t}const cE=/-+([a-z0-9])/g;function lE(e,t){return hE(e,":",t)}function hE(e,t,n){const r=e.indexOf(t);return-1==r?n:[e.slice(0,r).trim(),e.slice(r+1).trim()]}function pE(e,t,n){return Array.isArray(e)?t.visitArray(e,n):"object"==typeof(r=e)&&null!==r&&Object.getPrototypeOf(r)===EE?t.visitStringMap(e,n):null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e?t.visitPrimitive(e,n):t.visitOther(e,n);var r}function dE(e){return null!=e}function fE(e){return void 0===e?null:e}class mE{visitArray(e,t){return e.map(e=>pE(e,this,t))}visitStringMap(e,t){const n={};return Object.keys(e).forEach(r=>{n[r]=pE(e[r],this,t)}),n}visitPrimitive(e,t){return e}visitOther(e,t){return e}}const gE={assertSync:e=>{if(xE(e))throw new Error("Illegal state: value cannot be a promise");return e},then:(e,t)=>xE(e)?e.then(t):t(e),all:e=>e.some(xE)?Promise.all(e):e};function vE(e){throw new Error(`Internal Error: ${e}`)}function yE(e,t){const n=Error(e);return n[wE]=!0,t&&(n[bE]=t),n}const wE="ngSyntaxError",bE="ngParseErrors";function _E(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}const EE=Object.getPrototypeOf({});function SE(e){let t="";for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r>=55296&&r<=56319&&e.length>n+1){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(n++,r=(r-55296<<10)+t-56320+65536)}r<=127?t+=String.fromCharCode(r):r<=2047?t+=String.fromCharCode(r>>6&31|192,63&r|128):r<=65535?t+=String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&(t+=String.fromCharCode(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128))}return t}function CE(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(CE).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;if(!e.toString)return"object";const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function TE(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")?e():e}function xE(e){return!!e&&"function"==typeof e.then}const IE="undefined"!=typeof window&&window,AE="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,DE="undefined"!=typeof global&&global||IE||AE,NE="_c",kE={};class PE extends s_{constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===kE?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof PE&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}fixup(e){this.resolved=e,this.shared=!0}}class ME{constructor(){this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}getConstLiteral(e,t){if(e instanceof m_||e instanceof PE)return e;const n=this.keyOf(e);let r=this.literals.get(n),i=!1;if(r||(r=new PE(e),this.literals.set(n,r),i=!0),!i&&!r.shared||i&&t){const t=this.freshName();this.statements.push(Z_(t).set(e).toDeclStmt(Yb,[P_.Final])),r.fixup(Z_(t))}return r}getDefinition(e,t,n,r=!1){const i=this.definitionsOf(t);let s=i.get(e),o=!1;if(!s){const r=this.propertyNameOf(t);s=new PE(n.importExpr(e).prop(r)),i.set(e,s),o=!0}if(!o&&!s.shared||o&&r){const e=this.freshName();this.statements.push(Z_(e).set(s.resolved).toDeclStmt(Yb,[P_.Final])),s.fixup(Z_(e))}return s}getLiteralFactory(e){if(e instanceof x_){const t=e.entries.map(e=>e.isConstant()?e:aE(null)),n=this.keyOf(rE(t));return this._getLiteralFactory(n,e.entries,e=>rE(e))}{const t=iE(e.entries.map(e=>({key:e.key,value:e.value.isConstant()?e.value:aE(null),quoted:e.quoted}))),n=this.keyOf(t);return this._getLiteralFactory(n,e.entries.map(e=>e.value),t=>iE(t.map((t,n)=>({key:e.entries[n].key,value:t,quoted:e.entries[n].quoted}))))}}_getLiteralFactory(e,t,n){let r=this.literalFactories.get(e);const i=t.filter(e=>!e.isConstant());if(!r){const i=t.map((e,t)=>e.isConstant()?this.getConstLiteral(e,!0):Z_(`a${t}`)),s=sE(i.filter(LE).map(e=>new __(e.name,Qb)),[new F_(n(i))],Yb),o=this.freshName();this.statements.push(Z_(o).set(s).toDeclStmt(Yb,[P_.Final])),r=Z_(o),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:i}}uniqueName(e){return`${e}${this.nextNameIndex++}`}definitionsOf(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return vE(`Unknown definition kind ${e}`),this.componentDefinitions}propertyNameOf(e){switch(e){case 2:return"ngComponentDef";case 1:return"ngDirectiveDef";case 0:return"ngInjectorDef";case 3:return"ngPipeDef"}return vE(`Unknown definition kind ${e}`),"<unknown>"}freshName(){return this.uniqueName(NE)}keyOf(e){return e.visitExpression(new OE,kE)}}class OE{constructor(){this.visitWrappedNodeExpr=RE,this.visitWriteVarExpr=RE,this.visitWriteKeyExpr=RE,this.visitWritePropExpr=RE,this.visitInvokeMethodExpr=RE,this.visitInvokeFunctionExpr=RE,this.visitInstantiateExpr=RE,this.visitConditionalExpr=RE,this.visitNotExpr=RE,this.visitAssertNotNullExpr=RE,this.visitCastExpr=RE,this.visitFunctionExpr=RE,this.visitBinaryOperatorExpr=RE,this.visitReadPropExpr=RE,this.visitReadKeyExpr=RE,this.visitCommaExpr=RE}visitLiteralExpr(e){return`${"string"==typeof e.value?'"'+e.value+'"':e.value}`}visitLiteralArrayExpr(e,t){return`[${e.entries.map(e=>e.visitExpression(this,t)).join(",")}]`}visitLiteralMapExpr(e,t){return`{${e.entries.map(e=>`${(e=>{const t=e.quoted?'"':"";return`${t}${e.key}${t}`})(e)}:${e.value.visitExpression(this,t)}`).join(",")}`}visitExternalExpr(e){return e.value.moduleName?`EX:${e.value.moduleName}:${e.value.name}`:`EX:${e.value.runtime.name}`}visitReadVarExpr(e){return`VAR:${e.name}`}visitTypeofExpr(e,t){return`TYPEOF:${e.expr.visitExpression(this,t)}`}}function RE(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function LE(e){return e instanceof o_}const FE="@angular/core";class VE{}function BE(e){return{identifier:{reference:e}}}function UE(e,t){return BE(e.resolveExternalReference(t))}VE.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:FE},VE.ElementRef={name:"ElementRef",moduleName:FE},VE.NgModuleRef={name:"NgModuleRef",moduleName:FE},VE.ViewContainerRef={name:"ViewContainerRef",moduleName:FE},VE.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:FE},VE.QueryList={name:"QueryList",moduleName:FE},VE.TemplateRef={name:"TemplateRef",moduleName:FE},VE.Renderer2={name:"Renderer2",moduleName:FE},VE.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:FE},VE.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:FE},VE.ComponentFactory={name:"ComponentFactory",moduleName:FE},VE.ComponentRef={name:"ComponentRef",moduleName:FE},VE.NgModuleFactory={name:"NgModuleFactory",moduleName:FE},VE.createModuleFactory={name:"\u0275cmf",moduleName:FE},VE.moduleDef={name:"\u0275mod",moduleName:FE},VE.moduleProviderDef={name:"\u0275mpd",moduleName:FE},VE.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:FE},VE.inject={name:"\u0275\u0275inject",moduleName:FE},VE.INJECTOR={name:"INJECTOR",moduleName:FE},VE.Injector={name:"Injector",moduleName:FE},VE.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:FE},VE.InjectableDef={name:"\u0275\u0275InjectableDef",moduleName:FE},VE.ViewEncapsulation={name:"ViewEncapsulation",moduleName:FE},VE.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:FE},VE.SecurityContext={name:"SecurityContext",moduleName:FE},VE.LOCALE_ID={name:"LOCALE_ID",moduleName:FE},VE.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:FE},VE.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:FE},VE.interpolate={name:"\u0275interpolate",moduleName:FE},VE.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:FE},VE.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:FE},VE.Renderer={name:"Renderer",moduleName:FE},VE.viewDef={name:"\u0275vid",moduleName:FE},VE.elementDef={name:"\u0275eld",moduleName:FE},VE.anchorDef={name:"\u0275and",moduleName:FE},VE.textDef={name:"\u0275ted",moduleName:FE},VE.directiveDef={name:"\u0275did",moduleName:FE},VE.providerDef={name:"\u0275prd",moduleName:FE},VE.queryDef={name:"\u0275qud",moduleName:FE},VE.pureArrayDef={name:"\u0275pad",moduleName:FE},VE.pureObjectDef={name:"\u0275pod",moduleName:FE},VE.purePipeDef={name:"\u0275ppd",moduleName:FE},VE.pipeDef={name:"\u0275pid",moduleName:FE},VE.nodeValue={name:"\u0275nov",moduleName:FE},VE.ngContentDef={name:"\u0275ncd",moduleName:FE},VE.unwrapValue={name:"\u0275unv",moduleName:FE},VE.createRendererType2={name:"\u0275crt",moduleName:FE},VE.RendererType2={name:"RendererType2",moduleName:FE},VE.ViewDefinition={name:"\u0275ViewDefinition",moduleName:FE},VE.createComponentFactory={name:"\u0275ccf",moduleName:FE},VE.setClassMetadata={name:"\u0275setClassMetadata",moduleName:FE};class jE{constructor(e,t,n){this.filePath=e,this.name=t,this.members=n}assertNoMembers(){if(this.members.length)throw new Error(`Illegal state: symbol without members expected, but got ${JSON.stringify(this)}.`)}}class qE{constructor(){this.cache=new Map}get(e,t,n){const r=`"${e}".${t}${(n=n||[]).length?`.${n.join(".")}`:""}`;let i=this.cache.get(r);return i||(i=new jE(e,t,n),this.cache.set(r,i)),i}}const $E=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function HE(e){return e.replace(/\W/g,"_")}let zE=0;function WE(e){if(!e||!e.reference)return null;const t=e.reference;if(t instanceof jE)return t.name;if(t.__anonymousType)return t.__anonymousType;let n=CE(t);return n.indexOf("(")>=0?(n=`anonymous_${zE++}`,t.__anonymousType=n):n=HE(n),n}function KE(e){const t=e.reference;return t instanceof jE?t.filePath:`./${CE(t)}`}function GE(e,t){return`View_${WE({reference:e})}_${t}`}function QE(e){return`RenderType_${WE({reference:e})}`}function YE(e){return`${WE({reference:e})}NgFactory`}var XE;function JE(e){return null!=e.value?HE(e.value):WE(e.identifier)}function ZE(e){return null!=e.identifier?e.identifier.reference:e.value}!function(e){e[e.Pipe=0]="Pipe",e[e.Directive=1]="Directive",e[e.NgModule=2]="NgModule",e[e.Injectable=3]="Injectable"}(XE||(XE={}));class eS{constructor({moduleUrl:e,styles:t,styleUrls:n}={}){this.moduleUrl=e||null,this.styles=oS(t),this.styleUrls=oS(n)}}class tS{constructor({encapsulation:e,template:t,templateUrl:n,htmlAst:r,styles:i,styleUrls:s,externalStylesheets:o,animations:a,ngContentSelectors:u,interpolation:c,isInline:l,preserveWhitespaces:h}){if(this.encapsulation=e,this.template=t,this.templateUrl=n,this.htmlAst=r,this.styles=oS(i),this.styleUrls=oS(s),this.externalStylesheets=oS(o),this.animations=a?uS(a):[],this.ngContentSelectors=u||[],c&&2!=c.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=c,this.isInline=l,this.preserveWhitespaces=h}toSummary(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}}}class nS{static create({isHost:e,type:t,isComponent:n,selector:r,exportAs:i,changeDetection:s,inputs:o,outputs:a,host:u,providers:c,viewProviders:l,queries:h,guards:p,viewQueries:d,entryComponents:f,template:m,componentViewType:g,rendererType:v,componentFactory:y}){const w={},b={},_={};null!=u&&Object.keys(u).forEach(e=>{const t=u[e],n=e.match($E);null===n?_[e]=t:null!=n[1]?b[n[1]]=t:null!=n[2]&&(w[n[2]]=t)});const E={};null!=o&&o.forEach(e=>{const t=lE(e,[e,e]);E[t[0]]=t[1]});const S={};return null!=a&&a.forEach(e=>{const t=lE(e,[e,e]);S[t[0]]=t[1]}),new nS({isHost:e,type:t,isComponent:!!n,selector:r,exportAs:i,changeDetection:s,inputs:E,outputs:S,hostListeners:w,hostProperties:b,hostAttributes:_,providers:c,viewProviders:l,queries:h,guards:p,viewQueries:d,entryComponents:f,template:m,componentViewType:g,rendererType:v,componentFactory:y})}constructor({isHost:e,type:t,isComponent:n,selector:r,exportAs:i,changeDetection:s,inputs:o,outputs:a,hostListeners:u,hostProperties:c,hostAttributes:l,providers:h,viewProviders:p,queries:d,guards:f,viewQueries:m,entryComponents:g,template:v,componentViewType:y,rendererType:w,componentFactory:b}){this.isHost=!!e,this.type=t,this.isComponent=n,this.selector=r,this.exportAs=i,this.changeDetection=s,this.inputs=o,this.outputs=a,this.hostListeners=u,this.hostProperties=c,this.hostAttributes=l,this.providers=oS(h),this.viewProviders=oS(p),this.queries=oS(d),this.guards=f,this.viewQueries=oS(m),this.entryComponents=oS(g),this.template=v,this.componentViewType=y,this.rendererType=w,this.componentFactory=b}toSummary(){return{summaryKind:XE.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}}}class rS{constructor({type:e,name:t,pure:n}){this.type=e,this.name=t,this.pure=!!n}toSummary(){return{summaryKind:XE.Pipe,type:this.type,name:this.name,pure:this.pure}}}class iS{constructor({type:e,providers:t,declaredDirectives:n,exportedDirectives:r,declaredPipes:i,exportedPipes:s,entryComponents:o,bootstrapComponents:a,importedModules:u,exportedModules:c,schemas:l,transitiveModule:h,id:p}){this.type=e||null,this.declaredDirectives=oS(n),this.exportedDirectives=oS(r),this.declaredPipes=oS(i),this.exportedPipes=oS(s),this.providers=oS(t),this.entryComponents=oS(o),this.bootstrapComponents=oS(a),this.importedModules=oS(u),this.exportedModules=oS(c),this.schemas=oS(l),this.id=p||null,this.transitiveModule=h||null}toSummary(){const e=this.transitiveModule;return{summaryKind:XE.NgModule,type:this.type,entryComponents:e.entryComponents,providers:e.providers,modules:e.modules,exportedDirectives:e.exportedDirectives,exportedPipes:e.exportedPipes}}}class sS{constructor(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}addProvider(e,t){this.providers.push({provider:e,module:t})}addDirective(e){this.directivesSet.has(e.reference)||(this.directivesSet.add(e.reference),this.directives.push(e))}addExportedDirective(e){this.exportedDirectivesSet.has(e.reference)||(this.exportedDirectivesSet.add(e.reference),this.exportedDirectives.push(e))}addPipe(e){this.pipesSet.has(e.reference)||(this.pipesSet.add(e.reference),this.pipes.push(e))}addExportedPipe(e){this.exportedPipesSet.has(e.reference)||(this.exportedPipesSet.add(e.reference),this.exportedPipes.push(e))}addModule(e){this.modulesSet.has(e.reference)||(this.modulesSet.add(e.reference),this.modules.push(e))}addEntryComponent(e){this.entryComponentsSet.has(e.componentType)||(this.entryComponentsSet.add(e.componentType),this.entryComponents.push(e))}}function oS(e){return e||[]}class aS{constructor(e,{useClass:t,useValue:n,useExisting:r,useFactory:i,deps:s,multi:o}){this.token=e,this.useClass=t||null,this.useValue=n,this.useExisting=r,this.useFactory=i||null,this.dependencies=s||null,this.multi=!!o}}function uS(e){return e.reduce((e,t)=>{const n=Array.isArray(t)?uS(t):t;return e.concat(n)},[])}function cS(e){return e.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function lS(e,t,n){let r;return r=n.isInline?t.type.reference instanceof jE?`${t.type.reference.filePath}.${t.type.reference.name}.html`:`${WE(e)}/${WE(t.type)}.html`:n.templateUrl,t.type.reference instanceof jE?r:cS(r)}const hS="@angular/core";class pS{}pS.NEW_METHOD="factory",pS.TRANSFORM_METHOD="transform",pS.PATCH_DEPS="patchedDeps",pS.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:hS},pS.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:hS},pS.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:hS},pS.element={name:"\u0275\u0275element",moduleName:hS},pS.elementStart={name:"\u0275\u0275elementStart",moduleName:hS},pS.elementEnd={name:"\u0275\u0275elementEnd",moduleName:hS},pS.select={name:"\u0275\u0275select",moduleName:hS},pS.updateSyntheticHostBinding={name:"\u0275\u0275updateSyntheticHostBinding",moduleName:hS},pS.componentHostSyntheticListener={name:"\u0275\u0275componentHostSyntheticListener",moduleName:hS},pS.attribute={name:"\u0275\u0275attribute",moduleName:hS},pS.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:hS},pS.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:hS},pS.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:hS},pS.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:hS},pS.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:hS},pS.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:hS},pS.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:hS},pS.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:hS},pS.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:hS},pS.classProp={name:"\u0275\u0275classProp",moduleName:hS},pS.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:hS},pS.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:hS},pS.elementContainer={name:"\u0275\u0275elementContainer",moduleName:hS},pS.styling={name:"\u0275\u0275styling",moduleName:hS},pS.styleMap={name:"\u0275\u0275styleMap",moduleName:hS},pS.classMap={name:"\u0275\u0275classMap",moduleName:hS},pS.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:hS},pS.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:hS},pS.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:hS},pS.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:hS},pS.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:hS},pS.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:hS},pS.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:hS},pS.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:hS},pS.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:hS},pS.styleProp={name:"\u0275\u0275styleProp",moduleName:hS},pS.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:hS},pS.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:hS},pS.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:hS},pS.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:hS},pS.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:hS},pS.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:hS},pS.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:hS},pS.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:hS},pS.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:hS},pS.stylingApply={name:"\u0275\u0275stylingApply",moduleName:hS},pS.styleSanitizer={name:"\u0275\u0275styleSanitizer",moduleName:hS},pS.elementHostAttrs={name:"\u0275\u0275elementHostAttrs",moduleName:hS},pS.containerCreate={name:"\u0275\u0275container",moduleName:hS},pS.nextContext={name:"\u0275\u0275nextContext",moduleName:hS},pS.templateCreate={name:"\u0275\u0275template",moduleName:hS},pS.text={name:"\u0275\u0275text",moduleName:hS},pS.textBinding={name:"\u0275\u0275textBinding",moduleName:hS},pS.enableBindings={name:"\u0275\u0275enableBindings",moduleName:hS},pS.disableBindings={name:"\u0275\u0275disableBindings",moduleName:hS},pS.allocHostVars={name:"\u0275\u0275allocHostVars",moduleName:hS},pS.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:hS},pS.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:hS},pS.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:hS},pS.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:hS},pS.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:hS},pS.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:hS},pS.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:hS},pS.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:hS},pS.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:hS},pS.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:hS},pS.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:hS},pS.restoreView={name:"\u0275\u0275restoreView",moduleName:hS},pS.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:hS},pS.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:hS},pS.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:hS},pS.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:hS},pS.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:hS},pS.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:hS},pS.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:hS},pS.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:hS},pS.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:hS},pS.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:hS},pS.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:hS},pS.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:hS},pS.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:hS},pS.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:hS},pS.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:hS},pS.hostProperty={name:"\u0275\u0275hostProperty",moduleName:hS},pS.property={name:"\u0275\u0275property",moduleName:hS},pS.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:hS},pS.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:hS},pS.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:hS},pS.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:hS},pS.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:hS},pS.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:hS},pS.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:hS},pS.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:hS},pS.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:hS},pS.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:hS},pS.i18n={name:"\u0275\u0275i18n",moduleName:hS},pS.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:hS},pS.i18nExp={name:"\u0275\u0275i18nExp",moduleName:hS},pS.i18nStart={name:"\u0275\u0275i18nStart",moduleName:hS},pS.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:hS},pS.i18nApply={name:"\u0275\u0275i18nApply",moduleName:hS},pS.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:hS},pS.i18nLocalize={name:"\u0275\u0275i18nLocalize",moduleName:hS},pS.load={name:"\u0275\u0275load",moduleName:hS},pS.pipe={name:"\u0275\u0275pipe",moduleName:hS},pS.projection={name:"\u0275\u0275projection",moduleName:hS},pS.projectionDef={name:"\u0275\u0275projectionDef",moduleName:hS},pS.reference={name:"\u0275\u0275reference",moduleName:hS},pS.inject={name:"\u0275\u0275inject",moduleName:hS},pS.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:hS},pS.injectPipeChangeDetectorRef={name:"\u0275\u0275injectPipeChangeDetectorRef",moduleName:hS},pS.directiveInject={name:"\u0275\u0275directiveInject",moduleName:hS},pS.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:hS},pS.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:hS},pS.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:hS},pS.resolveBody={name:"\u0275\u0275resolveBody",moduleName:hS},pS.defineBase={name:"\u0275\u0275defineBase",moduleName:hS},pS.BaseDef={name:"\u0275\u0275BaseDef",moduleName:hS},pS.defineComponent={name:"\u0275\u0275defineComponent",moduleName:hS},pS.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:hS},pS.ComponentDefWithMeta={name:"\u0275\u0275ComponentDefWithMeta",moduleName:hS},pS.defineDirective={name:"\u0275\u0275defineDirective",moduleName:hS},pS.DirectiveDefWithMeta={name:"\u0275\u0275DirectiveDefWithMeta",moduleName:hS},pS.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:hS},pS.defineInjector={name:"\u0275\u0275defineInjector",moduleName:hS},pS.NgModuleDefWithMeta={name:"\u0275\u0275NgModuleDefWithMeta",moduleName:hS},pS.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:hS},pS.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:hS},pS.PipeDefWithMeta={name:"\u0275\u0275PipeDefWithMeta",moduleName:hS},pS.definePipe={name:"\u0275\u0275definePipe",moduleName:hS},pS.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:hS},pS.viewQuery={name:"\u0275\u0275viewQuery",moduleName:hS},pS.staticViewQuery={name:"\u0275\u0275staticViewQuery",moduleName:hS},pS.staticContentQuery={name:"\u0275\u0275staticContentQuery",moduleName:hS},pS.loadViewQuery={name:"\u0275\u0275loadViewQuery",moduleName:hS},pS.contentQuery={name:"\u0275\u0275contentQuery",moduleName:hS},pS.loadContentQuery={name:"\u0275\u0275loadContentQuery",moduleName:hS},pS.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:hS},pS.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:hS},pS.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:hS},pS.listener={name:"\u0275\u0275listener",moduleName:hS},pS.getFactoryOf={name:"\u0275\u0275getFactoryOf",moduleName:hS},pS.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:hS},pS.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:hS},pS.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:hS},pS.defaultStyleSanitizer={name:"\u0275\u0275defaultStyleSanitizer",moduleName:hS},pS.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:hS},pS.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:hS},pS.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:hS},pS.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:hS};const dS=0,fS=8,mS=9,gS=10,vS=11,yS=12,wS=13,bS=32,_S=33,ES=34,SS=35,CS=36,TS=37,xS=38,IS=39,AS=40,DS=41,NS=42,kS=43,PS=44,MS=45,OS=46,RS=47,LS=58,FS=59,VS=60,BS=61,US=62,jS=63,qS=48,$S=55,HS=57,zS=65,WS=69,KS=70,GS=88,QS=90,YS=91,XS=92,JS=93,ZS=94,eC=95,tC=97,nC=98,rC=101,iC=102,sC=110,oC=114,aC=116,uC=117,cC=118,lC=120,hC=122,pC=123,dC=124,fC=125,mC=160,gC=96;function vC(e){return e>=mS&&e<=bS||e==mC}function yC(e){return qS<=e&&e<=HS}function wC(e){return e>=tC&&e<=hC||e>=zS&&e<=QS}function bC(e){return e===gS||e===wS}function _C(e){return qS<=e&&e<=$S}class EC{constructor(e,t,n,r){this.file=e,this.offset=t,this.line=n,this.col=r}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){const t=this.file.content,n=t.length;let r=this.offset,i=this.line,s=this.col;for(;r>0&&e<0;){if(r--,e++,t.charCodeAt(r)==gS){i--;const e=t.substr(0,r-1).lastIndexOf(String.fromCharCode(gS));s=e>0?r-e:r}else s--}for(;r<n&&e>0;){const n=t.charCodeAt(r);r++,e--,n==gS?(i++,s=0):s++}return new EC(this.file,r,i,s)}getContext(e,t){const n=this.file.content;let r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);let i=r,s=0,o=0;for(;s<e&&r>0&&(s++,"\n"!=n[--r]||++o!=t););for(s=0,o=0;s<e&&i<n.length-1&&(s++,"\n"!=n[++i]||++o!=t););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}}return null}}class SC{constructor(e,t){this.content=e,this.url=t}}class CC{constructor(e,t,n=null){this.start=e,this.end=t,this.details=n}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}const TC=new EC(new SC("",""),0,0,0);new CC(TC,TC);var xC;!function(e){e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR"}(xC||(xC={}));class IC{constructor(e,t,n=xC.ERROR){this.span=e,this.msg=t,this.level=n}contextualMessage(){const e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${xC[this.level]} ->]${e.after}")`:this.msg}toString(){const e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}}class AC{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}}class DC{constructor(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}visit(e){return e.visitBoundText(this)}}class NC{constructor(e,t,n,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r,this.i18n=i}visit(e){return e.visitTextAttribute(this)}}class kC{constructor(e,t,n,r,i,s,o,a){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.valueSpan=o,this.i18n=a}static fromBoundElementProperty(e,t){return new kC(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}}class PC{constructor(e,t,n,r,i,s,o){this.name=e,this.type=t,this.handler=n,this.target=r,this.phase=i,this.sourceSpan=s,this.handlerSpan=o}static fromParsedEvent(e){const t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;return new PC(e.name,e.type,e.handler,t,n,e.sourceSpan,e.handlerSpan)}visit(e){return e.visitBoundEvent(this)}}class MC{constructor(e,t,n,r,i,s,o,a,u,c){this.name=e,this.attributes=t,this.inputs=n,this.outputs=r,this.children=i,this.references=s,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=u,this.i18n=c,0===i.length&&a&&u&&(this.sourceSpan=new CC(o.start,u.end))}visit(e){return e.visitElement(this)}}class OC{constructor(e,t,n,r,i,s,o,a,u,c,l,h){this.tagName=e,this.attributes=t,this.inputs=n,this.outputs=r,this.templateAttrs=i,this.children=s,this.references=o,this.variables=a,this.sourceSpan=u,this.startSourceSpan=c,this.endSourceSpan=l,this.i18n=h}visit(e){return e.visitTemplate(this)}}class RC{constructor(e,t,n,r){this.selector=e,this.attributes=t,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitContent(this)}}class LC{constructor(e,t,n,r){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r}visit(e){return e.visitVariable(this)}}class FC{constructor(e,t,n,r){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r}visit(e){return e.visitReference(this)}}class VC{constructor(e,t,n,r){this.vars=e,this.placeholders=t,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitIcu(this)}}function BC(e,t){const n=[];if(e.visit)for(const r of t){e.visit(r)||r.visit(e)}else for(const r of t){const t=r.visit(e);t&&n.push(t)}return n}class UC{constructor(e,t,n,r,i,s){this.nodes=e,this.placeholders=t,this.placeholderToMessage=n,this.meaning=r,this.description=i,this.id=s,e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}}class jC{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}}class qC{constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}}class $C{constructor(e,t,n,r){this.expression=e,this.type=t,this.cases=n,this.sourceSpan=r}visit(e,t){return e.visitIcu(this,t)}}class HC{constructor(e,t,n,r,i,s,o){this.tag=e,this.attrs=t,this.startName=n,this.closeName=r,this.children=i,this.isVoid=s,this.sourceSpan=o}visit(e,t){return e.visitTagPlaceholder(this,t)}}class zC{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitPlaceholder(this,t)}}class WC{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitIcuPlaceholder(this,t)}}class KC{visitText(e,t){}visitContainer(e,t){e.children.forEach(e=>e.visit(this))}visitIcu(e,t){Object.keys(e.cases).forEach(t=>{e.cases[t].visit(this)})}visitTagPlaceholder(e,t){e.children.forEach(e=>e.visit(this))}visitPlaceholder(e,t){}visitIcuPlaceholder(e,t){}}function GC(e){return e.id||function(e){const t=SE(e),n=function(e,t){const n=Array(e.length+3>>>2);for(let r=0;r<n.length;r++)n[r]=cT(e,4*r,t);return n}(t,rT.Big),r=8*t.length,i=new Array(80);let[s,o,a,u,c]=[1732584193,4023233417,2562383102,271733878,3285377520];n[r>>5]|=128<<24-r%32,n[15+(r+64>>9<<4)]=r;for(let l=0;l<n.length;l+=16){const[e,t,r,h,p]=[s,o,a,u,c];for(let d=0;d<80;d++){i[d]=d<16?n[l+d]:aT(i[d-3]^i[d-8]^i[d-14]^i[d-16],1);const[e,t]=ZC(d,o,a,u),r=[aT(s,5),e,c,t,i[d]].reduce(iT);[c,u,a,o,s]=[u,a,aT(o,30),s,r]}[s,o,a,u,c]=[iT(s,e),iT(o,t),iT(a,r),iT(u,h),iT(c,p)]}return function(e){let t="";for(let n=0;n<e.length;n++){const r=uT(e,n);t+=(r>>>4).toString(16)+(15&r).toString(16)}return t.toLowerCase()}(lT([s,o,a,u,c]))}((t=e.nodes,t.map(e=>e.visit(XC,null))).join("")+`[${e.meaning}]`);var t}function QC(e){if(e.id)return e.id;const t=new JC;return function(e,t){let[n,r]=eT(e);if(t){const[e,i]=eT(t);[n,r]=function([e,t],[n,r]){const[i,s]=sT(t,r);return[iT(iT(e,n),i),s]}(function([e,t],n){return[e<<n|t>>>32-n,t<<n|e>>>32-n]}([n,r],1),[e,i])}return function(e){let t="",n="1";for(let r=e.length-1;r>=0;r--)t=hT(t,pT(uT(e,r),n)),n=pT(256,n);return t.split("").reverse().join("")}(lT([2147483647&n,r]))}(e.nodes.map(e=>e.visit(t,null)).join(""),e.meaning)}class YC{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(e=>e.visit(this)).join(", ")}]`}visitIcu(e,t){const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.expression}, ${e.type}, ${n.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(e=>e.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}}const XC=new YC;class JC extends YC{visitIcu(e,t){let n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}}function ZC(e,t,n,r){return e<20?[t&n|~t&r,1518500249]:e<40?[t^n^r,1859775393]:e<60?[t&n|t&r|n&r,2400959708]:[t^n^r,3395469782]}function eT(e){const t=SE(e);let[n,r]=[tT(t,0),tT(t,102072)];return 0!=n||0!=r&&1!=r||(n^=319790063,r^=-1801410264),[n,r]}function tT(e,t){let n,[r,i]=[2654435769,2654435769];const s=e.length;for(n=0;n+12<=s;n+=12)r=iT(r,cT(e,n,rT.Little)),i=iT(i,cT(e,n+4,rT.Little)),t=iT(t,cT(e,n+8,rT.Little)),[r,i,t]=nT([r,i,t]);return r=iT(r,cT(e,n,rT.Little)),i=iT(i,cT(e,n+4,rT.Little)),t=iT(t,s),nT([r,i,t=iT(t,cT(e,n+8,rT.Little)<<8)])[2]}function nT([e,t,n]){return e=oT(e,t),e=oT(e,n),e^=n>>>13,t=oT(t,n),t=oT(t,e),t^=e<<8,n=oT(n,e),n=oT(n,t),n^=t>>>13,e=oT(e,t),e=oT(e,n),e^=n>>>12,t=oT(t,n),t=oT(t,e),t^=e<<16,n=oT(n,e),n=oT(n,t),n^=t>>>5,e=oT(e,t),e=oT(e,n),e^=n>>>3,t=oT(t,n),t=oT(t,e),t^=e<<10,n=oT(n,e),n=oT(n,t),[e,t,n^=t>>>15]}var rT;function iT(e,t){return sT(e,t)[1]}function sT(e,t){const n=(65535&e)+(65535&t),r=(e>>>16)+(t>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function oT(e,t){const n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function aT(e,t){return e<<t|e>>>32-t}function uT(e,t){return t>=e.length?0:255&e.charCodeAt(t)}function cT(e,t,n){let r=0;if(n===rT.Big)for(let i=0;i<4;i++)r+=uT(e,t+i)<<24-8*i;else for(let i=0;i<4;i++)r+=uT(e,t+i)<<8*i;return r}function lT(e){return e.reduce((e,t)=>e+function(e){let t="";for(let n=0;n<4;n++)t+=String.fromCharCode(e>>>8*(3-n)&255);return t}(t),"")}function hT(e,t){let n="";const r=Math.max(e.length,t.length);for(let i=0,s=0;i<r||s;i++){const r=s+ +(e[i]||0)+ +(t[i]||0);r>=10?(s=1,n+=r-10):(s=0,n+=r)}return n}function pT(e,t){let n="",r=t;for(;0!==e;e>>>=1)1&e&&(n=hT(n,r)),r=hT(r,r);return n}!function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(rT||(rT={}));class dT{createNameMapper(e){return null}}class fT extends KC{constructor(e,t){super(),this.mapName=t,this.internalToPublic={},this.publicToNextId={},this.publicToInternal={},e.nodes.forEach(e=>e.visit(this))}toPublicName(e){return this.internalToPublic.hasOwnProperty(e)?this.internalToPublic[e]:null}toInternalName(e){return this.publicToInternal.hasOwnProperty(e)?this.publicToInternal[e]:null}visitText(e,t){return null}visitTagPlaceholder(e,t){this.visitPlaceholderName(e.startName),super.visitTagPlaceholder(e,t),this.visitPlaceholderName(e.closeName)}visitPlaceholder(e,t){this.visitPlaceholderName(e.name)}visitIcuPlaceholder(e,t){this.visitPlaceholderName(e.name)}visitPlaceholderName(e){if(!e||this.internalToPublic.hasOwnProperty(e))return;let t=this.mapName(e);if(this.publicToInternal.hasOwnProperty(t)){const e=this.publicToNextId[t];this.publicToNextId[t]=e+1,t=`${t}_${e}`}else this.publicToNextId[t]=1;this.internalToPublic[e]=t,this.publicToInternal[t]=e}}const mT=new class{visitTag(e){const t=this._serializeAttributes(e.attrs);if(0==e.children.length)return`<${e.name}${t}/>`;const n=e.children.map(e=>e.visit(this));return`<${e.name}${t}>${n.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){const t=Object.keys(e).map(t=>`${t}="${e[t]}"`).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [\n${e.dtd}\n]>`}};function gT(e){return e.map(e=>e.visit(mT)).join("")}class vT{constructor(e){this.attrs={},Object.keys(e).forEach(t=>{this.attrs[t]=ST(e[t])})}visit(e){return e.visitDeclaration(this)}}class yT{constructor(e,t){this.rootTag=e,this.dtd=t}visit(e){return e.visitDoctype(this)}}class wT{constructor(e,t={},n=[]){this.name=e,this.children=n,this.attrs={},Object.keys(t).forEach(e=>{this.attrs[e]=ST(t[e])})}visit(e){return e.visitTag(this)}}class bT{constructor(e){this.value=ST(e)}visit(e){return e.visitText(this)}}class _T extends bT{constructor(e=0){super(`\n${new Array(e+1).join(" ")}`)}}const ET=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function ST(e){return ET.reduce((e,t)=>e.replace(t[0],t[1]),e)}const CT="messagebundle",TT="msg",xT="ph",IT="ex",AT="source",DT='<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>';class NT extends dT{write(e,t){const n=new MT,r=new kT;let i=new wT(CT);return e.forEach(e=>{const t={id:e.id};e.description&&(t.desc=e.description),e.meaning&&(t.meaning=e.meaning);let n=[];e.sources.forEach(e=>{n.push(new wT(AT,{},[new bT(`${e.filePath}:${e.startLine}${e.endLine!==e.startLine?","+e.endLine:""}`)]))}),i.children.push(new _T(2),new wT(TT,t,[...n,...r.serialize(e.nodes)]))}),i.children.push(new _T),gT([new vT({version:"1.0",encoding:"UTF-8"}),new _T,new yT(CT,DT),new _T,n.addDefaultExamples(i),new _T])}load(e,t){throw new Error("Unsupported")}digest(e){return PT(e)}createNameMapper(e){return new fT(e,OT)}}class kT{visitText(e,t){return[new bT(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new bT(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new bT(`${t} {`),...e.cases[t].visit(this),new bT("} "))}),n.push(new bT("}")),n}visitTagPlaceholder(e,t){const n=new bT(`<${e.tag}>`),r=new wT(IT,{},[n]),i=new wT(xT,{name:e.startName},[r,n]);if(e.isVoid)return[i];const s=new bT(`</${e.tag}>`),o=new wT(IT,{},[s]),a=new wT(xT,{name:e.closeName},[o,s]);return[i,...this.serialize(e.children),a]}visitPlaceholder(e,t){const n=new bT(`{{${e.value}}}`),r=new wT(IT,{},[n]);return[new wT(xT,{name:e.name},[r,n])]}visitIcuPlaceholder(e,t){const n=e.value.expression,r=e.value.type,i=Object.keys(e.value.cases).map(e=>e+" {...}").join(" "),s=new bT(`{${n}, ${r}, ${i}}`),o=new wT(IT,{},[s]);return[new wT(xT,{name:e.name},[o,s])]}serialize(e){return[].concat(...e.map(e=>e.visit(this)))}}function PT(e){return QC(e)}class MT{addDefaultExamples(e){return e.visit(this),e}visitTag(e){if(e.name===xT){if(!e.children||0==e.children.length){const t=new bT(e.attrs.name||"...");e.children=[new wT(IT,{},[t])]}}else e.children&&e.children.forEach(e=>e.visit(this))}visitText(e){}visitDeclaration(e){}visitDoctype(e){}}function OT(e){return e.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function RT(e,t=!1){return iE(Object.keys(e).map(n=>({key:n,quoted:t,value:e[n]})))}const LT="MSG_",FT="I18N_",VT="goog.getMsg",BT="ngI18nClosureMode",UT="|",jT="@@",qT="i18n",$T="i18n-",HT="VAR_",zT="I18N_EXP_",WT="\ufffd";function KT(e,t,n,r,i){const s=[];s.push(new O_(e.name,void 0,Yb,null,e.sourceSpan));const o=[aE(n)];i&&Object.keys(i).length&&o.push(RT(i,!0));const a=function(e){const t=[];e.description&&t.push({tagName:"desc",text:e.description});e.meaning&&t.push({tagName:"meaning",text:e.meaning});return 0==t.length?null:new $_(t)}(r),u=a?[a]:[],c=Z_(VT).callFn(o);u.push(t.set(c).toConstDecl()),u.push(new L_(e.set(t)));const l=eE(pS.i18nLocalize).callFn(o),h=[new L_(e.set(l))];return s.push(oE(Z_(BT),u,h)),s}function GT(e){return e===qT||e.startsWith($T)}function QT(e){return e instanceof UC}function YT(e){return QT(e)&&1===e.nodes.length&&e.nodes[0]instanceof $C}function XT(e,t=null){return{id:"string"==typeof t?t:e.id||"",meaning:e.meaning||"",description:e.description||""}}function JT(e){return e.nodes[0]}function ZT(e,t=0){return`${WT}${e}${t>0?`:${t}`:""}${WT}`}function ex(e=0){let t=e;return()=>t++}function tx(e){const t={};return e.forEach((e,n)=>{t[n]=aE(e.length>1?`[${e.join("|")}]`:e[0])}),t}function nx(e,t,...n){const r=e.get(t)||[];r.push(...n),e.set(t,r)}function rx(e,t=0,n=0){const r=t,i=new Map,s=e instanceof UC?e.nodes.find(e=>e instanceof qC):e;return s&&s.children.filter(e=>e instanceof zC).forEach((e,t)=>{const s=ZT(r+t,n);nx(i,e.name,s)}),i}function ix(e,t=!0){const n=OT(e);if(!t)return n;const r=n.split("_");if(1===r.length)return e.toLowerCase();let i;/^\d+$/.test(r[r.length-1])&&(i=r.pop());let s=r.shift().toLowerCase();return r.length&&(s+=r.map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join("")),i?`${s}_${i}`:s}function sx(e){return`${LT}${e}`.toUpperCase()}const ox=/[-.]/,ax="_t",ux="ctx",cx="rf",lx="_r",hx="$implicit",px="ngNonBindable";function dx(e,t){let n=null;return()=>(n||(e.push(new O_(ax,void 0,Qb)),n=Z_(t)),n)}function fx(e){if(this)throw new Error(`Builder ${this.constructor.name} doesn't support ${e} yet`);throw new Error(`Feature ${e} is not supported yet`)}function mx(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function gx(e){return Array.isArray(e)?rE(e.map(gx)):aE(e,Yb)}function vx(e,t){return Object.getOwnPropertyNames(e).length>0?function(e,t){return iE(Object.getOwnPropertyNames(e).map(n=>{const r=e[n];let i,s,o;return Array.isArray(r)?[s,i]=r:[i,s]=lE(n,[n,r]),{key:o=i,quoted:ox.test(o),value:t&&s!==i?rE([gx(s),gx(i)]):gx(s)}}))}(e,t):null}function yx(e){for(;(t=e[e.length-1])instanceof m_&&null===t.value;)e.pop();var t;return e}function wx(e,t){if(Array.isArray(e.predicate)){let n=[];return e.predicate.forEach(e=>{const t=e.split(",").map(e=>aE(e.trim()));n.push(...t)}),t.getConstLiteral(rE(n),!0)}return e.predicate}class bx{constructor(){this.values=[]}set(e,t){t&&this.values.push({key:e,value:t,quoted:!1})}toLiteralMap(){return iE(this.values)}}function _x(e){const t={};return e instanceof OC&&"ng-template"!==e.tagName?e.templateAttrs.forEach(e=>t[e.name]=""):(e.attributes.forEach(e=>{GT(e.name)||(t[e.name]=e.value)}),e.inputs.forEach(e=>{t[e.name]=""}),e.outputs.forEach(e=>{t[e.name]=""})),t}function Ex(e,t,n){let r=eE(e,null,n);if(t.length>0)for(let i=0;i<t.length;i++)r=r.callFn(t[i],n);else r=r.callFn([],n);return r}function Sx(e){const{expressions:t,strings:n}=e;return 1===t.length&&2===n.length&&""===n[0]&&""===n[1]?1:t.length+n.length}var Cx,Tx;function xx(e,t=!1){const n=Z_("t"),r=[],i=Dx(e)?n:new S_(e_.Or,n,e.type);let s=null;if(null!==e.deps)"invalid"!==e.deps&&(s=new f_(i,Ix(e.deps,e.injectFn,t)));else{const t=Z_(`\u0275${e.name}_BaseFactory`),n=eE(pS.getInheritedFactory),o=t.set(n.callFn([e.type])).toDeclStmt(Yb,[P_.Exported,P_.Final]);r.push(o),s=t.callFn([i])}const o=s,a=[];let u=null;function c(t){const r=Z_("r");a.push(r.set(N_).toDeclStmt());let i=null;return i=null!==o?r.set(o).toStmt():Ax(e.name),a.push(oE(n,[i],[r.set(t).toStmt()])),r}if(Dx(e)&&e.delegateType===Cx.Factory){const t=Z_(`\u0275${e.name}_BaseFactory`),n=eE(pS.getFactoryOf);if(e.delegate.isEquivalent(e.type))throw new Error("Illegal state: compiling factory that delegates to itself");const i=t.set(n.callFn([e.delegate])).toDeclStmt(Yb,[P_.Exported,P_.Final]);r.push(i),u=c(t.callFn([]))}else if(Dx(e)){const n=Ix(e.delegateDeps,e.injectFn,t);u=c(new(e.delegateType===Cx.Class?f_:d_)(e.delegate,n))}else u=function(e){return void 0!==e.expression}(e)?c(e.expression):s;return null!==u?a.push(new F_(u)):a.push(Ax(e.name)),{factory:sE([new __("t",Qb)],a,Yb,void 0,`${e.name}_Factory`),statements:r}}function Ix(e,t,n){return e.map(e=>(function(e,t,n){switch(e.resolved){case Tx.Token:case Tx.ChangeDetectorRef:const r=0|(e.self?2:0)|(e.skipSelf?4:0)|(e.host?1:0)|(e.optional?8:0);let i=0!==r||e.optional?aE(r):null;if(n&&e.resolved===Tx.ChangeDetectorRef)return eE(pS.injectPipeChangeDetectorRef).callFn(i?[i]:[]);const s=[e.token];return i&&s.push(i),eE(t).callFn(s);case Tx.Attribute:return eE(pS.injectAttribute).callFn([e.token]);default:return fx(`Unknown R3ResolvedDependencyType: ${Tx[e.resolved]}`)}})(e,t,n))}function Ax(e){return new z_(new f_(new o_("Error"),[aE(`${e} has a constructor which is not compatible with Dependency Injection. It should probably not be @Injectable().`)]))}function Dx(e){return void 0!==e.delegateType}function Nx(e){return iE(Object.keys(e).map(t=>({key:t,value:e[t],quoted:!1})))}function kx(e,t){let n=null;if(t>0){n=[];for(let e=0;e<t;e++)n.push(Qb)}return nE(e,null,n)}!function(e){e[e.Class=0]="Class",e[e.Function=1]="Function",e[e.Factory=2]="Factory"}(Cx||(Cx={})),function(e){e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef"}(Tx||(Tx={}));const Px="@";function Mx(e){return`${Px}${e}`}function Ox(e,t){return`animation_${e}_${t}`}function Rx(e,t){if(null!=t){if(!Array.isArray(t))throw new Error(`Expected '${e}' to be an array of strings.`);for(let n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw new Error(`Expected '${e}' to be an array of strings.`)}}const Lx=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Fx(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error(`Expected '${e}' to be an array, [start, end].`);if(null!=t){const e=t[0],n=t[1];Lx.forEach(t=>{if(t.test(e)||t.test(n))throw new Error(`['${e}', '${n}'] contains unusable interpolation symbol.`)})}}class Vx{constructor(e,t){this.start=e,this.end=t}static fromArray(e){return e?(Fx("interpolation",e),new Vx(e[0],e[1])):Bx}}const Bx=new Vx("{{","}}"),Ux=3,jx="# sourceMappingURL=data:application/json;base64,";class qx{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const e=new Map,t=[],n=[];Array.from(this.sourcesContent.keys()).forEach((r,i)=>{e.set(r,i),t.push(r),n.push(this.sourcesContent.get(r)||null)});let r="",i=0,s=0,o=0,a=0;return this.lines.forEach(t=>{i=0,r+=t.map(t=>{let n=$x(t.col0-i);return i=t.col0,null!=t.sourceUrl&&(n+=$x(e.get(t.sourceUrl)-s),s=e.get(t.sourceUrl),n+=$x(t.sourceLine0-o),o=t.sourceLine0,n+=$x(t.sourceCol0-a),a=t.sourceCol0),n}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:Ux,sourceRoot:"",sources:t,sourcesContent:n,mappings:r}}toJsComment(){return this.hasMappings?"//"+jx+function(e){let t="";e=SE(e);for(let n=0;n<e.length;){const r=e.charCodeAt(n++),i=e.charCodeAt(n++),s=e.charCodeAt(n++);t+=zx(r>>2),t+=zx((3&r)<<4|(isNaN(i)?0:i>>4)),t+=isNaN(i)?"=":zx((15&i)<<2|s>>6),t+=isNaN(i)||isNaN(s)?"=":zx(63&s)}return t}(JSON.stringify(this,null,0)):""}}function $x(e){e=e<0?1+(-e<<1):e<<1;let t="";do{let n=31&e;(e>>=5)>0&&(n|=32),t+=zx(n)}while(e>0);return t}const Hx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function zx(e){if(e<0||e>=64)throw new Error("Can only encode value in the range [0, 63]");return Hx[e]}const Wx=/'|\\|\n|\r|\$/g,Kx=/^[$A-Z_][0-9A-Z_$]*$/i,Gx="  ",Qx=Z_("error",null,null),Yx=Z_("stack",null,null);class Xx{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}}class Jx{constructor(e){this._indent=e,this._classes=[],this._preambleLineCount=0,this._lines=[new Xx(e)]}static createRoot(){return new Jx(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return this._currentLine.indent*Gx.length+this._currentLine.partsLength}print(e,t,n=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new Xx(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}pushClass(e){this._classes.push(e)}popClass(){return this._classes.pop()}get currentClass(){return this._classes.length>0?this._classes[this._classes.length-1]:null}toSource(){return this.sourceLines.map(e=>e.parts.length>0?tI(e.indent)+e.parts.join(""):"").join("\n")}toSourceMapGenerator(e,t=0){const n=new qx(e);let r=!1;const i=()=>{r||(n.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let s=0;s<t;s++)n.addLine(),i();return this.sourceLines.forEach((e,t)=>{n.addLine();const s=e.srcSpans,o=e.parts;let a=e.indent*Gx.length,u=0;for(;u<s.length&&!s[u];)a+=o[u].length,u++;for(u<s.length&&0===t&&0===a?r=!0:i();u<s.length;){const e=s[u],t=e.start.file,r=e.start.line,i=e.start.col;for(n.addSource(t.url,t.content).addMapping(a,t.url,r,i),a+=o[u].length,u++;u<s.length&&(e===s[u]||!s[u]);)a+=o[u].length,u++}}),n}setPreambleLineCount(e){return this._preambleLineCount=e}spanOf(e,t){const n=this._lines[e-this._preambleLineCount];if(n){let e=t-tI(n.indent).length;for(let t=0;t<n.parts.length;t++){const r=n.parts[t];if(r.length>e)return n.srcSpans[t];e-=r.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}class Zx{constructor(e){this._escapeDollarInStrings=e}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");const n=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitThrowStmt(e,t){return t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null}visitCommentStmt(e,t){return e.multiline?t.println(e,`/* ${e.comment} */`):e.comment.split("\n").forEach(n=>{t.println(e,`// ${n}`)}),null}visitJSDocCommentStmt(e,t){return t.println(e,`/*${e.toString()}*/`),null}visitWriteVarExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,`${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWriteKeyExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWritePropExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,`.${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitInvokeMethodExpr(e,t){e.receiver.visitExpression(this,t);let n=e.name;return null!=e.builtin&&null==(n=this.getBuiltinMethodName(e.builtin))?null:(t.print(e,`.${n}(`),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null)}visitInvokeFunctionExpr(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){let n=e.name;if(null!=e.builtin)switch(e.builtin){case t_.Super:n="super";break;case t_.This:n="this";break;case t_.CatchError:n=Qx.name;break;case t_.CatchStack:n=Yx.name;break;default:throw new Error(`Unknown builtin variable ${e.builtin}`)}return t.print(e,n),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){const n=e.value;return"string"==typeof n?t.print(e,eI(n,this._escapeDollarInStrings)):t.print(e,`${n}`),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t),null}visitBinaryOperatorExpr(e,t){let n;switch(e.operator){case e_.Equals:n="==";break;case e_.Identical:n="===";break;case e_.NotEquals:n="!=";break;case e_.NotIdentical:n="!==";break;case e_.And:n="&&";break;case e_.BitwiseAnd:n="&";break;case e_.Or:n="||";break;case e_.Plus:n="+";break;case e_.Minus:n="-";break;case e_.Divide:n="/";break;case e_.Multiply:n="*";break;case e_.Modulo:n="%";break;case e_.Lower:n="<";break;case e_.LowerEquals:n="<=";break;case e_.Bigger:n=">";break;case e_.BiggerEquals:n=">=";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${n} `),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(n=>{t.print(e,`${eI(n.key,this._escapeDollarInStrings,n.quoted)}:`),n.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitAllExpressions(e,t,n){this.visitAllObjects(e=>e.visitExpression(this,t),e,t,n)}visitAllObjects(e,t,n,r){let i=!1;for(let s=0;s<t.length;s++)s>0&&(n.lineLength()>80?(n.print(null,r,!0),i||(n.incIndent(),n.incIndent(),i=!0)):n.print(null,r,!1)),e(t[s]);i&&(n.decIndent(),n.decIndent())}visitAllStatements(e,t){e.forEach(e=>e.visitStatement(this,t))}}function eI(e,t,n=!0){if(null==e)return null;const r=e.replace(Wx,(...e)=>"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":`\\${e[0]}`);return n||!Kx.test(r)?`'${r}'`:r}function tI(e){let t="";for(let n=0;n<e;n++)t+=Gx;return t}class nI extends Zx{constructor(){super(!1)}visitDeclareClassStmt(e,t){return t.pushClass(e),this._visitClassConstructor(e,t),null!=e.parent&&(t.print(e,`${e.name}.prototype = Object.create(`),e.parent.visitExpression(this,t),t.println(e,".prototype);")),e.getters.forEach(n=>this._visitClassGetter(e,n,t)),e.methods.forEach(n=>this._visitClassMethod(e,n,t)),t.popClass(),null}_visitClassConstructor(e,t){t.print(e,`function ${e.name}(`),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&e.constructorMethod.body.length>0&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")}_visitClassGetter(e,t,n){n.println(e,`Object.defineProperty(${e.name}.prototype, '${t.name}', { get: function() {`),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"}});")}_visitClassMethod(e,t,n){n.print(e,`${e.name}.prototype.${t.name} = function(`),this._visitParams(t.params,n),n.println(e,") {"),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"};")}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitReadVarExpr(e,t){if(e.builtin===t_.This)t.print(e,"self");else{if(e.builtin===t_.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");super.visitReadVarExpr(e,t)}return null}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitCastExpr(e,t){return e.value.visitExpression(this,t),null}visitInvokeFunctionExpr(e,t){const n=e.fn;return n instanceof o_&&n.builtin===t_.Super?(t.currentClass.parent.visitExpression(this,t),t.print(e,".call(this"),e.args.length>0&&(t.print(e,", "),this.visitAllExpressions(e.args,t,",")),t.print(e,")")):super.visitInvokeFunctionExpr(e,t),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitTryCatchStmt(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,`} catch (${Qx.name}) {`),t.incIndent();const n=[Yx.set(Qx.prop("stack")).toDeclStmt(null,[P_.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}_visitParams(e,t){this.visitAllObjects(e=>t.print(null,e.name),e,t,",")}getBuiltinMethodName(e){let t;switch(e){case n_.ConcatArray:t="concat";break;case n_.SubscribeObservable:t="subscribe";break;case n_.Bind:t="bind";break;default:throw new Error(`Unknown builtin method: ${e}`)}return t}}class rI{evaluateStatements(e,t,n,r){const i=new iI(n),s=Jx.createRoot();return t.length>0&&!t[0].isEquivalent(aE("use strict").toStmt())&&(t=[aE("use strict").toStmt(),...t]),i.visitAllStatements(t,s),i.createReturnStmt(s),this.evaluateCode(e,s,i.getArgs(),r)}evaluateCode(e,t,n,r){let i=`"use strict";${t.toSource()}\n//# sourceURL=${e}`;const s=[],o=[];for(const u in n)o.push(n[u]),s.push(u);if(r){const n=new Function(...s.concat("return null;")).toString(),r=n.slice(0,n.indexOf("return null;")).split("\n").length-1;i+=`\n${t.toSourceMapGenerator(e,r).toJsComment()}`}const a=new Function(...s.concat(i));return this.executeFunction(a,o)}executeFunction(e,t){return e(...t)}}class iI extends nI{constructor(e){super(),this.reflector=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new F_(new A_(this._evalExportedVars.map(e=>new I_(e,Z_(e),!1)))).visitStatement(this,e)}getArgs(){const e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.reflector.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(P_.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(P_.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}visitDeclareClassStmt(e,t){return e.hasModifier(P_.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareClassStmt(e,t)}_emitReferenceToExternal(e,t,n){let r=this._evalArgValues.indexOf(t);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(t);const e=WE({reference:t})||"val";this._evalArgNames.push(`jit_${e}_${r}`)}n.print(e,this._evalArgNames[r])}}class sI{constructor(e){this.context=e}resolveExternalReference(e){if("@angular/core"!==e.moduleName)throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}parameters(e){throw new Error("Not implemented.")}annotations(e){throw new Error("Not implemented.")}shallowAnnotations(e){throw new Error("Not implemented.")}tryAnnotations(e){throw new Error("Not implemented.")}propMetadata(e){throw new Error("Not implemented.")}hasLifecycleHook(e,t){throw new Error("Not implemented.")}guards(e){throw new Error("Not implemented.")}componentModuleUrl(e,t){throw new Error("Not implemented.")}}function oI(e){const{type:t,bootstrap:n,declarations:r,imports:i,exports:s,schemas:o,containsForwardDecls:a,emitInline:u,id:c}=e,l=[],h={type:t};if(n.length&&(h.bootstrap=uI(n,a)),u)r.length&&(h.declarations=uI(r,a)),i.length&&(h.imports=uI(i,a)),s.length&&(h.exports=uI(s,a));else{const t=function(e){const{type:t,declarations:n,imports:r,exports:i,containsForwardDecls:s}=e,o={};n.length&&(o.declarations=uI(n,s));r.length&&(o.imports=uI(r,s));i.length&&(o.exports=uI(i,s));if(0===Object.keys(o).length)return null;return new d_(eE(pS.setNgModuleScope),[t,Nx(o)],void 0,void 0,!0).toStmt()}(e);null!==t&&l.push(t)}return o&&o.length&&(h.schemas=rE(o.map(e=>e.value))),c&&(h.id=c),{expression:eE(pS.defineNgModule).callFn([Nx(h)]),type:new Wb(eE(pS.NgModuleDefWithMeta,[new Wb(t),aI(r),aI(i),aI(s)])),additionalStatements:l}}function aI(e){const t=e.map(e=>(function(e){return new a_(e)})(e.type));return e.length>0?nE(rE(t)):Zb}function uI(e,t){const n=rE(e.map(e=>e.value));return t?sE([],[new F_(n)]):n}function cI(e){const t=[];t.push({key:"name",value:aE(e.pipeName),quoted:!1}),t.push({key:"type",value:e.type,quoted:!1});const n=xx({name:e.name,type:e.type,deps:e.deps,injectFn:pS.directiveInject},!0);return t.push({key:"factory",value:n.factory,quoted:!1}),t.push({key:"pure",value:aE(e.pure),quoted:!1}),{expression:eE(pS.definePipe).callFn([iE(t)]),type:new Wb(eE(pS.PipeDefWithMeta,[kx(e.type,e.typeArgumentCount),new Wb(new m_(e.pipeName))])),statements:n.statements}}class lI{constructor(e,t,n,r){this.input=t,this.errLocation=n,this.ctxLocation=r,this.message=`Parser Error: ${e} ${n} [${t}] in ${r}`}}class hI{constructor(e,t){this.start=e,this.end=t}}class pI{constructor(e){this.span=e}visit(e,t=null){return null}toString(){return"AST"}}class dI extends pI{constructor(e,t,n,r){super(e),this.prefix=t,this.uninterpretedExpression=n,this.location=r}visit(e,t=null){return e.visitQuote(this,t)}toString(){return"Quote"}}class fI extends pI{visit(e,t=null){}}class mI extends pI{visit(e,t=null){return e.visitImplicitReceiver(this,t)}}class gI extends pI{constructor(e,t){super(e),this.expressions=t}visit(e,t=null){return e.visitChain(this,t)}}class vI extends pI{constructor(e,t,n,r){super(e),this.condition=t,this.trueExp=n,this.falseExp=r}visit(e,t=null){return e.visitConditional(this,t)}}class yI extends pI{constructor(e,t,n){super(e),this.receiver=t,this.name=n}visit(e,t=null){return e.visitPropertyRead(this,t)}}class wI extends pI{constructor(e,t,n,r){super(e),this.receiver=t,this.name=n,this.value=r}visit(e,t=null){return e.visitPropertyWrite(this,t)}}class bI extends pI{constructor(e,t,n){super(e),this.receiver=t,this.name=n}visit(e,t=null){return e.visitSafePropertyRead(this,t)}}class _I extends pI{constructor(e,t,n){super(e),this.obj=t,this.key=n}visit(e,t=null){return e.visitKeyedRead(this,t)}}class EI extends pI{constructor(e,t,n,r){super(e),this.obj=t,this.key=n,this.value=r}visit(e,t=null){return e.visitKeyedWrite(this,t)}}class SI extends pI{constructor(e,t,n,r){super(e),this.exp=t,this.name=n,this.args=r}visit(e,t=null){return e.visitPipe(this,t)}}class CI extends pI{constructor(e,t){super(e),this.value=t}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}}class TI extends pI{constructor(e,t){super(e),this.expressions=t}visit(e,t=null){return e.visitLiteralArray(this,t)}}class xI extends pI{constructor(e,t,n){super(e),this.keys=t,this.values=n}visit(e,t=null){return e.visitLiteralMap(this,t)}}class II extends pI{constructor(e,t,n){super(e),this.strings=t,this.expressions=n}visit(e,t=null){return e.visitInterpolation(this,t)}}class AI extends pI{constructor(e,t,n,r){super(e),this.operation=t,this.left=n,this.right=r}visit(e,t=null){return e.visitBinary(this,t)}}class DI extends pI{constructor(e,t){super(e),this.expression=t}visit(e,t=null){return e.visitPrefixNot(this,t)}}class NI extends pI{constructor(e,t){super(e),this.expression=t}visit(e,t=null){return e.visitNonNullAssert(this,t)}}class kI extends pI{constructor(e,t,n,r){super(e),this.receiver=t,this.name=n,this.args=r}visit(e,t=null){return e.visitMethodCall(this,t)}}class PI extends pI{constructor(e,t,n,r){super(e),this.receiver=t,this.name=n,this.args=r}visit(e,t=null){return e.visitSafeMethodCall(this,t)}}class MI extends pI{constructor(e,t,n){super(e),this.target=t,this.args=n}visit(e,t=null){return e.visitFunctionCall(this,t)}}class OI{constructor(e,t){this.start=e,this.end=t}}class RI extends pI{constructor(e,t,n,r,i){super(new hI(0,null==t?0:t.length)),this.ast=e,this.source=t,this.location=n,this.errors=i,this.sourceSpan=new OI(r,r+this.span.end)}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}}class LI{constructor(e,t,n,r,i){this.span=e,this.key=t,this.keyIsVar=n,this.name=r,this.expression=i}}class FI{visitBinary(e,t){return e.left.visit(this,t),e.right.visit(this,t),null}visitChain(e,t){return this.visitAll(e.expressions,t)}visitConditional(e,t){return e.condition.visit(this,t),e.trueExp.visit(this,t),e.falseExp.visit(this,t),null}visitPipe(e,t){return e.exp.visit(this,t),this.visitAll(e.args,t),null}visitFunctionCall(e,t){return e.target.visit(this,t),this.visitAll(e.args,t),null}visitImplicitReceiver(e,t){return null}visitInterpolation(e,t){return this.visitAll(e.expressions,t)}visitKeyedRead(e,t){return e.obj.visit(this,t),e.key.visit(this,t),null}visitKeyedWrite(e,t){return e.obj.visit(this,t),e.key.visit(this,t),e.value.visit(this,t),null}visitLiteralArray(e,t){return this.visitAll(e.expressions,t)}visitLiteralMap(e,t){return this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){return null}visitMethodCall(e,t){return e.receiver.visit(this,t),this.visitAll(e.args,t)}visitPrefixNot(e,t){return e.expression.visit(this,t),null}visitNonNullAssert(e,t){return e.expression.visit(this,t),null}visitPropertyRead(e,t){return e.receiver.visit(this,t),null}visitPropertyWrite(e,t){return e.receiver.visit(this,t),e.value.visit(this,t),null}visitSafePropertyRead(e,t){return e.receiver.visit(this,t),null}visitSafeMethodCall(e,t){return e.receiver.visit(this,t),this.visitAll(e.args,t)}visitAll(e,t){return e.forEach(e=>e.visit(this,t)),null}visitQuote(e,t){return null}}class VI{visitImplicitReceiver(e,t){return e}visitInterpolation(e,t){return new II(e.span,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,t){return new CI(e.span,e.value)}visitPropertyRead(e,t){return new yI(e.span,e.receiver.visit(this),e.name)}visitPropertyWrite(e,t){return new wI(e.span,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,t){return new bI(e.span,e.receiver.visit(this),e.name)}visitMethodCall(e,t){return new kI(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))}visitSafeMethodCall(e,t){return new PI(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))}visitFunctionCall(e,t){return new MI(e.span,e.target.visit(this),this.visitAll(e.args))}visitLiteralArray(e,t){return new TI(e.span,this.visitAll(e.expressions))}visitLiteralMap(e,t){return new xI(e.span,e.keys,this.visitAll(e.values))}visitBinary(e,t){return new AI(e.span,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,t){return new DI(e.span,e.expression.visit(this))}visitNonNullAssert(e,t){return new NI(e.span,e.expression.visit(this))}visitConditional(e,t){return new vI(e.span,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,t){return new SI(e.span,e.exp.visit(this),e.name,this.visitAll(e.args))}visitKeyedRead(e,t){return new _I(e.span,e.obj.visit(this),e.key.visit(this))}visitKeyedWrite(e,t){return new EI(e.span,e.obj.visit(this),e.key.visit(this),e.value.visit(this))}visitAll(e){const t=new Array(e.length);for(let n=0;n<e.length;++n)t[n]=e[n].visit(this);return t}visitChain(e,t){return new gI(e.span,this.visitAll(e.expressions))}visitQuote(e,t){return new dI(e.span,e.prefix,e.uninterpretedExpression,e.location)}}class BI{visitImplicitReceiver(e,t){return e}visitInterpolation(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new II(e.span,e.strings,n):e}visitLiteralPrimitive(e,t){return e}visitPropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new yI(e.span,n,e.name):e}visitPropertyWrite(e,t){const n=e.receiver.visit(this),r=e.value.visit(this);return n!==e.receiver||r!==e.value?new wI(e.span,n,e.name,r):e}visitSafePropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new bI(e.span,n,e.name):e}visitMethodCall(e,t){const n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new kI(e.span,n,e.name,r):e}visitSafeMethodCall(e,t){const n=e.receiver.visit(this),r=this.visitAll(e.args);return n!==e.receiver||r!==e.args?new PI(e.span,n,e.name,r):e}visitFunctionCall(e,t){const n=e.target&&e.target.visit(this),r=this.visitAll(e.args);return n!==e.target||r!==e.args?new MI(e.span,n,r):e}visitLiteralArray(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new TI(e.span,n):e}visitLiteralMap(e,t){const n=this.visitAll(e.values);return n!==e.values?new xI(e.span,e.keys,n):e}visitBinary(e,t){const n=e.left.visit(this),r=e.right.visit(this);return n!==e.left||r!==e.right?new AI(e.span,e.operation,n,r):e}visitPrefixNot(e,t){const n=e.expression.visit(this);return n!==e.expression?new DI(e.span,n):e}visitNonNullAssert(e,t){const n=e.expression.visit(this);return n!==e.expression?new NI(e.span,n):e}visitConditional(e,t){const n=e.condition.visit(this),r=e.trueExp.visit(this),i=e.falseExp.visit(this);return n!==e.condition||r!==e.trueExp||i!==e.falseExp?new vI(e.span,n,r,i):e}visitPipe(e,t){const n=e.exp.visit(this),r=this.visitAll(e.args);return n!==e.exp||r!==e.args?new SI(e.span,n,e.name,r):e}visitKeyedRead(e,t){const n=e.obj.visit(this),r=e.key.visit(this);return n!==e.obj||r!==e.key?new _I(e.span,n,r):e}visitKeyedWrite(e,t){const n=e.obj.visit(this),r=e.key.visit(this),i=e.value.visit(this);return n!==e.obj||r!==e.key||i!==e.value?new EI(e.span,n,r,i):e}visitAll(e){const t=new Array(e.length);let n=!1;for(let r=0;r<e.length;++r){const i=e[r],s=i.visit(this);t[r]=s,n=n||s!==i}return n?t:e}visitChain(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new gI(e.span,n):e}visitQuote(e,t){return e}}class UI{constructor(e,t,n,r,i){this.name=e,this.expression=t,this.type=n,this.sourceSpan=r,this.valueSpan=i,this.isLiteral=this.type===jI.LITERAL_ATTR,this.isAnimation=this.type===jI.ANIMATION}}var jI,qI,$I;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LITERAL_ATTR=1]="LITERAL_ATTR",e[e.ANIMATION=2]="ANIMATION"}(jI||(jI={}));class HI{constructor(e,t,n,r,i,s){this.name=e,this.targetOrPhase=t,this.type=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s}}class zI{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}}class WI{constructor(e,t,n,r,i,s,o){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.valueSpan=o}}class KI{}KI.event=Z_("$event");class GI{constructor(e,t){this.stmts=e,this.allowDefault=t,this.render3Stmts=e.map(e=>{if(e instanceof O_&&e.name==t.name&&e.value instanceof S_){const t=e.value.lhs;return new F_(t.value)}return e})}}function QI(e,t,n,r,i,s){e||(e=new oA);const o=YI({createLiteralArrayConverter:e=>e=>rE(e),createLiteralMapConverter:e=>t=>{return iE(e.map((e,n)=>({key:e.key,value:t[n],quoted:e.quoted})))},createPipeConverter:e=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${e}`)}},n),a=new sA(e,t,r,i,s),u=[];!function e(t,n){Array.isArray(t)?t.forEach(t=>e(t,n)):n.push(t)}(o.visit(a,$I.Statement),u),function(e,t,n){for(let r=e-1;r>=0;r--)n.unshift(tA(t,r))}(a.temporaryCount,r,u),a.usesImplicitReceiver&&e.notifyImplicitReceiverUse();const c=u.length-1;let l=null;if(c>=0){const e=function(e){if(e instanceof L_)return e.expr;if(e instanceof F_)return e.value;return null}(u[c]);e&&(l=function(e){return Z_(`pd_${e}`)}(r),u[c]=l.set(e.cast(Qb).notIdentical(aE(!1))).toDeclStmt(null,[P_.Final]))}return new GI(u,l)}function YI(e,t){return function(e,t){const n=new iA(e);return t.visit(n)}(e,t)}class XI{constructor(e,t){this.stmts=e,this.currValExpr=t}}function JI(e,t,n,r,i,s){e||(e=new oA);const o=function(e){return Z_(`currVal_${e}`)}(r),a=new sA(e,t,r,s),u=n.visit(a,$I.Expression),c=ZI(a,r);return a.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),0===a.temporaryCount&&i==qI.TrySimple?new XI([],u):(c.push(o.set(u).toDeclStmt(Qb,[P_.Final])),new XI(c,o))}function ZI(e,t){const n=[];for(let r=0;r<e.temporaryCount;r++)n.push(tA(t,r));return n}function eA(e,t){return`tmp_${e}_${t}`}function tA(e,t){return new O_(eA(e,t),N_)}function nA(e,t){if(e!==$I.Expression)throw new Error(`Expected an expression, but saw ${t}`)}function rA(e,t){return e===$I.Statement?t.toStmt():t}!function(e){e[e.General=0]="General",e[e.TrySimple=1]="TrySimple"}(qI||(qI={})),function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}($I||($I={}));class iA extends VI{constructor(e){super(),this._converterFactory=e}visitPipe(e,t){const n=[e.exp,...e.args].map(e=>e.visit(this,t));return new aA(e.span,n,this._converterFactory.createPipeConverter(e.name,n.length))}visitLiteralArray(e,t){const n=e.expressions.map(e=>e.visit(this,t));return new aA(e.span,n,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}visitLiteralMap(e,t){const n=e.values.map(e=>e.visit(this,t));return new aA(e.span,n,this._converterFactory.createLiteralMapConverter(e.keys))}}class sA{constructor(e,t,n,r,i){this._localResolver=e,this._implicitReceiver=t,this.bindingId=n,this.interpolationFunction=r,this.baseSourceSpan=i,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitBinary(e,t){let n;switch(e.operation){case"+":n=e_.Plus;break;case"-":n=e_.Minus;break;case"*":n=e_.Multiply;break;case"/":n=e_.Divide;break;case"%":n=e_.Modulo;break;case"&&":n=e_.And;break;case"||":n=e_.Or;break;case"==":n=e_.Equals;break;case"!=":n=e_.NotEquals;break;case"===":n=e_.Identical;break;case"!==":n=e_.NotIdentical;break;case"<":n=e_.Lower;break;case">":n=e_.Bigger;break;case"<=":n=e_.LowerEquals;break;case">=":n=e_.BiggerEquals;break;default:throw new Error(`Unsupported operation ${e.operation}`)}return rA(t,new S_(n,this._visit(e.left,$I.Expression),this._visit(e.right,$I.Expression),void 0,this.convertSourceSpan(e.span)))}visitChain(e,t){return function(e,t){if(e!==$I.Statement)throw new Error(`Expected a statement, but saw ${t}`)}(t,e),this.visitAll(e.expressions,t)}visitConditional(e,t){return rA(t,this._visit(e.condition,$I.Expression).conditional(this._visit(e.trueExp,$I.Expression),this._visit(e.falseExp,$I.Expression),this.convertSourceSpan(e.span)))}visitPipe(e,t){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${e.name}`)}visitFunctionCall(e,t){const n=this.visitAll(e.args,$I.Expression);let r;return rA(t,r=e instanceof aA?e.converter(n):this._visit(e.target,$I.Expression).callFn(n,this.convertSourceSpan(e.span)))}visitImplicitReceiver(e,t){return nA(t,e),this.usesImplicitReceiver=!0,this._implicitReceiver}visitInterpolation(e,t){nA(t,e);const n=[aE(e.expressions.length)];for(let r=0;r<e.strings.length-1;r++)n.push(aE(e.strings[r])),n.push(this._visit(e.expressions[r],$I.Expression));return n.push(aE(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):e.expressions.length<=9?eE(VE.inlineInterpolate).callFn(n):eE(VE.interpolate).callFn([n[0],rE(n.slice(1),void 0,this.convertSourceSpan(e.span))])}visitKeyedRead(e,t){const n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):rA(t,this._visit(e.obj,$I.Expression).key(this._visit(e.key,$I.Expression)))}visitKeyedWrite(e,t){const n=this._visit(e.obj,$I.Expression),r=this._visit(e.key,$I.Expression),i=this._visit(e.value,$I.Expression);return rA(t,n.key(r).set(i))}visitLiteralArray(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(e,t){const n=null===e.value||void 0===e.value||!0===e.value||!0===e.value?Yb:void 0;return rA(t,aE(e.value,n,this.convertSourceSpan(e.span)))}_getLocal(e){return this._localResolver.getLocal(e)}visitMethodCall(e,t){if(e.receiver instanceof mI&&"$any"==e.name){const t=this.visitAll(e.args,$I.Expression);if(1!=t.length)throw new Error(`Invalid call to $any, expected 1 argument but received ${t.length||"none"}`);return t[0].cast(Qb,this.convertSourceSpan(e.span))}const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{const n=this.visitAll(e.args,$I.Expression),r=this.usesImplicitReceiver;let i=null;const s=this._visit(e.receiver,$I.Expression);if(s===this._implicitReceiver){const t=this._getLocal(e.name);t&&(this.usesImplicitReceiver=r,i=t.callFn(n))}return null==i&&(i=s.callMethod(e.name,n,this.convertSourceSpan(e.span))),rA(t,i)}}visitPrefixNot(e,t){return rA(t,(n=this._visit(e.expression,$I.Expression),new y_(n,r)));var n,r}visitNonNullAssert(e,t){return rA(t,(n=this._visit(e.expression,$I.Expression),new w_(n,r)));var n,r}visitPropertyRead(e,t){const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{let n=null;const r=this.usesImplicitReceiver,i=this._visit(e.receiver,$I.Expression);return i===this._implicitReceiver&&(n=this._getLocal(e.name))&&(this.usesImplicitReceiver=r),null==n&&(n=i.prop(e.name)),rA(t,n)}}visitPropertyWrite(e,t){const n=this._visit(e.receiver,$I.Expression),r=this.usesImplicitReceiver;let i=null;if(n===this._implicitReceiver){const t=this._getLocal(e.name);if(t){if(!(t instanceof C_))throw new Error("Cannot assign to a reference or variable!");i=t,this.usesImplicitReceiver=r}}return null===i&&(i=n.prop(e.name)),rA(t,i.set(this._visit(e.value,$I.Expression)))}visitSafePropertyRead(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitSafeMethodCall(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitAll(e,t){return e.map(e=>this._visit(e,t))}visitQuote(e,t){throw new Error(`Quotes are not supported for evaluation!\n        Statement: ${e.uninterpretedExpression} located at ${e.location}`)}_visit(e,t){const n=this._resultMap.get(e);return n||(this._nodeMap.get(e)||e).visit(this,t)}convertSafeAccess(e,t,n){let r=this._visit(t.receiver,$I.Expression),i=void 0;this.needsTemporary(t.receiver)&&(r=(i=this.allocateTemporary()).set(r),this._resultMap.set(t.receiver,i));const s=r.isBlank();t instanceof PI?this._nodeMap.set(t,new kI(t.span,t.receiver,t.name,t.args)):this._nodeMap.set(t,new yI(t.span,t.receiver,t.name));const o=this._visit(e,$I.Expression);return this._nodeMap.delete(t),i&&this.releaseTemporary(i),rA(n,s.conditional(aE(null),o))}leftMostSafeNode(e){const t=(e,t)=>(this._nodeMap.get(t)||t).visit(e);return e.visit({visitBinary:e=>null,visitChain:e=>null,visitConditional:e=>null,visitFunctionCall:e=>null,visitImplicitReceiver:e=>null,visitInterpolation:e=>null,visitKeyedRead(e){return t(this,e.obj)},visitKeyedWrite:e=>null,visitLiteralArray:e=>null,visitLiteralMap:e=>null,visitLiteralPrimitive:e=>null,visitMethodCall(e){return t(this,e.receiver)},visitPipe:e=>null,visitPrefixNot:e=>null,visitNonNullAssert:e=>null,visitPropertyRead(e){return t(this,e.receiver)},visitPropertyWrite:e=>null,visitQuote:e=>null,visitSafeMethodCall(e){return t(this,e.receiver)||e},visitSafePropertyRead(e){return t(this,e.receiver)||e}})}needsTemporary(e){const t=(e,t)=>t&&(this._nodeMap.get(t)||t).visit(e);return e.visit({visitBinary(e){return t(this,e.left)||t(this,e.right)},visitChain:e=>!1,visitConditional(e){return t(this,e.condition)||t(this,e.trueExp)||t(this,e.falseExp)},visitFunctionCall:e=>!0,visitImplicitReceiver:e=>!1,visitInterpolation(e){return((e,n)=>n.some(n=>t(e,n)))(this,e.expressions)},visitKeyedRead:e=>!1,visitKeyedWrite:e=>!1,visitLiteralArray:e=>!0,visitLiteralMap:e=>!0,visitLiteralPrimitive:e=>!1,visitMethodCall:e=>!0,visitPipe:e=>!0,visitPrefixNot(e){return t(this,e.expression)},visitNonNullAssert(e){return t(this,e.expression)},visitPropertyRead:e=>!1,visitPropertyWrite:e=>!1,visitQuote:e=>!1,visitSafeMethodCall:e=>!0,visitSafePropertyRead:e=>!1})}allocateTemporary(){const e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new o_(eA(this.bindingId,e))}releaseTemporary(e){if(this._currentTemporary--,e.name!=eA(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${e.name} released out of order`)}convertSourceSpan(e){if(this.baseSourceSpan){const t=this.baseSourceSpan.start.moveBy(e.start),n=this.baseSourceSpan.start.moveBy(e.end);return new CC(t,n)}return null}}class oA{notifyImplicitReceiverUse(){}getLocal(e){return e===KI.event.name?KI.event:null}}class aA extends MI{constructor(e,t,n){super(e,null,t),this.args=t,this.converter=n}}class uA{constructor(){this.strictStyling=!0}shimCssText(e,t,n=""){const r=e.match(IA)||[];return e=function(e){return e.replace(xA,"")}(e),e=this._insertDirectives(e),[this._scopeCssText(e,t,n),...r].join("\n")}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_insertPolyfillDirectivesInCssText(e){return e.replace(lA,(function(...e){return e[2]+"{"}))}_insertPolyfillRulesInCssText(e){return e.replace(hA,(...e)=>{const t=e[0].replace(e[1],"").replace(e[2],"");return e[4]+t})}_scopeCssText(e,t,n){const r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,n)),(e=e+"\n"+r).trim()}_extractUnscopedRulesFromCssText(e){let t,n="";for(pA.lastIndex=0;null!==(t=pA.exec(e));){n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n"}return n}_convertColonHost(e){return this._convertColonRule(e,gA,this._colonHostPartReplacer)}_convertColonHostContext(e){return this._convertColonRule(e,vA,this._colonHostContextPartReplacer)}_convertColonRule(e,t,n){return e.replace(t,(function(...e){if(e[2]){const t=e[2].split(","),r=[];for(let i=0;i<t.length;i++){const s=t[i].trim();if(!s)break;r.push(n(yA,s,e[3]))}return r.join(",")}return yA+e[3]}))}_colonHostContextPartReplacer(e,t,n){return t.indexOf(dA)>-1?this._colonHostPartReplacer(e,t,n):e+t+n+", "+t+" "+e+n}_colonHostPartReplacer(e,t,n){return e+t.replace(dA,"")+n}_convertShadowDOMSelectors(e){return bA.reduce((e,t)=>e.replace(t," "),e)}_scopeSelectors(e,t,n){return function(e,t){const n=function(e){const t=e.split(DA),n=[],r=[];let i=0,s=[];for(let o=0;o<t.length;o++){const e=t[o];e==kA&&i--,i>0?s.push(e):(s.length>0&&(r.push(s.join("")),n.push(PA),s=[]),n.push(e)),e==NA&&i++}s.length>0&&(r.push(s.join("")),n.push(PA));return new OA(n.join(""),r)}(e);let r=0;return n.escapedString.replace(AA,(function(...e){const i=e[2];let s="",o=e[4],a="";o&&o.startsWith("{"+PA)&&(s=n.blocks[r++],o=o.substring(PA.length+1),a="{");const u=t(new MA(i,s));return`${e[1]}${u.selector}${e[3]}${a}${u.content}${o}`}))}(e,e=>{let r=e.selector,i=e.content;return"@"!=e.selector[0]?r=this._scopeSelector(e.selector,t,n,this.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(i=this._scopeSelectors(e.content,t,n)),new MA(r,i)})}_scopeSelector(e,t,n,r){return e.split(",").map(e=>e.trim().split(_A)).map(e=>{const[i,...s]=e;return[(e=>this._selectorNeedsScoping(e,t)?r?this._applyStrictSelectorScope(e,t,n):this._applySelectorScope(e,t,n):e)(i),...s].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+EA,"m")}_applySelectorScope(e,t,n){return this._applySimpleSelectorScope(e,t,n)}_applySimpleSelectorScope(e,t,n){if(SA.lastIndex=0,SA.test(e)){const r=this.strictStyling?`[${n}]`:t;return e.replace(wA,(e,t)=>t.replace(/([^:]*)(:*)(.*)/,(e,t,n,i)=>t+r+n+i)).replace(SA,r+" ")}return t+" "+e}_applyStrictSelectorScope(e,t,n){const r="["+(t=t.replace(/\[is=([^\]]*)\]/g,(e,...t)=>t[0]))+"]",i=e=>{let i=e.trim();if(!i)return"";if(e.indexOf(yA)>-1)i=this._applySimpleSelectorScope(e,t,n);else{const t=e.replace(SA,"");if(t.length>0){const e=t.match(/([^:]*)(:*)(.*)/);e&&(i=e[1]+r+e[2]+e[3])}}return i},s=new cA(e);let o,a="",u=0;const c=/( |>|\+|~(?!=))\s*/g;let l=!((e=s.content()).indexOf(yA)>-1);for(;null!==(o=c.exec(e));){const t=o[1],n=e.slice(u,o.index).trim();a+=`${(l=l||n.indexOf(yA)>-1)?i(n):n} ${t} `,u=c.lastIndex}const h=e.substring(u);return a+=(l=l||h.indexOf(yA)>-1)?i(h):h,s.restore(a)}_insertPolyfillHostInCssText(e){return e.replace(TA,fA).replace(CA,dA)}}class cA{constructor(e){this.placeholders=[],this.index=0,e=e.replace(/(\[[^\]]*\])/g,(e,t)=>{const n=`__ph-${this.index}__`;return this.placeholders.push(t),this.index++,n}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(e,t,n)=>{const r=`__ph-${this.index}__`;return this.placeholders.push(n),this.index++,t+r})}restore(e){return e.replace(/__ph-(\d+)__/g,(e,t)=>this.placeholders[+t])}content(){return this._content}}const lA=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,hA=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,pA=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,dA="-shadowcsshost",fA="-shadowcsscontext",mA=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",gA=new RegExp("("+dA+mA,"gim"),vA=new RegExp("("+fA+mA,"gim"),yA=dA+"-no-combinator",wA=/-shadowcsshost-no-combinator([^\s]*)/,bA=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_A=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,EA="([>\\s~+[.,{:][\\s\\S]*)?$",SA=/-shadowcsshost/gim,CA=/:host/gim,TA=/:host-context/gim,xA=/\/\*\s*[\s\S]*?\*\//g;const IA=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;const AA=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,DA=/([{}])/g,NA="{",kA="}",PA="%BLOCK%";class MA{constructor(e,t){this.selector=e,this.content=t}}class OA{constructor(e,t){this.escapedString=e,this.blocks=t}}const RA="_nghost-%COMP%",LA="_ngcontent-%COMP%";class FA{constructor(e,t,n){this.name=e,this.moduleUrl=t,this.setValue=n}}class VA{constructor(e,t,n,r,i){this.outputCtx=e,this.stylesVar=t,this.dependencies=n,this.isShimmed=r,this.meta=i}}class BA{constructor(e){this._urlResolver=e,this._shadowCss=new uA}compileComponent(e,t){const n=t.template;return this._compileStyles(e,t,new eS({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:KE(t.type)}),this.needsStyleShim(t),!0)}compileStyles(e,t,n,r=this.needsStyleShim(t)){return this._compileStyles(e,t,n,r,!1)}needsStyleShim(e){return e.template.encapsulation===bb.Emulated}_compileStyles(e,t,n,r,i){const s=n.styles.map(e=>aE(this._shimIfNeeded(e,r))),o=[];n.styleUrls.forEach(t=>{const n=s.length;s.push(null),o.push(new FA(UA(null),t,t=>s[n]=e.importExpr(t)))});const a=UA(i?t:null),u=Z_(a).set(rE(s,new Kb(Qb,[qb.Const]))).toDeclStmt(null,i?[P_.Final]:[P_.Final,P_.Exported]);return e.statements.push(u),new VA(e,a,o,r,n)}_shimIfNeeded(e,t){return t?this._shadowCss.shimCssText(e,LA,RA):e}}function UA(e){let t="styles";return e&&(t+=`_${WE(e.type)}`),t}class jA{constructor(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}visit(e,t){return e.visitText(this,t)}}class qA{constructor(e,t,n,r,i,s){this.switchValue=e,this.type=t,this.cases=n,this.sourceSpan=r,this.switchValueSourceSpan=i,this.i18n=s}visit(e,t){return e.visitExpansion(this,t)}}class $A{constructor(e,t,n,r,i){this.value=e,this.expression=t,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}visit(e,t){return e.visitExpansionCase(this,t)}}class HA{constructor(e,t,n,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=r,this.i18n=i}visit(e,t){return e.visitAttribute(this,t)}}class zA{constructor(e,t,n,r,i=null,s=null,o){this.name=e,this.attrs=t,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=s,this.i18n=o}visit(e,t){return e.visitElement(this,t)}}class WA{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}}function KA(e,t,n=null){const r=[],i=e.visit?t=>e.visit(t,n)||t.visit(e,n):t=>t.visit(e,n);return t.forEach(e=>{const t=i(e);t&&r.push(t)}),r}var GA;!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_QUOTE=12]="ATTR_QUOTE",e[e.ATTR_VALUE=13]="ATTR_VALUE",e[e.DOC_TYPE=14]="DOC_TYPE",e[e.EXPANSION_FORM_START=15]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=16]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=17]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=18]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=19]="EXPANSION_FORM_END",e[e.EOF=20]="EOF"}(GA||(GA={}));class QA{constructor(e,t,n){this.type=e,this.parts=t,this.sourceSpan=n}}class YA extends IC{constructor(e,t,n){super(n,e),this.tokenType=t}}class XA{constructor(e,t){this.tokens=e,this.errors=t}}const JA=/\r\n?/g;function ZA(e){return`Unexpected character "${e===dS?"EOF":String.fromCharCode(e)}"`}function eD(e){return`Unknown entity "${e}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}class tD{constructor(e){this.error=e}}class nD{constructor(e,t,n){this._getTagDefinition=t,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._tokenizeIcu=n.tokenizeExpansionForms||!1,this._interpolationConfig=n.interpolationConfig||Bx,this._leadingTriviaCodePoints=n.leadingTriviaChars&&n.leadingTriviaChars.map(e=>e.codePointAt(0)||0);const r=n.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=n.escapedString?new cD(e,r):new uD(e,r);try{this._cursor.init()}catch(i){this.handleError(i)}}_processCarriageReturns(e){return e.replace(JA,"\n")}tokenize(){for(;this._cursor.peek()!==dS;){const t=this._cursor.clone();try{this._attemptCharCode(VS)?this._attemptCharCode(_S)?this._attemptCharCode(YS)?this._consumeCdata(t):this._attemptCharCode(MS)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(RS)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){this.handleError(e)}}return this._beginToken(GA.EOF),this._endToken([]),new XA(function(e){const t=[];let n=void 0;for(let r=0;r<e.length;r++){const i=e[r];n&&n.type==GA.TEXT&&i.type==GA.TEXT?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,t.push(n))}return t}(this.tokens),this.errors)}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(((e=this._cursor.peek())===BS||wC(e)||yC(e))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var e;if(this._cursor.peek()===fC){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t=this._cursor.clone()){if(null===this._currentTokenStart)throw new YA("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(null===this._currentTokenType)throw new YA("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));const n=new QA(this._currentTokenType,e,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n}_createError(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const n=new YA(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new tD(n)}handleError(e){if(e instanceof lD&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof tD))throw e;this.errors.push(e.error)}_attemptCharCode(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(e){return t=this._cursor.peek(),n=e,aD(t)==aD(n)&&(this._cursor.advance(),!0);var t,n}_requireCharCode(e){const t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(ZA(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){const t=e.length;if(this._cursor.charsLeft()<t)return!1;const n=this._cursor.clone();for(let r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=n,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){const t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(ZA(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){const n=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.clone().diff(n)<t)throw this._createError(ZA(this._cursor.peek()),this._cursor.getSpan(n))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(e){if(e&&this._cursor.peek()===xS)return this._decodeEntity();{const e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}}_decodeEntity(){const e=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(SS)){const t=this._cursor.clone();if(this._attemptCharCodeUntilFn(oD),this._cursor.peek()!=FS)return this._cursor=t,"&";const n=this._cursor.getChars(t);this._cursor.advance();const r=tb[n];if(!r)throw this._createError(eD(n),this._cursor.getSpan(e));return r}{const n=this._attemptCharCode(lC)||this._attemptCharCode(GS),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(sD),this._cursor.peek()!=FS)throw this._createError(ZA(this._cursor.peek()),this._cursor.getSpan());const i=this._cursor.getChars(r);this._cursor.advance();try{const e=parseInt(i,n?16:10);return String.fromCharCode(e)}catch(t){throw this._createError(eD(this._cursor.getChars(e)),this._cursor.getSpan())}}}_consumeRawText(e,t){this._beginToken(e?GA.ESCAPABLE_RAW_TEXT:GA.RAW_TEXT);const n=[];for(;;){const r=this._cursor.clone(),i=t();if(this._cursor=r,i)break;n.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(n.join(""))])}_consumeComment(e){this._beginToken(GA.COMMENT_START,e),this._requireCharCode(MS),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("--\x3e")),this._beginToken(GA.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(e){this._beginToken(GA.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(GA.CDATA_END),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(GA.DOC_TYPE,e);const t=this._cursor.clone();this._attemptUntilChar(US);const n=this._cursor.getChars(t);this._cursor.advance(),this._endToken([n])}_consumePrefixAndName(){const e=this._cursor.clone();let t="";for(;this._cursor.peek()!==LS&&!(((n=this._cursor.peek())<tC||hC<n)&&(n<zS||QS<n)&&(n<qS||n>HS));)this._cursor.advance();var n;let r;return this._cursor.peek()===LS?(t=this._cursor.getChars(e),this._cursor.advance(),r=this._cursor.clone()):r=e,this._requireCharCodeUntilFn(iD,""===t?0:1),[t,this._cursor.getChars(r)]}_consumeTagOpen(e){let t,n,r,i=this.tokens.length;const s=this._cursor.clone();try{if(!wC(this._cursor.peek()))throw this._createError(ZA(this._cursor.peek()),this._cursor.getSpan(e));for(n=(r=this._consumeTagOpenStart(e)).parts[0],t=r.parts[1],this._attemptCharCodeUntilFn(rD);this._cursor.peek()!==RS&&this._cursor.peek()!==US;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(rD),this._attemptCharCode(BS)&&(this._attemptCharCodeUntilFn(rD),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(rD);this._consumeTagOpenEnd()}catch(a){if(a instanceof tD)return this._cursor=s,r&&(this.tokens.length=i),this._beginToken(GA.TEXT,e),void this._endToken(["<"]);throw a}const o=this._getTagDefinition(t).contentType;o===Gw.RAW_TEXT?this._consumeRawTextWithTagClose(n,t,!1):o===Gw.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,t,!0)}_consumeRawTextWithTagClose(e,t,n){this._consumeRawText(n,()=>!!this._attemptCharCode(VS)&&(!!this._attemptCharCode(RS)&&(this._attemptCharCodeUntilFn(rD),!!this._attemptStrCaseInsensitive(t)&&(this._attemptCharCodeUntilFn(rD),this._attemptCharCode(US)))));this._beginToken(GA.TAG_CLOSE),this._requireCharCodeUntilFn(e=>e===US,3),this._cursor.advance(),this._endToken([e,t])}_consumeTagOpenStart(e){this._beginToken(GA.TAG_OPEN_START,e);const t=this._consumePrefixAndName();return this._endToken(t)}_consumeAttributeName(){const e=this._cursor.peek();if(e===IS||e===ES)throw this._createError(ZA(e),this._cursor.getSpan());this._beginToken(GA.ATTR_NAME);const t=this._consumePrefixAndName();this._endToken(t)}_consumeAttributeValue(){let e;if(this._cursor.peek()===IS||this._cursor.peek()===ES){this._beginToken(GA.ATTR_QUOTE);const t=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(t)]),this._beginToken(GA.ATTR_VALUE);const n=[];for(;this._cursor.peek()!==t;)n.push(this._readChar(!0));e=n.join(""),this._endToken([this._processCarriageReturns(e)]),this._beginToken(GA.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(t)])}else{this._beginToken(GA.ATTR_VALUE);const t=this._cursor.clone();this._requireCharCodeUntilFn(iD,1),e=this._cursor.getChars(t),this._endToken([this._processCarriageReturns(e)])}}_consumeTagOpenEnd(){const e=this._attemptCharCode(RS)?GA.TAG_OPEN_END_VOID:GA.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(US),this._endToken([])}_consumeTagClose(e){this._beginToken(GA.TAG_CLOSE,e),this._attemptCharCodeUntilFn(rD);const t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(rD),this._requireCharCode(US),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(GA.EXPANSION_FORM_START),this._requireCharCode(pC),this._endToken([]),this._expansionCaseStack.push(GA.EXPANSION_FORM_START),this._beginToken(GA.RAW_TEXT);const e=this._readUntil(PS);this._endToken([e]),this._requireCharCode(PS),this._attemptCharCodeUntilFn(rD),this._beginToken(GA.RAW_TEXT);const t=this._readUntil(PS);this._endToken([t]),this._requireCharCode(PS),this._attemptCharCodeUntilFn(rD)}_consumeExpansionCaseStart(){this._beginToken(GA.EXPANSION_CASE_VALUE);const e=this._readUntil(pC).trim();this._endToken([e]),this._attemptCharCodeUntilFn(rD),this._beginToken(GA.EXPANSION_CASE_EXP_START),this._requireCharCode(pC),this._endToken([]),this._attemptCharCodeUntilFn(rD),this._expansionCaseStack.push(GA.EXPANSION_CASE_EXP_START)}_consumeExpansionCaseEnd(){this._beginToken(GA.EXPANSION_CASE_EXP_END),this._requireCharCode(fC),this._endToken([]),this._attemptCharCodeUntilFn(rD),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(GA.EXPANSION_FORM_END),this._requireCharCode(fC),this._endToken([]),this._expansionCaseStack.pop()}_consumeText(){const e=this._cursor.clone();this._beginToken(GA.TEXT,e);const t=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])}_isTextEnd(){if(this._cursor.peek()===VS||this._cursor.peek()===dS)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(this._cursor.peek()===fC&&this._isInExpansionCase())return!0}return!1}_readUntil(e){const t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===GA.EXPANSION_CASE_EXP_START}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===GA.EXPANSION_FORM_START}isExpansionFormStart(){if(this._cursor.peek()!==pC)return!1;if(this._interpolationConfig){const e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}}function rD(e){return!vC(e)||e===dS}function iD(e){return vC(e)||e===US||e===RS||e===IS||e===ES||e===BS}function sD(e){return e==FS||e==dS||!function(e){return e>=tC&&e<=iC||e>=zS&&e<=KS||yC(e)}(e)}function oD(e){return e==FS||e==dS||!wC(e)}function aD(e){return e>=tC&&e<=hC?e-tC+zS:e}class uD{constructor(e,t){if(e instanceof uD)this.file=e.file,this.input=e.input,this.end=e.end,this.state=Object.assign({},e.state);else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new uD(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){if(e=e||this,t)for(e=e.clone();this.diff(e)>0&&-1!==t.indexOf(e.peek());)e.advance();return new CC(new EC(e.file,e.state.offset,e.state.line,e.state.column),new EC(this.file,this.state.offset,this.state.line,this.state.column))}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new lD('Unexpected character "EOF"',this);const t=this.charAt(e.offset);t===gS?(e.line++,e.column=0):bC(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?dS:this.charAt(e.offset)}}class cD extends uD{constructor(e,t){e instanceof cD?(super(e),this.internalState=Object.assign({},e.internalState)):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new cD(this)}getChars(e){const t=e.clone();let n="";for(;t.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(t.peek()),t.advance();return n}processEscapeSequence(){const e=()=>this.internalState.peek;if(e()===XS)if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),e()===sC)this.state.peek=gS;else if(e()===oC)this.state.peek=wS;else if(e()===cC)this.state.peek=vS;else if(e()===aC)this.state.peek=mS;else if(e()===nC)this.state.peek=fS;else if(e()===iC)this.state.peek=yS;else if(e()===uC)if(this.advanceState(this.internalState),e()===pC){this.advanceState(this.internalState);const t=this.clone();let n=0;for(;e()!==fC;)this.advanceState(this.internalState),n++;this.state.peek=this.decodeHexDigits(t,n)}else{const e=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,4)}else if(e()===lC){this.advanceState(this.internalState);const e=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,2)}else if(_C(e())){let t="",n=0,r=this.clone();for(;_C(e())&&n<3;)r=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),n++;this.state.peek=parseInt(t,8),this.internalState=r.internalState}else bC(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){const n=this.input.substr(e.internalState.offset,t),r=parseInt(n,16);if(isNaN(r))throw e.state=e.internalState,new lD("Invalid hexadecimal escape sequence",e);return r}}class lD{constructor(e,t){this.msg=e,this.cursor=t}}class hD extends IC{constructor(e,t,n){super(t,n),this.elementName=e}static create(e,t,n){return new hD(e,t,n)}}class pD{constructor(e,t){this.rootNodes=e,this.errors=t}}class dD{constructor(e){this.getTagDefinition=e}parse(e,t,n){const r=function(e,t,n,r={}){return new nD(new SC(e,t),n,r).tokenize()}(e,t,this.getTagDefinition,n),i=new fD(r.tokens,this.getTagDefinition).build();return new pD(i.rootNodes,r.errors.concat(i.errors))}}class fD{constructor(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}build(){for(;this._peek.type!==GA.EOF;)this._peek.type===GA.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===GA.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===GA.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===GA.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===GA.TEXT||this._peek.type===GA.RAW_TEXT||this._peek.type===GA.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===GA.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new pD(this._rootNodes,this._errors)}_advance(){const e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(GA.CDATA_END)}_consumeComment(e){const t=this._advanceIf(GA.RAW_TEXT);this._advanceIf(GA.COMMENT_END);const n=null!=t?t.parts[0].trim():null;this._addToParent(new WA(n,e.sourceSpan))}_consumeExpansion(e){const t=this._advance(),n=this._advance(),r=[];for(;this._peek.type===GA.EXPANSION_CASE_VALUE;){const e=this._parseExpansionCase();if(!e)return;r.push(e)}if(this._peek.type!==GA.EXPANSION_FORM_END)return void this._errors.push(hD.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const i=new CC(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new qA(t.parts[0],n.parts[0],r,i,t.sourceSpan)),this._advance()}_parseExpansionCase(){const e=this._advance();if(this._peek.type!==GA.EXPANSION_CASE_EXP_START)return this._errors.push(hD.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const t=this._advance(),n=this._collectExpansionExpTokens(t);if(!n)return null;const r=this._advance();n.push(new QA(GA.EOF,[],r.sourceSpan));const i=new fD(n,this.getTagDefinition).build();if(i.errors.length>0)return this._errors=this._errors.concat(i.errors),null;const s=new CC(e.sourceSpan.start,r.sourceSpan.end),o=new CC(t.sourceSpan.start,r.sourceSpan.end);return new $A(e.parts[0],i.rootNodes,s,e.sourceSpan,o)}_collectExpansionExpTokens(e){const t=[],n=[GA.EXPANSION_CASE_EXP_START];for(;;){if(this._peek.type!==GA.EXPANSION_FORM_START&&this._peek.type!==GA.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===GA.EXPANSION_CASE_EXP_END){if(!mD(n,GA.EXPANSION_CASE_EXP_START))return this._errors.push(hD.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this._peek.type===GA.EXPANSION_FORM_END){if(!mD(n,GA.EXPANSION_FORM_START))return this._errors.push(hD.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===GA.EOF)return this._errors.push(hD.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=e.parts[0];if(t.length>0&&"\n"==t[0]){const e=this._getParentElement();null!=e&&0==e.children.length&&this.getTagDefinition(e.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new jA(t,e.sourceSpan))}_closeVoidElement(){const e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}_consumeStartTag(e){const t=e.parts[0],n=e.parts[1],r=[];for(;this._peek.type===GA.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));const i=this._getElementFullName(t,n,this._getParentElement());let s=!1;if(this._peek.type===GA.TAG_OPEN_END_VOID){this._advance(),s=!0;const t=this.getTagDefinition(i);t.canSelfClose||null!==Zw(i)||t.isVoid||this._errors.push(hD.create(i,e.sourceSpan,`Only void and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===GA.TAG_OPEN_END&&(this._advance(),s=!1);const o=this._peek.sourceSpan.start,a=new CC(e.sourceSpan.start,o),u=new zA(i,r,[],a,a,void 0);this._pushElement(u),s&&(this._popElement(i),u.endSourceSpan=a)}_pushElement(e){const t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)}_consumeEndTag(e){const t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid)this._errors.push(hD.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popElement(t)){const n=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this._errors.push(hD.create(t,e.sourceSpan,n))}}_popElement(e){for(let t=this._elementStack.length-1;t>=0;t--){const n=this._elementStack[t];if(n.name==e)return this._elementStack.splice(t,this._elementStack.length-t),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1}_consumeAttr(e){const t=eb(e.parts[0],e.parts[1]);let n=e.sourceSpan.end,r="",i=void 0;if(this._peek.type===GA.ATTR_QUOTE&&this._advance(),this._peek.type===GA.ATTR_VALUE){const e=this._advance();r=e.parts[0],n=e.sourceSpan.end,i=e.sourceSpan}if(this._peek.type===GA.ATTR_QUOTE){n=this._advance().sourceSpan.end}return new HA(t,r,new CC(e.sourceSpan.start,n),i)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_getParentElementSkippingContainers(){let e=null;for(let t=this._elementStack.length-1;t>=0;t--){if(!Yw(this._elementStack[t].name))return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:null,container:e}}_addToParent(e){const t=this._getParentElement();null!=t?t.children.push(e):this._rootNodes.push(e)}_insertBeforeContainer(e,t,n){if(t){if(e){const r=e.children.indexOf(t);e.children[r]=n}else this._rootNodes.push(n);n.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,n)}else this._addToParent(n),this._elementStack.push(n)}_getElementFullName(e,t,n){return""===e&&""===(e=this.getTagDefinition(t).implicitNamespacePrefix||"")&&null!=n&&(e=Zw(n.name)),eb(e,t)}}function mD(e,t){return e.length>0&&e[e.length-1]===t}class gD extends dD{constructor(){super(ob)}parse(e,t,n){return super.parse(e,t,n)}}const vD="ngPreserveWhitespaces",yD=new Set(["pre","template","textarea","script","style"]),wD=" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff",bD=new RegExp(`[^${wD}]`),_D=new RegExp(`[${wD}]{2,}`,"g");function ED(e){return e.replace(new RegExp(nb,"g")," ")}class SD{visitElement(e,t){return yD.has(e.name)||e.attrs.some(e=>e.name===vD)?new zA(e.name,KA(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new zA(e.name,e.attrs,KA(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,t){return e.name!==vD?e:null}visitText(e,t){return e.value.match(bD)?new jA(ED(e.value).replace(_D," "),e.sourceSpan,e.i18n):null}visitComment(e,t){return e}visitExpansion(e,t){return e}visitExpansionCase(e,t){return e}}function CD(e){return new pD(KA(new SD,e.rootNodes),e.errors)}const TD=["zero","one","two","few","many","other"];function xD(e){const t=new DD;return new ID(KA(t,e),t.isExpanded,t.errors)}class ID{constructor(e,t,n){this.nodes=e,this.expanded=t,this.errors=n}}class AD extends IC{constructor(e,t){super(e,t)}}class DD{constructor(){this.isExpanded=!1,this.errors=[]}visitElement(e,t){return new zA(e.name,e.attrs,KA(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitAttribute(e,t){return e}visitText(e,t){return e}visitComment(e,t){return e}visitExpansion(e,t){return this.isExpanded=!0,"plural"==e.type?function(e,t){const n=e.cases.map(e=>{-1!=TD.indexOf(e.value)||e.value.match(/^=\d+$/)||t.push(new AD(e.valueSourceSpan,`Plural cases should be "=<number>" or one of ${TD.join(", ")}`));const n=xD(e.expression);return t.push(...n.errors),new zA("ng-template",[new HA("ngPluralCase",`${e.value}`,e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),r=new HA("[ngPlural]",e.switchValue,e.switchValueSourceSpan);return new zA("ng-container",[r],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors):function(e,t){const n=e.cases.map(e=>{const n=xD(e.expression);return t.push(...n.errors),"other"===e.value?new zA("ng-template",[new HA("ngSwitchDefault","",e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan):new zA("ng-template",[new HA("ngSwitchCase",`${e.value}`,e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),r=new HA("[ngSwitch]",e.switchValue,e.switchValueSourceSpan);return new zA("ng-container",[r],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors)}visitExpansionCase(e,t){throw new Error("Should not be reached")}}class ND{constructor(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitText(this,t)}}class kD{constructor(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitBoundText(this,t)}}class PD{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}visit(e,t){return e.visitAttr(this,t)}}const MD={4:4,1:1,2:2,0:0,3:3};class OD{constructor(e,t,n,r,i,s){this.name=e,this.type=t,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=s,this.isAnimation=4===this.type}static fromBoundProperty(e){const t=MD[e.type];return new OD(e.name,t,e.securityContext,e.value,e.unit,e.sourceSpan)}visit(e,t){return e.visitElementProperty(this,t)}}class RD{constructor(e,t,n,r,i,s){this.name=e,this.target=t,this.phase=n,this.handler=r,this.sourceSpan=i,this.handlerSpan=s,this.fullName=RD.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}static calcFullName(e,t,n){return t?`${t}:${e}`:n?`@${e}.${n}`:e}static fromParsedEvent(e){const t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;return new RD(e.name,t,n,e.handler,e.sourceSpan,e.handlerSpan)}visit(e,t){return e.visitEvent(this,t)}}class LD{constructor(e,t,n,r){this.name=e,this.value=t,this.originalValue=n,this.sourceSpan=r}visit(e,t){return e.visitReference(this,t)}}class FD{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}static fromParsedVariable(e){return new FD(e.name,e.value,e.sourceSpan)}visit(e,t){return e.visitVariable(this,t)}}class VD{constructor(e,t,n,r,i,s,o,a,u,c,l,h,p){this.name=e,this.attrs=t,this.inputs=n,this.outputs=r,this.references=i,this.directives=s,this.providers=o,this.hasViewContainer=a,this.queryMatches=u,this.children=c,this.ngContentIndex=l,this.sourceSpan=h,this.endSourceSpan=p}visit(e,t){return e.visitElement(this,t)}}class BD{constructor(e,t,n,r,i,s,o,a,u,c,l){this.attrs=e,this.outputs=t,this.references=n,this.variables=r,this.directives=i,this.providers=s,this.hasViewContainer=o,this.queryMatches=a,this.children=u,this.ngContentIndex=c,this.sourceSpan=l}visit(e,t){return e.visitEmbeddedTemplate(this,t)}}class UD{constructor(e,t,n,r){this.directiveName=e,this.templateName=t,this.value=n,this.sourceSpan=r}visit(e,t){return e.visitDirectiveProperty(this,t)}}class jD{constructor(e,t,n,r,i,s){this.directive=e,this.inputs=t,this.hostProperties=n,this.hostEvents=r,this.contentQueryStartId=i,this.sourceSpan=s}visit(e,t){return e.visitDirective(this,t)}}class qD{constructor(e,t,n,r,i,s,o,a){this.token=e,this.multiProvider=t,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=s,this.sourceSpan=o,this.isModule=a}visit(e,t){return null}}var $D;!function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}($D||($D={}));class HD{constructor(e,t,n){this.index=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitNgContent(this,t)}}function zD(e,t,n=null){const r=[],i=e.visit?t=>e.visit(t,n)||t.visit(e,n):t=>t.visit(e,n);return t.forEach(e=>{const t=i(e);t&&r.push(t)}),r}class WD extends IC{constructor(e,t){super(t,e)}}class KD{constructor(e,t){this.reflector=e,this.component=t,this.errors=[],this.viewQueries=function(e){let t=1;const n=new Map;e.viewQueries&&e.viewQueries.forEach(e=>ZD(n,{meta:e,queryId:t++}));return n}(t),this.viewProviders=new Map,t.viewProviders.forEach(e=>{null==this.viewProviders.get(ZE(e.token))&&this.viewProviders.set(ZE(e.token),!0)})}}class GD{constructor(e,t,n,r,i,s,o,a,u){this.viewContext=e,this._parent=t,this._isViewRoot=n,this._directiveAsts=r,this._sourceSpan=u,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},i.forEach(e=>this._attrs[e.name]=e.value);const c=r.map(e=>e.directive);if(this._allProviders=function(e,t,n){const r=new Map;return e.forEach(e=>{JD([{token:{identifier:e.type},useClass:e.type}],e.isComponent?$D.Component:$D.Directive,!0,t,n,r,!1)}),e.filter(e=>e.isComponent).concat(e.filter(e=>!e.isComponent)).forEach(e=>{JD(e.providers,$D.PublicService,!1,t,n,r,!1),JD(e.viewProviders,$D.PrivateService,!1,t,n,r,!1)}),r}(c,u,e.errors),this._contentQueries=function(e,t){let n=e;const r=new Map;return t.forEach((e,t)=>{e.queries&&e.queries.forEach(e=>ZD(r,{meta:e,queryId:n++}))}),r}(a,c),Array.from(this._allProviders.values()).forEach(e=>{this._addQueryReadsTo(e.token,e.token,this._queriedTokens)}),o){const e=UE(this.viewContext.reflector,VE.TemplateRef);this._addQueryReadsTo(e,e,this._queriedTokens)}s.forEach(e=>{let t=e.value||UE(this.viewContext.reflector,VE.ElementRef);this._addQueryReadsTo({value:e.name},t,this._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(VE.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(e=>{(e.eager||this._queriedTokens.get(ZE(e.token)))&&this._getOrCreateLocalProvider(e.providerType,e.token,!0)})}afterElement(){Array.from(this._allProviders.values()).forEach(e=>{this._getOrCreateLocalProvider(e.providerType,e.token,!1)})}get transformProviders(){const e=[],t=[];return this._transformedProviders.forEach(n=>{n.eager?t.push(n):e.push(n)}),e.concat(t)}get transformedDirectiveAsts(){const e=this.transformProviders.map(e=>e.token.identifier),t=this._directiveAsts.slice();return t.sort((t,n)=>e.indexOf(t.directive.type)-e.indexOf(n.directive.type)),t}get queryMatches(){const e=[];return this._queriedTokens.forEach(t=>{e.push(...t)}),e}_addQueryReadsTo(e,t,n){this._getQueriesFor(e).forEach(e=>{const r=e.meta.read||t,i=ZE(r);let s=n.get(i);s||(s=[],n.set(i,s)),s.push({queryId:e.queryId,value:r})})}_getQueriesFor(e){const t=[];let n,r=this,i=0;for(;null!==r;)(n=r._contentQueries.get(ZE(e)))&&t.push(...n.filter(e=>e.meta.descendants||i<=1)),r._directiveAsts.length>0&&i++,r=r._parent;return(n=this.viewContext.viewQueries.get(ZE(e)))&&t.push(...n),t}_getOrCreateLocalProvider(e,t,n){const r=this._allProviders.get(ZE(t));if(!r||(e===$D.Directive||e===$D.PublicService)&&r.providerType===$D.PrivateService||(e===$D.PrivateService||e===$D.PublicService)&&r.providerType===$D.Builtin)return null;let i=this._transformedProviders.get(ZE(t));if(i)return i;if(null!=this._seenProviders.get(ZE(t)))return this.viewContext.errors.push(new WD(`Cannot instantiate cyclic dependency! ${JE(t)}`,this._sourceSpan)),null;this._seenProviders.set(ZE(t),!0);const s=r.providers.map(e=>{let t=e.useValue,i=e.useExisting,s=void 0;if(null!=e.useExisting){const s=this._getDependency(r.providerType,{token:e.useExisting},n);null!=s.token?i=s.token:(i=null,t=s.value)}else if(e.useFactory){s=(e.deps||e.useFactory.diDeps).map(e=>this._getDependency(r.providerType,e,n))}else if(e.useClass){s=(e.deps||e.useClass.diDeps).map(e=>this._getDependency(r.providerType,e,n))}return YD(e,{useExisting:i,useValue:t,deps:s})});return i=XD(r,{eager:n,providers:s}),this._transformedProviders.set(ZE(t),i),i}_getLocalDependency(e,t,n=!1){if(t.isAttribute){const e=this._attrs[t.token.value];return{isValue:!0,value:null==e?null:e}}if(null!=t.token){if(e===$D.Directive||e===$D.Component){if(ZE(t.token)===this.viewContext.reflector.resolveExternalReference(VE.Renderer)||ZE(t.token)===this.viewContext.reflector.resolveExternalReference(VE.ElementRef)||ZE(t.token)===this.viewContext.reflector.resolveExternalReference(VE.ChangeDetectorRef)||ZE(t.token)===this.viewContext.reflector.resolveExternalReference(VE.TemplateRef))return t;ZE(t.token)===this.viewContext.reflector.resolveExternalReference(VE.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(ZE(t.token)===this.viewContext.reflector.resolveExternalReference(VE.Injector))return t;if(null!=this._getOrCreateLocalProvider(e,t.token,n))return t}return null}_getDependency(e,t,n=!1){let r=this,i=n,s=null;if(t.isSkipSelf||(s=this._getLocalDependency(e,t,n)),t.isSelf)!s&&t.isOptional&&(s={isValue:!0,value:null});else{for(;!s&&r._parent;){const e=r;r=r._parent,e._isViewRoot&&(i=!1),s=r._getLocalDependency($D.PublicService,t,i)}s||(s=!t.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===ZE(t.token)||null!=this.viewContext.viewProviders.get(ZE(t.token))?t:t.isOptional?{isValue:!0,value:null}:null)}return s||this.viewContext.errors.push(new WD(`No provider for ${JE(t.token)}`,this._sourceSpan)),s}}class QD{constructor(e,t,n,r){this.reflector=e,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(e=>{JD([{token:{identifier:e},useClass:e}],$D.PublicService,!0,r,this._errors,this._allProviders,!0)}),JD(t.transitiveModule.providers.map(e=>e.provider).concat(n),$D.PublicService,!1,r,this._errors,this._allProviders,!1)}parse(){if(Array.from(this._allProviders.values()).forEach(e=>{this._getOrCreateLocalProvider(e.token,e.eager)}),this._errors.length>0){const e=this._errors.join("\n");throw new Error(`Provider parse errors:\n${e}`)}const e=[],t=[];return this._transformedProviders.forEach(n=>{n.eager?t.push(n):e.push(n)}),e.concat(t)}_getOrCreateLocalProvider(e,t){const n=this._allProviders.get(ZE(e));if(!n)return null;let r=this._transformedProviders.get(ZE(e));if(r)return r;if(null!=this._seenProviders.get(ZE(e)))return this._errors.push(new WD(`Cannot instantiate cyclic dependency! ${JE(e)}`,n.sourceSpan)),null;this._seenProviders.set(ZE(e),!0);const i=n.providers.map(e=>{let r=e.useValue,i=e.useExisting,s=void 0;if(null!=e.useExisting){const s=this._getDependency({token:e.useExisting},t,n.sourceSpan);null!=s.token?i=s.token:(i=null,r=s.value)}else if(e.useFactory){s=(e.deps||e.useFactory.diDeps).map(e=>this._getDependency(e,t,n.sourceSpan))}else if(e.useClass){s=(e.deps||e.useClass.diDeps).map(e=>this._getDependency(e,t,n.sourceSpan))}return YD(e,{useExisting:i,useValue:r,deps:s})});return r=XD(n,{eager:t,providers:i}),this._transformedProviders.set(ZE(e),r),r}_getDependency(e,t=!1,n){let r=!1;return e.isSkipSelf||null==e.token||(ZE(e.token)===this.reflector.resolveExternalReference(VE.Injector)||ZE(e.token)===this.reflector.resolveExternalReference(VE.ComponentFactoryResolver)?r=!0:null!=this._getOrCreateLocalProvider(e.token,t)&&(r=!0)),e}}function YD(e,{useExisting:t,useValue:n,deps:r}){return{token:e.token,useClass:e.useClass,useExisting:t,useFactory:e.useFactory,useValue:n,deps:r,multi:e.multi}}function XD(e,{eager:t,providers:n}){return new qD(e.token,e.multiProvider,e.eager||t,n,e.providerType,e.lifecycleHooks,e.sourceSpan,e.isModule)}function JD(e,t,n,r,i,s,o){e.forEach(e=>{let a=s.get(ZE(e.token));if(null!=a&&!!a.multiProvider!=!!e.multi&&i.push(new WD(`Mixing multi and non multi provider is not possible for token ${JE(a.token)}`,r)),a)e.multi||(a.providers.length=0),a.providers.push(e);else{const i=e.token.identifier&&e.token.identifier.lifecycleHooks?e.token.identifier.lifecycleHooks:[],u=!(e.useClass||e.useExisting||e.useFactory);a=new qD(e.token,!!e.multi,n||u,[e],t,i,r,o),s.set(ZE(e.token),a)}})}function ZD(e,t){t.meta.selectors.forEach(n=>{let r=e.get(ZE(n));r||(r=[],e.set(ZE(n),r)),r.push(t)})}class eN{constructor(e,t){this.style=e,this.styleUrls=t}}function tN(e){if(null==e||0===e.length||"/"==e[0])return!1;const t=e.match(iN);return null===t||"package"==t[1]||"asset"==t[1]}const nN=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,rN=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,iN=/^([^:/?#]+):/,sN=".",oN="attr",aN="class",uN="style",cN="animate-";class lN{constructor(e,t,n,r,i){if(this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=n,this.errors=i,this.pipesByName=null,this._usedPipes=new Map,r){const e=new Map;r.forEach(t=>e.set(t.name,t)),this.pipesByName=e}}get interpolationConfig(){return this._interpolationConfig}getUsedPipes(){return Array.from(this._usedPipes.values())}createBoundHostProperties(e,t){if(e.hostProperties){const n=[];return Object.keys(e.hostProperties).forEach(r=>{const i=e.hostProperties[r];"string"==typeof i?this.parsePropertyBinding(r,i,!0,t,t.start.offset,void 0,[],n):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,t)}),n}return null}createDirectiveHostPropertyAsts(e,t,n){const r=this.createBoundHostProperties(e,n);return r&&r.map(e=>this.createBoundElementProperty(t,e))}createDirectiveHostEventAsts(e,t){if(e.hostListeners){const n=[];return Object.keys(e.hostListeners).forEach(r=>{const i=e.hostListeners[r];"string"==typeof i?this.parseEvent(r,i,t,t,[],n):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,t)}),n}return null}parseInterpolation(e,t){const n=t.start.toString();try{const r=this._exprParser.parseInterpolation(e,n,t.start.offset,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),this._checkPipes(r,t),r}catch(r){return this._reportError(`${r}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,t.start.offset)}}parseInlineTemplateBinding(e,t,n,r,i,s,o){const a=this._parseTemplateBindings(e,t,n);for(let u=0;u<a.length;u++){const e=a[u];e.keyIsVar?o.push(new zI(e.key,e.name,n)):e.expression?this._parsePropertyAst(e.key,e.expression,n,void 0,i,s):(i.push([e.key,""]),this.parseLiteralAttr(e.key,null,n,r,void 0,i,s))}}_parseTemplateBindings(e,t,n){const r=n.start.toString();try{const i=this._exprParser.parseTemplateBindings(e,t,r,n.start.offset);return this._reportExpressionParserErrors(i.errors,n),i.templateBindings.forEach(e=>{e.expression&&this._checkPipes(e.expression,n)}),i.warnings.forEach(e=>{this._reportError(e,n,xC.WARNING)}),i.templateBindings}catch(i){return this._reportError(`${i}`,n),[]}}parseLiteralAttr(e,t,n,r,i,s,o){pN(e)?(e=e.substring(1),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,xC.ERROR),this._parseAnimation(e,t,n,r,i,s,o)):o.push(new UI(e,this._exprParser.wrapLiteralPrimitive(t,"",r),jI.LITERAL_ATTR,n,i))}parsePropertyBinding(e,t,n,r,i,s,o,a){let u=!1;e.startsWith(cN)?(u=!0,e=e.substring(cN.length)):pN(e)&&(u=!0,e=e.substring(1)),u?this._parseAnimation(e,t,r,i,s,o,a):this._parsePropertyAst(e,this._parseBinding(t,n,s||r,i),r,s,o,a)}parsePropertyInterpolation(e,t,n,r,i,s){const o=this.parseInterpolation(t,r||n);return!!o&&(this._parsePropertyAst(e,o,n,r,i,s),!0)}_parsePropertyAst(e,t,n,r,i,s){i.push([e,t.source]),s.push(new UI(e,t,jI.DEFAULT,n,r))}_parseAnimation(e,t,n,r,i,s,o){const a=this._parseBinding(t||"undefined",!1,i||n,r);s.push([e,a.source]),o.push(new UI(e,a,jI.ANIMATION,n,i))}_parseBinding(e,t,n,r){const i=(n&&n.start||"(unknown)").toString();try{const s=t?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return s&&this._reportExpressionParserErrors(s.errors,n),this._checkPipes(s,n),s}catch(s){return this._reportError(`${s}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}createBoundElementProperty(e,t,n=!1,r=!0){if(t.isAnimation)return new WI(t.name,4,Fb.NONE,t.expression,null,t.sourceSpan,t.valueSpan);let i=null,s=void 0,o=null;const a=t.name.split(sN);let u=void 0;if(a.length>1)if(a[0]==oN){o=a[1],n||this._validatePropertyOrAttributeName(o,t.sourceSpan,!0),u=dN(this._schemaRegistry,e,o,!0);const r=o.indexOf(":");if(r>-1){const e=o.substring(0,r),t=o.substring(r+1);o=eb(e,t)}s=1}else a[0]==aN?(o=a[1],s=2,u=[Fb.NONE]):a[0]==uN&&(i=a.length>2?a[2]:null,o=a[1],s=3,u=[Fb.STYLE]);if(null===o){const i=this._schemaRegistry.getMappedPropName(t.name);o=r?i:t.name,u=dN(this._schemaRegistry,e,i,!1),s=0,n||this._validatePropertyOrAttributeName(i,t.sourceSpan,!1)}return new WI(o,s,u[0],t.expression,i,t.sourceSpan,t.valueSpan)}parseEvent(e,t,n,r,i,s){pN(e)?(e=e.substr(1),this._parseAnimationEvent(e,t,n,r,s)):this._parseRegularEvent(e,t,n,r,i,s)}calcPossibleSecurityContexts(e,t,n){const r=this._schemaRegistry.getMappedPropName(t);return dN(this._schemaRegistry,e,r,n)}_parseAnimationEvent(e,t,n,r,i){const s=hE(e,".",[e,""]);const o=s[0],a=s[1].toLowerCase();if(a)switch(a){case"start":case"done":const e=this._parseAction(t,r);i.push(new HI(o,a,1,e,n,r));break;default:this._reportError(`The provided animation output phase value "${a}" for "@${o}" is not supported (use start or done)`,n)}else this._reportError(`The animation trigger output event (@${o}) is missing its phase value name (start or done are currently supported)`,n)}_parseRegularEvent(e,t,n,r,i,s){const[o,a]=lE(e,[null,e]),u=this._parseAction(t,r);i.push([e,u.source]),s.push(new HI(a,o,0,u,n,r))}_parseAction(e,t){const n=(t&&t.start||"(unknown").toString(),r=t&&t.start?t.start.offset:0;try{const i=this._exprParser.parseAction(e,n,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,t),!i||i.ast instanceof fI?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):(this._checkPipes(i,t),i)}catch(i){return this._reportError(`${i}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}_reportError(e,t,n=xC.ERROR){this.errors.push(new IC(t,e,n))}_reportExpressionParserErrors(e,t){for(const n of e)this._reportError(n.message,t)}_checkPipes(e,t){if(e&&this.pipesByName){const n=new hN;e.visit(n),n.pipes.forEach((e,n)=>{const r=this.pipesByName.get(n);r?this._usedPipes.set(n,r):this._reportError(`The pipe '${n}' could not be found`,new CC(t.start.moveBy(e.span.start),t.start.moveBy(e.span.end)))})}}_validatePropertyOrAttributeName(e,t,n){const r=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,xC.ERROR)}}class hN extends FI{constructor(){super(...arguments),this.pipes=new Map}visitPipe(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null}}function pN(e){return"@"==e[0]}function dN(e,t,n,r){const i=[];return ub.parse(t).forEach(t=>{const s=t.element?[t.element]:e.allKnownElementNames(),o=new Set(t.notSelectors.filter(e=>e.isElementSelector()).map(e=>e.element)),a=s.filter(e=>!o.has(e));i.push(...a.map(t=>e.securityContext(t,n,r)))}),0===i.length?[Fb.NONE]:Array.from(new Set(i)).sort()}const fN="select",mN="link",gN="rel",vN="href",yN="stylesheet",wN="style",bN="script",_N="ngNonBindable",EN="ngProjectAs";function SN(e){let t=null,n=null,r=null,i=!1,s="";e.attrs.forEach(e=>{const o=e.name.toLowerCase();o==fN?t=e.value:o==vN?n=e.value:o==gN?r=e.value:e.name==_N?i=!0:e.name==EN&&e.value.length>0&&(s=e.value)}),t=function(e){if(null===e||0===e.length)return"*";return e}(t);const o=e.name.toLowerCase();let a=CN.OTHER;return Xw(o)?a=CN.NG_CONTENT:o==wN?a=CN.STYLE:o==bN?a=CN.SCRIPT:o==mN&&r==yN&&(a=CN.STYLESHEET),new TN(a,t,n,i,s)}var CN;!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(CN||(CN={}));class TN{constructor(e,t,n,r,i){this.type=e,this.selectAttr=t,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}}const xN=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,IN=1,AN=2,DN=3,NN=4,kN=5,PN=6,MN=7,ON=8,RN=9,LN=10,FN="*",VN="class";let BN;function UN(){return BN||(BN=ub.parse("*")[0]),BN}class jN extends IC{constructor(e,t,n){super(t,e,n)}}class qN{constructor(e,t,n){this.templateAst=e,this.usedPipes=t,this.errors=n}}class $N{constructor(e,t,n,r,i,s,o){this._config=e,this._reflector=t,this._exprParser=n,this._schemaRegistry=r,this._htmlParser=i,this._console=s,this.transforms=o}get expressionParser(){return this._exprParser}parse(e,t,n,r,i,s,o){const a=this.tryParse(e,t,n,r,i,s,o),u=a.errors.filter(e=>e.level===xC.WARNING),c=a.errors.filter(e=>e.level===xC.ERROR);if(u.length>0&&this._console.warn(`Template parse warnings:\n${u.join("\n")}`),c.length>0){throw yE(`Template parse errors:\n${c.join("\n")}`,c)}return{template:a.templateAst,pipes:a.usedPipes}}tryParse(e,t,n,r,i,s,o){let a="string"==typeof t?this._htmlParser.parse(t,s,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(e)}):t;return o||(a=CD(a)),this.tryParseHtml(this.expandHtml(a),e,n,r,i)}tryParseHtml(e,t,n,r,i){let s;const o=e.errors,a=[];if(e.rootNodes.length>0){const u=XN(n),c=XN(r),l=new KD(this._reflector,t);let h=void 0;t.template&&t.template.interpolation&&(h={start:t.template.interpolation[0],end:t.template.interpolation[1]});const p=new lN(this._exprParser,h,this._schemaRegistry,c,o),d=new HN(this._reflector,this._config,l,u,p,this._schemaRegistry,i,o);s=KA(d,e.rootNodes,GN),o.push(...l.errors),a.push(...p.getUsedPipes())}else s=[];return this._assertNoReferenceDuplicationOnTemplate(s,o),o.length>0?new qN(s,a,o):(this.transforms&&this.transforms.forEach(e=>{s=zD(e,s)}),new qN(s,a,o))}expandHtml(e,t=!1){const n=e.errors;if(0==n.length||t){const t=xD(e.rootNodes);n.push(...t.errors),e=new pD(t.nodes,n)}return e}getInterpolationConfig(e){if(e.template)return Vx.fromArray(e.template.interpolation)}_assertNoReferenceDuplicationOnTemplate(e,t){const n=[];e.filter(e=>!!e.references).forEach(e=>e.references.forEach(e=>{const r=e.name;if(n.indexOf(r)<0)n.push(r);else{const n=new jN(`Reference "#${r}" is defined several times`,e.sourceSpan,xC.ERROR);t.push(n)}}))}}class HN{constructor(e,t,n,r,i,s,o,a){this.reflector=e,this.config=t,this.providerViewContext=n,this._bindingParser=i,this._schemaRegistry=s,this._schemas=o,this._targetErrors=a,this.selectorMatcher=new cb,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=n.component.viewQueries.length+1,r.forEach((e,t)=>{const n=ub.parse(e.selector);this.selectorMatcher.addSelectables(n,e),this.directivesIndex.set(e,t)})}visitExpansion(e,t){return null}visitExpansionCase(e,t){return null}visitText(e,t){const n=t.findNgContentIndex(UN()),r=ED(e.value),i=this._bindingParser.parseInterpolation(r,e.sourceSpan);return i?new kD(i,n,e.sourceSpan):new ND(r,n,e.sourceSpan)}visitAttribute(e,t){return new PD(e.name,e.value,e.sourceSpan)}visitComment(e,t){return null}visitElement(e,t){const n=this.contentQueryStartId,r=e.name,i=SN(e);if(i.type===CN.SCRIPT||i.type===CN.STYLE)return null;if(i.type===CN.STYLESHEET&&tN(i.hrefAttr))return null;const s=[],o=[],a=[],u=[],c=[],l=[],h=[],p=[];let d=!1;const f=[],m=Jw(e.name);e.attrs.forEach(e=>{const t=this._parseAttr(m,e,s,o,c,a,u);let n,r;u.push(...[].map(e=>FD.fromParsedVariable(e)));const i=this._normalizeAttributeName(e.name);i.startsWith(FN)&&(n=e.value,r=i.substring(FN.length));const g=null!=n;if(g){d&&this._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",e.sourceSpan),d=!0;const t=[];this._bindingParser.parseInlineTemplateBinding(r,n,e.sourceSpan,e.sourceSpan.start.offset,h,l,t),p.push(...t.map(e=>FD.fromParsedVariable(e)))}t||g||(f.push(this.visitAttribute(e,null)),s.push([e.name,e.value]))});const g=KN(r,s),{directives:v,matchElement:y}=this._parseDirectives(this.selectorMatcher,g),w=[],b=new Set,_=this._createDirectiveAsts(m,e.name,v,o,a,e.sourceSpan,w,b),E=this._createElementPropertyAsts(e.name,o,b),S=t.isTemplateElement||d,C=new GD(this.providerViewContext,t.providerContext,S,_,f,w,m,n,e.sourceSpan),T=KA(i.nonBindable?QN:this,e.children,WN.create(m,_,m?t.providerContext:C));C.afterElement();const x=""!=i.projectAs?ub.parse(i.projectAs)[0]:g,I=t.findNgContentIndex(x);let A;if(i.type===CN.NG_CONTENT)e.children&&!e.children.every(YN)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),A=new HD(this.ngContentCount++,d?null:I,e.sourceSpan);else if(m)this._assertAllEventsPublishedByDirectives(_,c),this._assertNoComponentsNorElementBindingsOnTemplate(_,E,e.sourceSpan),A=new BD(f,c,w,u,C.transformedDirectiveAsts,C.transformProviders,C.transformedHasViewContainer,C.queryMatches,T,d?null:I,e.sourceSpan);else{this._assertElementExists(y,e),this._assertOnlyOneComponent(_,e.sourceSpan);const n=d?null:t.findNgContentIndex(x);A=new VD(r,f,E,c,w,C.transformedDirectiveAsts,C.transformProviders,C.transformedHasViewContainer,C.queryMatches,T,d?null:n,e.sourceSpan,e.endSourceSpan||null)}if(d){const n=this.contentQueryStartId,i=KN("ng-template",h),{directives:s}=this._parseDirectives(this.selectorMatcher,i),o=new Set,a=this._createDirectiveAsts(!0,r,s,l,[],e.sourceSpan,[],o),u=this._createElementPropertyAsts(r,l,o);this._assertNoComponentsNorElementBindingsOnTemplate(a,u,e.sourceSpan);const c=new GD(this.providerViewContext,t.providerContext,t.isTemplateElement,a,[],[],!0,n,e.sourceSpan);c.afterElement(),A=new BD([],[],[],p,c.transformedDirectiveAsts,c.transformProviders,c.transformedHasViewContainer,c.queryMatches,[A],I,e.sourceSpan)}return A}_parseAttr(e,t,n,r,i,s,o){const a=this._normalizeAttributeName(t.name),u=t.value,c=t.sourceSpan,l=t.valueSpan?t.valueSpan.start.offset:c.start.offset,h=[],p=a.match(xN);let d=!1;if(null!==p)if(d=!0,null!=p[IN])this._bindingParser.parsePropertyBinding(p[MN],u,!1,c,l,t.valueSpan,n,r);else if(p[AN])if(e){const e=p[MN];this._parseVariable(e,u,c,o)}else this._reportError('"let-" is only supported on ng-template elements.',c);else if(p[DN]){const e=p[MN];this._parseReference(e,u,c,s)}else p[NN]?this._bindingParser.parseEvent(p[MN],u,c,t.valueSpan||c,n,h):p[kN]?(this._bindingParser.parsePropertyBinding(p[MN],u,!1,c,l,t.valueSpan,n,r),this._parseAssignmentEvent(p[MN],u,c,t.valueSpan||c,n,h)):p[PN]?this._bindingParser.parseLiteralAttr(a,u,c,l,t.valueSpan,n,r):p[ON]?(this._bindingParser.parsePropertyBinding(p[ON],u,!1,c,l,t.valueSpan,n,r),this._parseAssignmentEvent(p[ON],u,c,t.valueSpan||c,n,h)):p[RN]?this._bindingParser.parsePropertyBinding(p[RN],u,!1,c,l,t.valueSpan,n,r):p[LN]&&this._bindingParser.parseEvent(p[LN],u,c,t.valueSpan||c,n,h);else d=this._bindingParser.parsePropertyInterpolation(a,u,c,t.valueSpan,n,r);return d||this._bindingParser.parseLiteralAttr(a,u,c,l,t.valueSpan,n,r),i.push(...h.map(e=>RD.fromParsedEvent(e))),d}_normalizeAttributeName(e){return/^data-/i.test(e)?e.substring(5):e}_parseVariable(e,t,n,r){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new FD(e,t,n))}_parseReference(e,t,n,r){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),r.push(new zN(e,t,n))}_parseAssignmentEvent(e,t,n,r,i,s){this._bindingParser.parseEvent(`${e}Change`,`${t}=$event`,n,r,i,s)}_parseDirectives(e,t){const n=new Array(this.directivesIndex.size);let r=!1;return e.match(t,(e,t)=>{n[this.directivesIndex.get(t)]=t,r=r||e.hasElementSelector()}),{directives:n.filter(e=>!!e),matchElement:r}}_createDirectiveAsts(e,t,n,r,i,s,o,a){const u=new Set;let c=null;const l=n.map(e=>{const n=new CC(s.start,s.end,`Directive ${WE(e.type)}`);e.isComponent&&(c=e);const l=[];let h=this._bindingParser.createDirectiveHostPropertyAsts(e,t,n).map(e=>OD.fromBoundProperty(e));h=this._checkPropertiesInSchema(t,h);const p=this._bindingParser.createDirectiveHostEventAsts(e,n);this._createDirectivePropertyAsts(e.inputs,r,l,a),i.forEach(t=>{(0===t.value.length&&e.isComponent||t.isReferenceToDirective(e))&&(o.push(new LD(t.name,BE(e.type.reference),t.value,t.sourceSpan)),u.add(t.name))});const d=p.map(e=>RD.fromParsedEvent(e)),f=this.contentQueryStartId;return this.contentQueryStartId+=e.queries.length,new jD(e,l,h,d,f,n)});return i.forEach(t=>{if(t.value.length>0)u.has(t.name)||this._reportError(`There is no directive with "exportAs" set to "${t.value}"`,t.sourceSpan);else if(!c){let n=null;e&&(n=UE(this.reflector,VE.TemplateRef)),o.push(new LD(t.name,n,t.value,t.sourceSpan))}}),l}_createDirectivePropertyAsts(e,t,n,r){if(e){const i=new Map;t.forEach(e=>{const t=i.get(e.name);t&&!t.isLiteral||i.set(e.name,e)}),Object.keys(e).forEach(t=>{const s=e[t],o=i.get(s);o&&(r.add(o.name),JN(o.expression)||n.push(new UD(t,o.name,o.expression,o.sourceSpan)))})}}_createElementPropertyAsts(e,t,n){const r=[];return t.forEach(t=>{if(!t.isLiteral&&!n.has(t.name)){const n=this._bindingParser.createBoundElementProperty(e,t);r.push(OD.fromBoundProperty(n))}}),this._checkPropertiesInSchema(e,r)}_findComponentDirectives(e){return e.filter(e=>e.directive.isComponent)}_findComponentDirectiveNames(e){return this._findComponentDirectives(e).map(e=>WE(e.directive.type))}_assertOnlyOneComponent(e,t){const n=this._findComponentDirectiveNames(e);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\n"+`Conflicting components: ${n.join(",")}`,t)}_assertElementExists(e,t){const n=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(n,this._schemas)){let e=`'${n}' is not a known element:\n`;e+=`1. If '${n}' is an Angular component, then verify that it is part of this module.\n`,n.indexOf("-")>-1?e+=`2. If '${n}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:e+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(e,t.sourceSpan)}}_assertNoComponentsNorElementBindingsOnTemplate(e,t,n){const r=this._findComponentDirectiveNames(e);r.length>0&&this._reportError(`Components on an embedded template: ${r.join(",")}`,n),t.forEach(e=>{this._reportError(`Property binding ${e.name} not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,n)})}_assertAllEventsPublishedByDirectives(e,t){const n=new Set;e.forEach(e=>{Object.keys(e.directive.outputs).forEach(t=>{const r=e.directive.outputs[t];n.add(r)})}),t.forEach(e=>{null==e.target&&n.has(e.name)||this._reportError(`Event binding ${e.fullName} not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,e.sourceSpan)})}_checkPropertiesInSchema(e,t){return t.filter(t=>{if(0===t.type&&!this._schemaRegistry.hasProperty(e,t.name,this._schemas)){let n=`Can't bind to '${t.name}' since it isn't a known property of '${e}'.`;e.startsWith("ng-")?n+=`\n1. If '${t.name}' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.`+"\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":e.indexOf("-")>-1&&(n+=`\n1. If '${e}' is an Angular component and it has '${t.name}' input, then verify that it is part of this module.`+`\n2. If '${e}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`+"\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),this._reportError(n,t.sourceSpan)}return!JN(t.value)})}_reportError(e,t,n=xC.ERROR){this._targetErrors.push(new IC(t,e,n))}}class zN{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}isReferenceToDirective(e){return-1!==(t=e.exportAs,t?t.split(",").map(e=>e.trim()):[]).indexOf(this.value);var t}}class WN{constructor(e,t,n,r){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=n,this.providerContext=r}static create(e,t,n){const r=new cb;let i=null;const s=t.find(e=>e.directive.isComponent);if(s){const e=s.directive.template.ngContentSelectors;for(let t=0;t<e.length;t++){"*"===e[t]?i=t:r.addSelectables(ub.parse(e[t]),t)}}return new WN(e,r,i,n)}findNgContentIndex(e){const t=[];return this._ngContentIndexMatcher.match(e,(e,n)=>{t.push(n)}),t.sort(),null!=this._wildcardNgContentIndex&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null}}function KN(e,t){const n=new ub,r=Qw(e)[1];n.setElement(r);for(let i=0;i<t.length;i++){const e=t[i][0],r=Qw(e)[1],s=t[i][1];if(n.addAttribute(r,s),e.toLowerCase()==VN){s.trim().split(/\s+/g).forEach(e=>n.addClassName(e))}}return n}const GN=new WN(!0,new cb,null,null),QN=new class{visitElement(e,t){const n=SN(e);if(n.type===CN.SCRIPT||n.type===CN.STYLE||n.type===CN.STYLESHEET)return null;const r=e.attrs.map(e=>[e.name,e.value]),i=KN(e.name,r),s=t.findNgContentIndex(i),o=KA(this,e.children,GN);return new VD(e.name,KA(this,e.attrs),[],[],[],[],[],!1,[],o,s,e.sourceSpan,e.endSourceSpan)}visitComment(e,t){return null}visitAttribute(e,t){return new PD(e.name,e.value,e.sourceSpan)}visitText(e,t){const n=t.findNgContentIndex(UN());return new ND(e.value,n,e.sourceSpan)}visitExpansion(e,t){return e}visitExpansionCase(e,t){return e}};function YN(e){return e instanceof jA&&0==e.value.trim().length}function XN(e){const t=new Map;return e.forEach(e=>{t.get(e.type.reference)||t.set(e.type.reference,e)}),Array.from(t.values())}function JN(e){return e instanceof RI&&(e=e.ast),e instanceof fI}function ZN(e){const t=e.charCodeAt(0);if(t==e.charCodeAt(e.length-1)&&(39==t||34==t)){const t=e.substring(1,e.length-1);-1==t.indexOf("'")&&-1==t.indexOf('"')&&(e=t)}return e}function ek(e){return e.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}const tk="!important";class nk{constructor(e,t){this._elementIndexExpr=e,this._directiveExpr=t,this._hasInitialValues=!1,this.hasBindings=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[],this._useDefaultSanitizer=!1}registerBoundInput(e){let t=null,n=e.name;switch(e.type){case 0:t=this.registerInputBasedOnName(n,e.value,e.sourceSpan);break;case 3:t=this.registerStyleInput(n,!1,e.value,e.sourceSpan,e.unit);break;case 2:t=this.registerClassInput(n,!1,e.value,e.sourceSpan)}return!!t}registerInputBasedOnName(e,t,n){let r=null;const i=e.substring(0,5),s="style"===i;if(s||!s&&"class"===i){const i="."!==e.charAt(5),o=e.substr(i?5:6);r=s?this.registerStyleInput(o,i,t,n):this.registerClassInput(o,i,t,n)}return r}registerStyleInput(e,t,n,r,i){if(JN(n))return null;e=ek(e);const{property:s,hasOverrideFlag:o,unit:a}=ik(e),u={name:s,unit:i||a,value:n,sourceSpan:r,hasOverrideFlag:o};return t?(this._useDefaultSanitizer=!0,this._styleMapInput=u):((this._singleStyleInputs=this._singleStyleInputs||[]).push(u),this._useDefaultSanitizer=this._useDefaultSanitizer||function(e){return"background-image"===e||"backgroundImage"===e||"background"===e||"border-image"===e||"borderImage"===e||"filter"===e||"list-style"===e||"listStyle"===e||"list-style-image"===e||"listStyleImage"===e||"clip-path"===e||"clipPath"===e}(e),rk(this._stylesIndex,s)),this._lastStylingInput=u,this._firstStylingInput=this._firstStylingInput||u,this.hasBindings=!0,u}registerClassInput(e,t,n,r){if(JN(n))return null;const{property:i,hasOverrideFlag:s}=ik(e),o={name:i,value:n,sourceSpan:r,hasOverrideFlag:s,unit:null};return t?this._classMapInput=o:((this._singleClassInputs=this._singleClassInputs||[]).push(o),rk(this._classesIndex,i)),this._lastStylingInput=o,this._firstStylingInput=this._firstStylingInput||o,this.hasBindings=!0,o}registerStyleAttr(e){this._initialStyleValues=function(e){const t=[];let n=0,r=0,i=0,s=0,o=0,a=null,u=!1;for(;n<e.length;){switch(e.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:u=u||s>0,0===i?i=39:39===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 34:u=u||s>0,0===i?i=34:34===i&&92!==e.charCodeAt(n-1)&&(i=0);break;case 58:a||0!==r||0!==i||(a=ek(e.substring(o,n-1).trim()),s=n);break;case 59:if(a&&s>0&&0===r&&0===i){const r=e.substring(s,n-1).trim();t.push(a,u?ZN(r):r),o=n,s=0,a=null,u=!1}}}if(a&&s){const n=e.substr(s).trim();t.push(a,u?ZN(n):n)}return t}(e),this._hasInitialValues=!0}registerClassAttr(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(e){if(this._initialClassValues.length){e.push(aE(1));for(let t=0;t<this._initialClassValues.length;t++)e.push(aE(this._initialClassValues[t]))}if(this._initialStyleValues.length){e.push(aE(2));for(let t=0;t<this._initialStyleValues.length;t+=2)e.push(aE(this._initialStyleValues[t]),aE(this._initialStyleValues[t+1]))}}buildHostAttrsInstruction(e,t,n){return this._directiveExpr&&(t.length||this._hasInitialValues)?{sourceSpan:e,reference:pS.elementHostAttrs,allocateBindingSlots:0,params:()=>{return this.populateInitialStylingAttrs(t),[t.some(e=>e instanceof u_)?rE(t):function(e,t){return t.length?e.getConstLiteral(rE(t),!0):N_}(n,t)]}}:null}buildStylingInstruction(e,t){return this.hasBindings?{sourceSpan:e,allocateBindingSlots:0,reference:pS.styling,params:()=>[]}:null}buildClassMapInstruction(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}buildStyleMapInstruction(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}_buildMapBasedInstruction(e,t,n){let r=1;const i=n.value.visit(e);let s;return i instanceof II&&t?(r+=i.expressions.length,s=function(e){switch(Sx(e)){case 1:return pS.classMap;case 3:return pS.classMapInterpolate1;case 5:return pS.classMapInterpolate2;case 7:return pS.classMapInterpolate3;case 9:return pS.classMapInterpolate4;case 11:return pS.classMapInterpolate5;case 13:return pS.classMapInterpolate6;case 15:return pS.classMapInterpolate7;case 17:return pS.classMapInterpolate8;default:return pS.classMapInterpolateV}}(i)):s=t?pS.classMap:pS.styleMap,{sourceSpan:n.sourceSpan,reference:s,allocateBindingSlots:r,supportsInterpolation:t,params:e=>{const t=e(i);return Array.isArray(t)?t:[t]}}}_buildSingleInputs(e,t,n,r,i,s){return t.map(t=>{const n=t.value.visit(i);let o=1;return n instanceof II&&(o+=n.expressions.length,s&&(e=s(n))),{sourceSpan:t.sourceSpan,supportsInterpolation:!!s,allocateBindingSlots:o,reference:e,params:e=>{const i=[];i.push(aE(t.name));const s=e(n);return Array.isArray(s)?i.push(...s):i.push(s),r&&t.unit&&i.push(aE(t.unit)),i}}})}_buildClassInputs(e){return this._singleClassInputs?this._buildSingleInputs(pS.classProp,this._singleClassInputs,this._classesIndex,!1,e):[]}_buildStyleInputs(e){return this._singleStyleInputs?this._buildSingleInputs(pS.styleProp,this._singleStyleInputs,this._stylesIndex,!0,e,sk):[]}_buildApplyFn(){return{sourceSpan:this._lastStylingInput?this._lastStylingInput.sourceSpan:null,reference:pS.stylingApply,allocateBindingSlots:0,params:()=>[]}}_buildSanitizerFn(){return{sourceSpan:this._firstStylingInput?this._firstStylingInput.sourceSpan:null,reference:pS.styleSanitizer,allocateBindingSlots:0,params:()=>[eE(pS.defaultStyleSanitizer)]}}buildUpdateLevelInstructions(e){const t=[];if(this.hasBindings){this._useDefaultSanitizer&&t.push(this._buildSanitizerFn());const n=this.buildStyleMapInstruction(e);n&&t.push(n);const r=this.buildClassMapInstruction(e);r&&t.push(r),t.push(...this._buildStyleInputs(e)),t.push(...this._buildClassInputs(e)),t.push(this._buildApplyFn())}return t}}function rk(e,t){e.has(t)||e.set(t,e.size)}function ik(e){let t=!1;const n=e.indexOf(tk);-1!==n&&(e=n>0?e.substring(0,n):"",t=!0);let r="",i=e;const s=e.lastIndexOf(".");return s>0&&(r=e.substr(s+1),i=e.substring(0,s)),{property:i,unit:r,hasOverrideFlag:t}}function sk(e){switch(Sx(e)){case 1:return pS.styleProp;case 3:return pS.stylePropInterpolate1;case 5:return pS.stylePropInterpolate2;case 7:return pS.stylePropInterpolate3;case 9:return pS.stylePropInterpolate4;case 11:return pS.stylePropInterpolate5;case 13:return pS.stylePropInterpolate6;case 15:return pS.stylePropInterpolate7;case 17:return pS.stylePropInterpolate8;default:return pS.stylePropInterpolateV}}var ok;!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error"}(ok||(ok={}));const ak=["var","let","as","null","undefined","true","false","if","else","this"];class uk{tokenize(e){const t=new dk(e),n=[];let r=t.scanToken();for(;null!=r;)n.push(r),r=t.scanToken();return n}}class ck{constructor(e,t,n,r){this.index=e,this.type=t,this.numValue=n,this.strValue=r}isCharacter(e){return this.type==ok.Character&&this.numValue==e}isNumber(){return this.type==ok.Number}isString(){return this.type==ok.String}isOperator(e){return this.type==ok.Operator&&this.strValue==e}isIdentifier(){return this.type==ok.Identifier}isKeyword(){return this.type==ok.Keyword}isKeywordLet(){return this.type==ok.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==ok.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==ok.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==ok.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==ok.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==ok.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==ok.Keyword&&"this"==this.strValue}isError(){return this.type==ok.Error}toNumber(){return this.type==ok.Number?this.numValue:-1}toString(){switch(this.type){case ok.Character:case ok.Identifier:case ok.Keyword:case ok.Operator:case ok.String:case ok.Error:return this.strValue;case ok.Number:return this.numValue.toString();default:return null}}}function lk(e,t){return new ck(e,ok.Character,t,String.fromCharCode(t))}function hk(e,t){return new ck(e,ok.Operator,0,t)}const pk=new ck(-1,ok.Character,0,"");class dk{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?dS:this.input.charCodeAt(this.index)}scanToken(){const e=this.input,t=this.length;let n=this.peek,r=this.index;for(;n<=bS;){if(++r>=t){n=dS;break}n=e.charCodeAt(r)}if(this.peek=n,this.index=r,r>=t)return null;if(fk(n))return this.scanIdentifier();if(yC(n))return this.scanNumber(r);const i=r;switch(n){case OS:return this.advance(),yC(this.peek)?this.scanNumber(i):lk(i,OS);case AS:case DS:case pC:case fC:case YS:case JS:case PS:case LS:case FS:return this.scanCharacter(i,n);case IS:case ES:return this.scanString();case SS:case kS:case MS:case NS:case RS:case TS:case ZS:return this.scanOperator(i,String.fromCharCode(n));case jS:return this.scanComplexOperator(i,"?",OS,".");case VS:case US:return this.scanComplexOperator(i,String.fromCharCode(n),BS,"=");case _S:case BS:return this.scanComplexOperator(i,String.fromCharCode(n),BS,"=",BS,"=");case xS:return this.scanComplexOperator(i,"&",xS,"&");case dC:return this.scanComplexOperator(i,"|",dC,"|");case mC:for(;vC(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(n)}]`,0)}scanCharacter(e,t){return this.advance(),lk(e,t)}scanOperator(e,t){return this.advance(),hk(e,t)}scanComplexOperator(e,t,n,r,i,s){this.advance();let o=t;return this.peek==n&&(this.advance(),o+=r),null!=i&&this.peek==i&&(this.advance(),o+=s),hk(e,o)}scanIdentifier(){const e=this.index;for(this.advance();mk(this.peek);)this.advance();const t=this.input.substring(e,this.index);return ak.indexOf(t)>-1?(n=t,new ck(e,ok.Keyword,0,n)):function(e,t){return new ck(e,ok.Identifier,0,t)}(e,t);var n}scanNumber(e){let t=this.index===e;for(this.advance();;){if(yC(this.peek));else if(this.peek==OS)t=!1;else{if((n=this.peek)!=rC&&n!=WS)break;if(this.advance(),gk(this.peek)&&this.advance(),!yC(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var n;const r=this.input.substring(e,this.index),i=t?function(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(r):parseFloat(r);return s=i,new ck(e,ok.Number,s,"");var s}scanString(){const e=this.index,t=this.peek;this.advance();let n="",r=this.index;const i=this.input;for(;this.peek!=t;)if(this.peek==XS){let e;if(n+=i.substring(r,this.index),this.advance(),this.peek=this.peek,this.peek==uC){const t=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(t))return this.error(`Invalid unicode escape [\\u${t}]`,0);e=parseInt(t,16);for(let e=0;e<5;e++)this.advance()}else e=vk(this.peek),this.advance();n+=String.fromCharCode(e),r=this.index}else{if(this.peek==dS)return this.error("Unterminated quote",0);this.advance()}const s=i.substring(r,this.index);return this.advance(),o=n+s,new ck(e,ok.String,0,o);var o}error(e,t){const n=this.index+t;return function(e,t){return new ck(e,ok.Error,0,t)}(n,`Lexer Error: ${e} at column ${n} in expression [${this.input}]`)}}function fk(e){return tC<=e&&e<=hC||zS<=e&&e<=QS||e==eC||e==CS}function mk(e){return wC(e)||yC(e)||e==eC||e==CS}function gk(e){return e==MS||e==kS}function vk(e){switch(e){case sC:return gS;case iC:return yS;case oC:return wS;case aC:return mS;case cC:return vS;default:return e}}class yk{constructor(e,t,n){this.strings=e,this.expressions=t,this.offsets=n}}class wk{constructor(e,t,n){this.templateBindings=e,this.warnings=t,this.errors=n}}function bk(e){const t=_E(e.start)+"([\\s\\S]*?)"+_E(e.end);return new RegExp(t,"g")}class _k{constructor(e){this._lexer=e,this.errors=[]}parseAction(e,t,n,r=Bx){this._checkNoInterpolation(e,t,r);const i=this._stripComments(e),s=this._lexer.tokenize(this._stripComments(e)),o=new Ek(e,t,n,s,i.length,!0,this.errors,e.length-i.length).parseChain();return new RI(o,e,t,n,this.errors)}parseBinding(e,t,n,r=Bx){const i=this._parseBindingAst(e,t,n,r);return new RI(i,e,t,n,this.errors)}parseSimpleBinding(e,t,n,r=Bx){const i=this._parseBindingAst(e,t,n,r),s=Sk.check(i);return s.length>0&&this._reportError(`Host binding expression cannot contain ${s.join(" ")}`,e,t),new RI(i,e,t,n,this.errors)}_reportError(e,t,n,r){this.errors.push(new lI(e,t,n,r))}_parseBindingAst(e,t,n,r){const i=this._parseQuote(e,t);if(null!=i)return i;this._checkNoInterpolation(e,t,r);const s=this._stripComments(e),o=this._lexer.tokenize(s);return new Ek(e,t,n,o,s.length,!1,this.errors,e.length-s.length).parseChain()}_parseQuote(e,t){if(null==e)return null;const n=e.indexOf(":");if(-1==n)return null;const r=e.substring(0,n).trim();if(!function(e){if(0==e.length)return!1;const t=new dk(e);if(!fk(t.peek))return!1;for(t.advance();t.peek!==dS;){if(!mk(t.peek))return!1;t.advance()}return!0}(r))return null;const i=e.substring(n+1);return new dI(new hI(0,e.length),r,i,t)}parseTemplateBindings(e,t,n,r){const i=this._lexer.tokenize(t);return new Ek(t,n,r,i,t.length,!1,this.errors,0).parseTemplateBindings(e)}parseInterpolation(e,t,n,r=Bx){const i=this.splitInterpolation(e,t,r);if(null==i)return null;const s=[];for(let o=0;o<i.expressions.length;++o){const r=i.expressions[o],a=this._stripComments(r),u=this._lexer.tokenize(a),c=new Ek(e,t,n,u,a.length,!1,this.errors,i.offsets[o]+(r.length-a.length)).parseChain();s.push(c)}return new RI(new II(new hI(0,null==e?0:e.length),i.strings,s),e,t,n,this.errors)}splitInterpolation(e,t,n=Bx){const r=bk(n),i=e.split(r);if(i.length<=1)return null;const s=[],o=[],a=[];let u=0;for(let c=0;c<i.length;c++){const r=i[c];c%2==0?(s.push(r),u+=r.length):r.trim().length>0?(u+=n.start.length,o.push(r),a.push(u),u+=r.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${this._findInterpolationErrorColumn(i,c,n)} in`,t),o.push("$implict"),a.push(u))}return new yk(s,o,a)}wrapLiteralPrimitive(e,t,n){return new RI(new CI(new hI(0,null==e?0:e.length),e),e,t,n,this.errors)}_stripComments(e){const t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e}_commentStart(e){let t=null;for(let r=0;r<e.length-1;r++){const i=e.charCodeAt(r),s=e.charCodeAt(r+1);if(i===RS&&s==RS&&null==t)return r;t===i?t=null:null==t&&((n=i)===IS||n===ES||n===gC)&&(t=i)}var n;return null}_checkNoInterpolation(e,t,n){const r=bk(n),i=e.split(r);i.length>1&&this._reportError(`Got interpolation (${n.start}${n.end}) where expression was expected`,e,`at column ${this._findInterpolationErrorColumn(i,1,n)} in`,t)}_findInterpolationErrorColumn(e,t,n){let r="";for(let i=0;i<t;i++)r+=i%2==0?e[i]:`${n.start}${e[i]}${n.end}`;return r.length}}class Ek{constructor(e,t,n,r,i,s,o,a){this.input=e,this.location=t,this.absoluteOffset=n,this.tokens=r,this.inputLength=i,this.parseAction=s,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}peek(e){const t=this.index+e;return t<this.tokens.length?this.tokens[t]:pk}get next(){return this.peek(0)}get inputIndex(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset}span(e){return new hI(e,this.inputIndex)}advance(){this.index++}optionalCharacter(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.optionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}optionalOperator(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}expectOperator(e){this.optionalOperator(e)||this.error(`Missing expected operator ${e}`)}expectIdentifierOrKeyword(){const e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error(`Unexpected token ${e}, expected identifier or keyword`),"")}expectIdentifierOrKeywordOrString(){const e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error(`Unexpected token ${e}, expected identifier, keyword, or string`),"")}parseChain(){const e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){const t=this.parsePipe();if(e.push(t),this.optionalCharacter(FS))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(FS););else this.index<this.tokens.length&&this.error(`Unexpected token '${this.next}'`)}return 0==e.length?new fI(this.span(t)):1==e.length?e[0]:new gI(this.span(t),e)}parsePipe(){let e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{const t=this.expectIdentifierOrKeyword(),n=[];for(;this.optionalCharacter(LS);)n.push(this.parseExpression());e=new SI(this.span(e.span.start),e,t,n)}while(this.optionalOperator("|"))}return e}parseExpression(){return this.parseConditional()}parseConditional(){const e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){const n=this.parsePipe();let r;if(this.optionalCharacter(LS))r=this.parsePipe();else{const t=this.inputIndex,n=this.input.substring(e,t);this.error(`Conditional expression ${n} requires all 3 expressions`),r=new fI(this.span(e))}return new vI(this.span(e),t,n,r)}return t}parseLogicalOr(){let e=this.parseLogicalAnd();for(;this.optionalOperator("||");){const t=this.parseLogicalAnd();e=new AI(this.span(e.span.start),"||",e,t)}return e}parseLogicalAnd(){let e=this.parseEquality();for(;this.optionalOperator("&&");){const t=this.parseEquality();e=new AI(this.span(e.span.start),"&&",e,t)}return e}parseEquality(){let e=this.parseRelational();for(;this.next.type==ok.Operator;){const t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();const n=this.parseRelational();e=new AI(this.span(e.span.start),t,e,n);continue}break}return e}parseRelational(){let e=this.parseAdditive();for(;this.next.type==ok.Operator;){const t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();const n=this.parseAdditive();e=new AI(this.span(e.span.start),t,e,n);continue}break}return e}parseAdditive(){let e=this.parseMultiplicative();for(;this.next.type==ok.Operator;){const t=this.next.strValue;switch(t){case"+":case"-":this.advance();let n=this.parseMultiplicative();e=new AI(this.span(e.span.start),t,e,n);continue}break}return e}parseMultiplicative(){let e=this.parsePrefix();for(;this.next.type==ok.Operator;){const t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();let n=this.parsePrefix();e=new AI(this.span(e.span.start),t,e,n);continue}break}return e}parsePrefix(){if(this.next.type==ok.Operator){const e=this.inputIndex,t=this.next.strValue;let n;switch(t){case"+":return this.advance(),n=this.parsePrefix(),new AI(this.span(e),"-",n,new CI(new hI(e,e),0));case"-":return this.advance(),n=this.parsePrefix(),new AI(this.span(e),t,new CI(new hI(e,e),0),n);case"!":return this.advance(),n=this.parsePrefix(),new DI(this.span(e),n)}}return this.parseCallChain()}parseCallChain(){let e=this.parsePrimary();for(;;)if(this.optionalCharacter(OS))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(YS)){this.rbracketsExpected++;const t=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(JS),this.optionalOperator("=")){const n=this.parseConditional();e=new EI(this.span(e.span.start),e,t,n)}else e=new _I(this.span(e.span.start),e,t)}else if(this.optionalCharacter(AS)){this.rparensExpected++;const t=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(DS),e=new MI(this.span(e.span.start),e,t)}else{if(!this.optionalOperator("!"))return e;e=new NI(this.span(e.span.start),e)}}parsePrimary(){const e=this.inputIndex;if(this.optionalCharacter(AS)){this.rparensExpected++;const e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(DS),e}if(this.next.isKeywordNull())return this.advance(),new CI(this.span(e),null);if(this.next.isKeywordUndefined())return this.advance(),new CI(this.span(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new CI(this.span(e),!0);if(this.next.isKeywordFalse())return this.advance(),new CI(this.span(e),!1);if(this.next.isKeywordThis())return this.advance(),new mI(this.span(e));if(this.optionalCharacter(YS)){this.rbracketsExpected++;const t=this.parseExpressionList(JS);return this.rbracketsExpected--,this.expectCharacter(JS),new TI(this.span(e),t)}if(this.next.isCharacter(pC))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new mI(this.span(e)),!1);if(this.next.isNumber()){const t=this.next.toNumber();return this.advance(),new CI(this.span(e),t)}if(this.next.isString()){const t=this.next.toString();return this.advance(),new CI(this.span(e),t)}return this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new fI(this.span(e))):(this.error(`Unexpected token ${this.next}`),new fI(this.span(e)))}parseExpressionList(e){const t=[];if(!this.next.isCharacter(e))do{t.push(this.parsePipe())}while(this.optionalCharacter(PS));return t}parseLiteralMap(){const e=[],t=[],n=this.inputIndex;if(this.expectCharacter(pC),!this.optionalCharacter(fC)){this.rbracesExpected++;do{const n=this.next.isString(),r=this.expectIdentifierOrKeywordOrString();e.push({key:r,quoted:n}),this.expectCharacter(LS),t.push(this.parsePipe())}while(this.optionalCharacter(PS));this.rbracesExpected--,this.expectCharacter(fC)}return new xI(this.span(n),e,t)}parseAccessMemberOrMethodCall(e,t=!1){const n=e.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(AS)){this.rparensExpected++;const i=this.parseCallArguments();this.expectCharacter(DS),this.rparensExpected--;const s=this.span(n);return t?new PI(s,e,r,i):new kI(s,e,r,i)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new fI(this.span(n))):new bI(this.span(n),e,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new fI(this.span(n));const t=this.parseConditional();return new wI(this.span(n),e,r,t)}return new yI(this.span(n),e,r)}parseCallArguments(){if(this.next.isCharacter(DS))return[];const e=[];do{e.push(this.parsePipe())}while(this.optionalCharacter(PS));return e}expectTemplateBindingKey(){let e="",t=!1;do{e+=this.expectIdentifierOrKeywordOrString(),(t=this.optionalOperator("-"))&&(e+="-")}while(t);return e.toString()}parseTemplateBindings(e){let t=!0;const n=[];do{const r=this.inputIndex;let i,s,o=!1;t?(i=s=e,t=!1):((o=this.peekKeywordLet())&&this.advance(),i=this.expectTemplateBindingKey(),s=o?i:e+i[0].toUpperCase()+i.substring(1),this.optionalCharacter(LS));let a=null,u=null;if(o)a=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs())this.advance(),a=i,s=this.expectTemplateBindingKey(),o=!0;else if(this.next!==pk&&!this.peekKeywordLet()){const e=this.inputIndex,t=this.parsePipe(),n=this.input.substring(e-this.offset,this.inputIndex-this.offset);u=new RI(t,n,this.location,this.absoluteOffset,this.errors)}if(n.push(new LI(this.span(r),s,o,a,u)),this.peekKeywordAs()&&!o){const e=this.inputIndex;this.advance();const t=this.expectTemplateBindingKey();n.push(new LI(this.span(e),t,!0,s,null))}this.optionalCharacter(FS)||this.optionalCharacter(PS)}while(this.index<this.tokens.length);return new wk(n,[],this.errors)}error(e,t=null){this.errors.push(new lI(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return null==e&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(FS)&&(this.rparensExpected<=0||!e.isCharacter(DS))&&(this.rbracesExpected<=0||!e.isCharacter(fC))&&(this.rbracketsExpected<=0||!e.isCharacter(JS));)this.next.isError()&&this.errors.push(new lI(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}}class Sk{constructor(){this.errors=[]}static check(e){const t=new Sk;return e.visit(t),t.errors}visitImplicitReceiver(e,t){}visitInterpolation(e,t){}visitLiteralPrimitive(e,t){}visitPropertyRead(e,t){}visitPropertyWrite(e,t){}visitSafePropertyRead(e,t){}visitMethodCall(e,t){}visitSafeMethodCall(e,t){}visitFunctionCall(e,t){}visitLiteralArray(e,t){this.visitAll(e.expressions)}visitLiteralMap(e,t){this.visitAll(e.values)}visitBinary(e,t){}visitPrefixNot(e,t){}visitNonNullAssert(e,t){}visitConditional(e,t){}visitPipe(e,t){this.errors.push("pipes")}visitKeyedRead(e,t){}visitKeyedWrite(e,t){}visitAll(e){return e.map(e=>e.visit(this))}visitChain(e,t){}visitQuote(e,t){}}let Ck;function Tk(){return Ck||(Ck={},xk(Fb.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),xk(Fb.STYLE,["*|style"]),xk(Fb.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),xk(Fb.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),Ck}function xk(e,t){for(const n of t)Ck[n.toLowerCase()]=e}class Ik{}const Ak="boolean",Dk="number",Nk="string",kk="object",Pk=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],Mk={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};class Ok extends Ik{constructor(){super(),this._schema={},Pk.forEach(e=>{const t={},[n,r]=e.split("|"),i=r.split(","),[s,o]=n.split("^");s.split(",").forEach(e=>this._schema[e.toLowerCase()]=t);const a=o&&this._schema[o.toLowerCase()];a&&Object.keys(a).forEach(e=>{t[e]=a[e]}),i.forEach(e=>{if(e.length>0)switch(e[0]){case"*":break;case"!":t[e.substring(1)]=Ak;break;case"#":t[e.substring(1)]=Dk;break;case"%":t[e.substring(1)]=kk;break;default:t[e]=Nk}})})}hasProperty(e,t,n){if(n.some(e=>e.name===kb.name))return!0;if(e.indexOf("-")>-1){if(Yw(e)||Xw(e))return!1;if(n.some(e=>e.name===Nb.name))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]}hasElement(e,t){if(t.some(e=>e.name===kb.name))return!0;if(e.indexOf("-")>-1){if(Yw(e)||Xw(e))return!0;if(t.some(e=>e.name===Nb.name))return!0}return!!this._schema[e.toLowerCase()]}securityContext(e,t,n){n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let r=Tk()[e+"|"+t];return r||((r=Tk()["*|"+t])||Fb.NONE)}getMappedPropName(e){return Mk[e]||e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){if(e.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, `+`please use (${e.slice(2)})=...`+`\nIf '${e}' is a directive input, make sure the directive is imported by the`+" current module."}}return{error:!1}}validateAttribute(e){if(e.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, `+`please use (${e.slice(2)})=...`}}return{error:!1}}allKnownElementNames(){return Object.keys(this._schema)}normalizeAnimationStyleProperty(e){return e.replace(cE,(...e)=>e[1].toUpperCase())}normalizeAnimationStyleValue(e,t,n){let r="";const i=n.toString().trim();let s=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&(s=`Please provide a CSS unit value for ${t}:${n}`)}return{error:s,value:i+r}}}const Rk=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,Lk=1,Fk=2,Vk=3,Bk=4,Uk=5,jk=6,qk=7,$k=8,Hk=9,zk=10,Wk="*";function Kk(e,t){const n=new Gk(t),r=KA(n,e),i=t.errors.concat(n.errors),s=i.filter(e=>e.level===xC.ERROR);if(s.length>0){throw yE(`Template parse errors:\n${s.join("\n")}`,s)}return{nodes:r,errors:i,styleUrls:n.styleUrls,styles:n.styles}}class Gk{constructor(e){this.bindingParser=e,this.errors=[],this.styles=[],this.styleUrls=[]}visitElement(e){const t=SN(e);if(t.type===CN.SCRIPT)return null;if(t.type===CN.STYLE){const t=1===(n=e).children.length&&n.children[0]instanceof jA?n.children[0].value:null;return null!==t&&this.styles.push(t),null}if(t.type===CN.STYLESHEET&&tN(t.hrefAttr))return this.styleUrls.push(t.hrefAttr),null;var n;const r=Jw(e.name),i=[],s=[],o=[],a=[],u=[],c={},l=[],h=[];let p=!1;for(const m of e.attrs){let e=!1;const t=Yk(m.name);let n=!1;if(m.i18n&&(c[m.name]=m.i18n),t.startsWith(Wk)){p&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",m.sourceSpan),n=!0,p=!0;const e=m.value,r=t.substring(Wk.length),i=[],s=m.valueSpan?m.valueSpan.start.offset:m.sourceSpan.start.offset;this.bindingParser.parseInlineTemplateBinding(r,e,m.sourceSpan,s,[],l,i),h.push(...i.map(e=>new LC(e.name,e.value,e.sourceSpan)))}else e=this.parseAttribute(r,m,[],i,s,o,a);e||n||u.push(this.visitAttribute(m))}const d=KA(t.nonBindable?Qk:this,e.children);let f;if(t.type===CN.NG_CONTENT){e.children&&!e.children.every(e=>(function(e){return e instanceof jA&&0==e.value.trim().length})(e)||function(e){return e instanceof WA}(e))&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);const n=t.selectAttr,r=e.attrs.map(e=>this.visitAttribute(e));f=new RC(n,r,e.sourceSpan,e.i18n)}else if(r){const t=this.extractAttributes(e.name,i,c);f=new OC(e.name,u,t.bound,s,[],d,a,o,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{const t=this.extractAttributes(e.name,i,c);f=new MC(e.name,u,t.bound,s,d,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(p){const t=this.extractAttributes("ng-template",l,c),n=[];t.literal.forEach(e=>n.push(e)),t.bound.forEach(e=>n.push(e));const r=f instanceof MC?{attributes:f.attributes,inputs:f.inputs,outputs:f.outputs}:{attributes:[],inputs:[],outputs:[]};f=new OC(f.name,r.attributes,r.inputs,r.outputs,n,[f],[],h,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}return f}visitAttribute(e){return new NC(e.name,e.value,e.sourceSpan,e.valueSpan,e.i18n)}visitText(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.i18n)}visitExpansion(e){const t=e.i18n;if(!t)return null;const n={},r={};return Object.keys(t.placeholders).forEach(i=>{const s=t.placeholders[i];if(i.startsWith(HT)){const t=this.bindingParser.interpolationConfig,r=`${t.start}${s}${t.end}`;n[i]=this._visitTextWithInterpolation(r,e.sourceSpan)}else r[i]=this._visitTextWithInterpolation(s,e.sourceSpan)}),new VC(n,r,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return null}extractAttributes(e,t,n){const r=[],i=[];return t.forEach(t=>{const s=n[t.name];if(t.isLiteral)i.push(new NC(t.name,t.expression.source||"",t.sourceSpan,void 0,s));else{const n=this.bindingParser.createBoundElementProperty(e,t,!0,!1);r.push(kC.fromBoundElementProperty(n,s))}}),{bound:r,literal:i}}parseAttribute(e,t,n,r,i,s,o){const a=Yk(t.name),u=t.value,c=t.sourceSpan,l=t.valueSpan?t.valueSpan.start.offset:c.start.offset,h=a.match(Rk);let p=!1;if(h){if(p=!0,null!=h[Lk])this.bindingParser.parsePropertyBinding(h[qk],u,!1,c,l,t.valueSpan,n,r);else if(h[Fk])if(e){const e=h[qk];this.parseVariable(e,u,c,t.valueSpan,s)}else this.reportError('"let-" is only supported on ng-template elements.',c);else if(h[Vk]){const e=h[qk];this.parseReference(e,u,c,t.valueSpan,o)}else if(h[Bk]){const e=[];this.bindingParser.parseEvent(h[qk],u,c,t.valueSpan||c,n,e),Xk(e,i)}else if(h[Uk])this.bindingParser.parsePropertyBinding(h[qk],u,!1,c,l,t.valueSpan,n,r),this.parseAssignmentEvent(h[qk],u,c,t.valueSpan,n,i);else if(h[jk])this.bindingParser.parseLiteralAttr(a,u,c,l,t.valueSpan,n,r);else if(h[$k])this.bindingParser.parsePropertyBinding(h[$k],u,!1,c,l,t.valueSpan,n,r),this.parseAssignmentEvent(h[$k],u,c,t.valueSpan,n,i);else if(h[Hk])this.bindingParser.parsePropertyBinding(h[Hk],u,!1,c,l,t.valueSpan,n,r);else if(h[zk]){const e=[];this.bindingParser.parseEvent(h[zk],u,c,t.valueSpan||c,n,e),Xk(e,i)}}else p=this.bindingParser.parsePropertyInterpolation(a,u,c,t.valueSpan,n,r);return p}_visitTextWithInterpolation(e,t,n){const r=ED(e),i=this.bindingParser.parseInterpolation(r,t);return i?new DC(i,t,n):new AC(r,t)}parseVariable(e,t,n,r,i){e.indexOf("-")>-1&&this.reportError('"-" is not allowed in variable names',n),i.push(new LC(e,t,n,r))}parseReference(e,t,n,r,i){e.indexOf("-")>-1&&this.reportError('"-" is not allowed in reference names',n),i.push(new FC(e,t,n,r))}parseAssignmentEvent(e,t,n,r,i,s){const o=[];this.bindingParser.parseEvent(`${e}Change`,`${t}=$event`,n,r||n,i,o),Xk(o,s)}reportError(e,t,n=xC.ERROR){this.errors.push(new IC(t,e,n))}}const Qk=new class{visitElement(e){const t=SN(e);if(t.type===CN.SCRIPT||t.type===CN.STYLE||t.type===CN.STYLESHEET)return null;const n=KA(this,e.children,null);return new MC(e.name,KA(this,e.attrs),[],[],n,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new NC(e.name,e.value,e.sourceSpan,void 0,e.i18n)}visitText(e){return new AC(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}};function Yk(e){return/^data-/i.test(e)?e.substring(5):e}function Xk(e,t){t.push(...e.map(e=>PC.fromParsedEvent(e)))}var Jk;!function(e){e[e.ELEMENT=0]="ELEMENT",e[e.TEMPLATE=1]="TEMPLATE",e[e.PROJECTION=2]="PROJECTION"}(Jk||(Jk={}));class Zk{constructor(e,t,n=0,r=null,i,s){this.index=e,this.ref=t,this.level=n,this.templateIndex=r,this.meta=i,this.registry=s,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=s||{getUniqueId:ex(),icus:new Map},this.id=this._registry.getUniqueId()}appendTag(e,t,n,r){if(t.isVoid&&r)return;const i=t.isVoid||!r?t.startName:t.closeName,s={type:e,index:n,ctx:this.id,isVoid:t.isVoid,closed:r};nx(this.placeholders,i,s)}get icus(){return this._registry.icus}get isRoot(){return 0===this.level}get isResolved(){return 0===this._unresolvedCtxCount}getSerializedPlaceholders(){const e=new Map;return this.placeholders.forEach((t,n)=>e.set(n,t.map(rP))),e}appendBinding(e){this.bindings.add(e)}appendIcu(e,t){nx(this._registry.icus,e,t)}appendBoundText(e){rx(e,this.bindings.size,this.id).forEach((e,t)=>nx(this.placeholders,t,...e))}appendTemplate(e,t){this.appendTag(Jk.TEMPLATE,e,t,!1),this.appendTag(Jk.TEMPLATE,e,t,!0),this._unresolvedCtxCount++}appendElement(e,t,n){this.appendTag(Jk.ELEMENT,e,t,n)}appendProjection(e,t){this.appendTag(Jk.PROJECTION,e,t,!1),this.appendTag(Jk.PROJECTION,e,t,!0)}forkChildContext(e,t,n){return new Zk(e,this.ref,this.level+1,t,n,this._registry)}reconcileChildContext(e){["start","close"].forEach(t=>{const n=e.meta[`${t}Name`],r=(this.placeholders.get(n)||[]).find(nP(this.id,e.templateIndex));r&&(r.ctx=e.id)}),e.placeholders.forEach((t,n)=>{const r=this.placeholders.get(n);if(!r)return void this.placeholders.set(n,t);const i=function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(r,nP(e.id,e.templateIndex));if(i>=0){const e=n.startsWith("CLOSE");if(n.endsWith("NG-TEMPLATE"))r.splice(i+(e?0:1),0,...t);else{t[e?t.length-1:0].tmpl=r[i],r.splice(i,1,...t)}}else r.push(...t);this.placeholders.set(n,r)}),this._unresolvedCtxCount--}}function eP(e,t,n,r){return ZT(`${r?"/":""}${e}${t}`,n)}function tP(e,{index:t,ctx:n,isVoid:r},i){return r?eP(e,t,n)+eP(e,t,n,!0):eP(e,t,n,i)}function nP(e,t){return n=>"object"==typeof n&&n.type===Jk.TEMPLATE&&n.index===t&&n.ctx===e}function rP(e){const t=(e,t)=>tP("#",e,t),n=(e,t)=>tP("*",e,t);switch(e.type){case Jk.ELEMENT:return e.closed?t(e,!0)+(e.tmpl?n(e.tmpl,!0):""):e.tmpl?n(e.tmpl)+t(e)+(e.isVoid?n(e.tmpl,!0):""):t(e);case Jk.TEMPLATE:return n(e,e.closed);case Jk.PROJECTION:return((e,t)=>tP("!",e,t))(e,e.closed);default:return e}}const iP={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class sP{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,t,n){const r=this._hashTag(e,t,n);if(this._signatureToName[r])return this._signatureToName[r];const i=e.toUpperCase(),s=iP[i]||`TAG_${i}`,o=this._generateUniqueName(n?s:`START_${s}`);return this._signatureToName[r]=o,o}getCloseTagPlaceholderName(e){const t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];const n=e.toUpperCase(),r=iP[n]||`TAG_${n}`,i=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[t]=i,i}getPlaceholderName(e,t){const n=e.toUpperCase(),r=`PH: ${n}=${t}`;if(this._signatureToName[r])return this._signatureToName[r];const i=this._generateUniqueName(n);return this._signatureToName[r]=i,i}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}_hashTag(e,t,n){return`<${e}`+Object.keys(t).sort().map(e=>` ${e}=${t[e]}`).join("")+(n?"/>":`></${e}>`)}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;const t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,`${e}_${t}`}}const oP=new _k(new uk);function aP(e){const t=new uP(oP,e);return(e,n,r,i,s)=>t.toI18nMessage(e,n,r,i,s)}class uP{constructor(e,t){this._expressionParser=e,this._interpolationConfig=t}toI18nMessage(e,t,n,r,i){this._isIcu=1==e.length&&e[0]instanceof qA,this._icuDepth=0,this._placeholderRegistry=new sP,this._placeholderToContent={},this._placeholderToMessage={},this._visitNodeFn=i;const s=KA(this,e,{});return new UC(s,this._placeholderToContent,this._placeholderToMessage,t,n,r)}_visitNode(e,t){return this._visitNodeFn&&this._visitNodeFn(e,t),t}visitElement(e,t){const n=KA(this,e.children),r={};e.attrs.forEach(e=>{r[e.name]=e.value});const i=ob(e.name).isVoid,s=this._placeholderRegistry.getStartTagPlaceholderName(e.name,r,i);this._placeholderToContent[s]=e.sourceSpan.toString();let o="";i||(o=this._placeholderRegistry.getCloseTagPlaceholderName(e.name),this._placeholderToContent[o]=`</${e.name}>`);const a=new HC(e.name,r,s,o,n,i,e.sourceSpan);return this._visitNode(e,a)}visitAttribute(e,t){const n=this._visitTextWithInterpolation(e.value,e.sourceSpan);return this._visitNode(e,n)}visitText(e,t){const n=this._visitTextWithInterpolation(e.value,e.sourceSpan);return this._visitNode(e,n)}visitComment(e,t){return null}visitExpansion(e,t){this._icuDepth++;const n={},r=new $C(e.switchValue,e.type,n,e.sourceSpan);if(e.cases.forEach(e=>{n[e.value]=new qC(e.expression.map(e=>e.visit(this,{})),e.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){const t=this._placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=t,this._placeholderToContent[t]=e.switchValue,this._visitNode(e,r)}const i=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),s=new uP(this._expressionParser,this._interpolationConfig);this._placeholderToMessage[i]=s.toI18nMessage([e],"","","");const o=new WC(r,i,e.sourceSpan);return this._visitNode(e,o)}visitExpansionCase(e,t){throw new Error("Unreachable code")}_visitTextWithInterpolation(e,t){const n=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!n)return new jC(e,t);const r=[],i=new qC(r,t),{start:s,end:o}=this._interpolationConfig;for(let u=0;u<n.strings.length-1;u++){const e=n.expressions[u],i=e.split(cP)[2]||"INTERPOLATION",a=this._placeholderRegistry.getPlaceholderName(i,e);n.strings[u].length&&r.push(new jC(n.strings[u],t)),r.push(new zC(e,a,t)),this._placeholderToContent[a]=s+e+o}const a=n.strings.length-1;return n.strings[a].length&&r.push(new jC(n.strings[a],t)),i}}const cP=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function lP(e,t){e.i18n=t}class hP{constructor(e=Bx,t=!1){this.interpolationConfig=e,this.keepI18nAttrs=t,this._createI18nMessage=aP(e)}_generateI18nMessage(e,t="",n){const r="string"==typeof t?function(e){let t,n,r;if(e){const i=e.indexOf(jT),s=e.indexOf(UT);let o;[o,t]=i>-1?[e.slice(0,i),e.slice(i+2)]:[e,""],[n,r]=s>-1?[o.slice(0,s),o.slice(s+1)]:["",o]}return{id:t,meaning:n,description:r}}(t):XT(t),i=this._createI18nMessage(e,r.meaning||"",r.description||"",r.id||"",n);return i.id||(i.id="string"!=typeof t&&t.id||QC(i)),i}visitElement(e,t){if(function(e){return e.attrs.some(e=>GT(e.name))}(e)){const t=[],n={};for(const r of e.attrs)if(r.name===qT){const t=e.i18n||r.value,n=this._generateI18nMessage(e.children,t,lP);n.nodes.length&&(e.i18n=n)}else if(r.name.startsWith($T)){n[r.name.slice($T.length)]=r.value}else t.push(r);if(Object.keys(n).length)for(const e of t){const t=n[e.name];void 0!==t&&e.value&&(e.i18n=this._generateI18nMessage([e],e.i18n||t))}this.keepI18nAttrs||(e.attrs=t)}return KA(this,e.children),e}visitExpansion(e,t){let n;const r=e.i18n;if(r instanceof WC){const t=r.name;JT(n=this._generateI18nMessage([e],r)).name=t}else n=this._generateI18nMessage([e],r);return e.i18n=n,e}visitText(e,t){return e}visitAttribute(e,t){return e}visitComment(e,t){return e}visitExpansionCase(e,t){return e}}const pP=new class{constructor(){this.icuNestingLevel=0}formatPh(e){const t=this.icuNestingLevel>0,n=ix(e,!t);return t?`{${n}}`:`{$${n}}`}visitText(e,t){return e.value}visitContainer(e,t){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e,t){this.icuNestingLevel++;const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`),r=`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`;return this.icuNestingLevel--,r}visitTagPlaceholder(e,t){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(e=>e.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e,t){return this.formatPh(e.name)}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}};const dP="select",fP="ngProjectAs",mP=new Map([["window",pS.resolveWindow],["document",pS.resolveDocument],["body",pS.resolveBody]]),gP=[" ","\n","\r","\t"];function vP(e,t){return oE(Z_(cx).bitwiseAnd(aE(e),null,!1),t)}function yP(e,t=null,n=null){const{type:r,name:i,target:s,phase:o,handler:a}=e;if(s&&!mP.has(s))throw new Error(`Unexpected global target '${s}' defined for '${i}' event.\n        Supported list of global targets: ${Array.from(mP.keys())}.`);const u=null===n||0===n.bindingLevel?Z_(ux):n.getOrCreateSharedContextVar(0),c=QI(n,u,a,"b",()=>vE("Unexpected interpolation"),e.handlerSpan),l=[];n&&(l.push(...n.restoreViewStatement()),l.push(...n.variableDeclarations())),l.push(...c.render3Stmts);const h=1===r?function(e,t){return`${Px}${e}.${t}`}(i,o):i,p=t&&HE(t),d=sE([new __("$event",Qb)],l,Yb,null,p),f=[aE(h),d];return s&&f.push(aE(!1),eE(mP.get(s))),f}class wP{constructor(e,t,n=0,r,i,s,o,a,u,c,l,h,p,d){this.constantPool=e,this.level=n,this.contextName=r,this.i18nContext=i,this.templateIndex=s,this.templateName=o,this.directiveMatcher=a,this.directives=u,this.pipeTypeByName=c,this.pipes=l,this._namespace=h,this.relativeContextFilePath=p,this.i18nUseExternalIds=d,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._lastNodeIndexWithFlush=-1,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=fx,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=mx,this.visitVariable=mx,this.visitTextAttribute=mx,this.visitBoundAttribute=mx,this.visitBoundEvent=mx,this._bindingScope=t.nestedScope(n),this.fileBasedI18nSuffix=p.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new bP(e,()=>this.allocateDataSlot(),e=>this.allocatePureFunctionSlots(e),(e,t,n,r)=>{const i=c.get(e);i&&this.pipes.add(i),this._bindingScope.set(this.level,t,r),this.creationInstruction(null,pS.pipe,[aE(n),aE(e)])})}registerContextVariables(e){const t=this._bindingScope.freshReferenceName(),n=this.level,r=Z_(e.name+t);this._bindingScope.set(n,e.name,r,1,(t,i)=>{let s;if(t.bindingLevel===n)s=Z_(ux);else{const e=t.getSharedContextName(n);s=e||CP(i)}return[r.set(s.prop(e.value||hx)).toConstDecl()]})}buildTemplateFunction(e,t,n=0,r){this._ngContentSelectorsOffset=n,this._namespace!==pS.namespaceHTML&&this.creationInstruction(null,this._namespace),t.forEach(e=>this.registerContextVariables(e));const i=this.i18nContext||QT(r)&&!YT(r)&&!(1===(s=e).length&&s[0]instanceof MC&&e[0].i18n===r);var s;const o=MP(e);if(i&&this.i18nStart(null,r,o),BC(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(e=>e()),0===this.level&&this._ngContentReservedSlots.length){const e=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){const t=this._ngContentReservedSlots.map(e=>"*"!==e?jb(e):e);e.push(this.constantPool.getConstLiteral(gx(t),!0))}this.creationInstruction(null,pS.projectionDef,e,!0)}i&&this.i18nEnd(null,o);const a=this._creationCodeFns.map(e=>e()),u=this._updateCodeFns.map(e=>e()),c=this._bindingScope.viewSnapshotStatements(),l=this._bindingScope.variableDeclarations().concat(this._tempVariables),h=a.length>0?[vP(1,c.concat(a))]:[],p=u.length>0?[vP(2,l.concat(u))]:[];return sE([new __(cx,Jb),new __(ux,null)],[...this._prefixCode,...h,...p],Yb,null,this.templateName)}getLocal(e){return this._bindingScope.get(e)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}i18nTranslate(e,t={},n,r){const i=n||Z_(this.constantPool.uniqueName(FT)),s=this.i18nGenerateClosureVar(e.id),o=this.i18nFormatPlaceholderNames(t,!0),a=XT(e),u=function(e,t,n,r,i={},s){const o=[];return o.push(...KT(e,t,n,r,i)),s&&o.push(new L_(e.set(s(e)))),o}(i,s,function(e){return e.nodes.map(e=>e.visit(pP,null)).join("")}(e),a,o,r);return this.constantPool.statements.push(...u),i}i18nFormatPlaceholderNames(e={},t){const n={};return e&&Object.keys(e).length&&Object.keys(e).forEach(r=>n[ix(r,t)]=e[r]),n}i18nAppendBindings(e){e.length>0&&e.forEach(e=>this.i18n.appendBinding(e))}i18nBindProps(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(r instanceof AC)t[n]=aE(r.value);else{const e=r.value.visit(this._valueConverter);if(this.allocateBindingSlots(e),e instanceof II){const{strings:r,expressions:i}=e,{id:s,bindings:o}=this.i18n,a=function(e,t=0,n=0){if(!e.length)return"";let r="";const i=e.length-1;for(let s=0;s<i;s++)r+=`${e[s]}${ZT(t+s,n)}`;return r+=e[i]}(r,o.size,s);this.i18nAppendBindings(i),t[n]=aE(a)}}}),t}i18nGenerateClosureVar(e){let t;const n=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){const r=sx("EXTERNAL_"),i=this.constantPool.uniqueName(n);t=`${r}${HE(e)}$$${i}`}else{const e=sx(n);t=this.constantPool.uniqueName(e)}return Z_(t)}i18nUpdateRef(e){const{icus:t,meta:n,isRoot:r,isResolved:i,isEmitted:s}=e;if(r&&i&&!s&&!YT(n)){e.isEmitted=!0;const r=e.getSerializedPlaceholders();let i={},s=r.size?tx(r):{};let o;t.size&&t.forEach((e,t)=>{if(1===e.length)s[t]=e[0];else{const n=ZT(`${zT}${t}`);s[t]=aE(n),i[t]=rE(e)}}),(Array.from(r.values()).some(e=>e.length>1)||Object.keys(i).length)&&(o=e=>{const t=[e];return Object.keys(i).length&&t.push(RT(i,!0)),SP(null,pS.i18nPostprocess,t)}),this.i18nTranslate(n,s,e.ref,o)}}i18nStart(e=null,t,n){const r=this.allocateDataSlot();if(this.i18nContext)this.i18n=this.i18nContext.forkChildContext(r,this.templateIndex,t);else{const e=Z_(this.constantPool.uniqueName(FT));this.i18n=new Zk(r,e,0,this.templateIndex,t)}const{id:i,ref:s}=this.i18n,o=[aE(r),s];i>0&&o.push(aE(i)),this.creationInstruction(e,n?pS.i18n:pS.i18nStart,o)}i18nEnd(e=null,t){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);const{index:n,bindings:r}=this.i18n;if(r.size){const t=[];r.forEach(n=>{t.push({sourceSpan:e,value:()=>this.convertPropertyBinding(n)})}),this.updateInstructionChain(n,pS.i18nExp,t),this.updateInstruction(n,e,pS.i18nApply,[aE(n)])}t||this.creationInstruction(e,pS.i18nEnd),this.i18n=null}visitContent(e){const t=this.allocateDataSlot(),n=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[aE(t)],i=[];this._ngContentReservedSlots.push(e.selector),e.attributes.forEach(e=>{const{name:t,value:n}=e;t===fP?i.push(...DP(e)):t.toLowerCase()!==dP&&i.push(aE(t),aE(n))}),i.length>0?r.push(aE(n),rE(i)):0!==n&&r.push(aE(n)),this.creationInstruction(e.sourceSpan,pS.projection,r),this.i18n&&this.i18n.appendProjection(e.i18n,t)}getNamespaceInstruction(e){switch(e){case"math":return pS.namespaceMathML;case"svg":return pS.namespaceSVG;default:return pS.namespaceHTML}}addNamespaceInstruction(e,t){this._namespace=e,this.creationInstruction(t.sourceSpan,e)}visitElement(e){const t=this.allocateDataSlot(),n=new nk(aE(t),null);let r=!1;const i=QT(e.i18n)&&!YT(e.i18n);if(i&&this.i18n)throw new Error("Could not mark an element as translatable inside of a translatable section");const s=[],o=[],[a,u]=Qw(e.name),c=Yw(e.name);for(const S of e.attributes){const{name:e,value:t}=S;e===px?r=!0:"style"===e?n.registerStyleAttr(t):"class"===e?n.registerClassAttr(t):S.i18n?s.push(S):o.push(S)}this.matchDirectives(e.name,e);const l=[aE(t)];c||l.push(aE(u));const h=[],p=[];e.inputs.forEach(e=>{n.registerBoundInput(e)||(0===e.type&&e.i18n?s.push(e):p.push(e))}),o.forEach(e=>{e.name===fP?h.push(...DP(e)):h.push(...xP(e.name),aE(e.value))}),h.push(...this.prepareNonRenderAttrs(p,e.outputs,n,[],s)),l.push(this.toAttrsParam(h)),l.push(this.prepareRefsParameter(e.references));const d=this._namespace,f=this.getNamespaceInstruction(a);f!==d&&this.addNamespaceInstruction(f,e),this.i18n&&this.i18n.appendElement(e.i18n,t);const m=!i&&this.i18n?!MP(e.children):e.children.length>0,g=!n.hasBindings&&0===e.outputs.length&&0===s.length&&!m,v=!g&&!n.hasBindings&&MP(e.children);if(g)this.creationInstruction(e.sourceSpan,c?pS.elementContainer:pS.element,yx(l));else{if(this.creationInstruction(e.sourceSpan,c?pS.elementContainerStart:pS.elementStart,yx(l)),r&&this.creationInstruction(e.sourceSpan,pS.disableBindings),s.length){let n=!1;const r=[],i=[];if(s.forEach(t=>{const s=t.i18n;if(t instanceof NC)r.push(aE(t.name),this.i18nTranslate(s));else{const o=t.value.visit(this._valueConverter);if(this.allocateBindingSlots(o),o instanceof II){const a=tx(rx(s));r.push(aE(t.name),this.i18nTranslate(s,a)),o.expressions.forEach(t=>{n=!0,i.push({sourceSpan:e.sourceSpan,value:()=>this.convertExpressionBinding(t)})})}}}),i.length&&this.updateInstructionChain(t,pS.i18nExp,i),r.length){const i=aE(this.allocateDataSlot()),s=this.constantPool.getConstLiteral(rE(r),!0);this.creationInstruction(e.sourceSpan,pS.i18nAttributes,[i,s]),n&&this.updateInstruction(t,e.sourceSpan,pS.i18nApply,[i])}}this.processStylingInstruction(t,n.buildStylingInstruction(e.sourceSpan,this.constantPool),!0),e.outputs.forEach(n=>{this.creationInstruction(n.sourceSpan,pS.listener,this.prepareListenerParameter(e.name,n,t))}),i&&this.i18nStart(e.sourceSpan,e.i18n,v)}const y=n.buildUpdateLevelInstructions(this._valueConverter),w=y.length-1;for(let S=0;S<=w;S++){const e=y[S];this._bindingSlots+=e.allocateBindingSlots,this.processStylingInstruction(t,e,!1)}const b=aE(void 0),_=[],E=[];if(p.forEach(e=>{const n=e.type;if(4===n){const t=e.value.visit(this._valueConverter),n=!(t instanceof CI)||!!t.value;this.allocateBindingSlots(t),_.push({name:Mx(e.name),sourceSpan:e.sourceSpan,value:()=>n?this.convertPropertyBinding(t):b})}else{if(e.i18n)return;const r=e.value.visit(this._valueConverter);if(void 0!==r){const i=[],[s,o]=Qw(e.name),a=1===n,u=kP(e.securityContext,a);if(u&&i.push(u),s){const e=aE(s);u?i.push(e):i.push(aE(null),e)}if(this.allocateBindingSlots(r),0===n)r instanceof II?this.interpolatedUpdateInstruction(function(e){switch(Sx(e)){case 1:return pS.propertyInterpolate;case 3:return pS.propertyInterpolate1;case 5:return pS.propertyInterpolate2;case 7:return pS.propertyInterpolate3;case 9:return pS.propertyInterpolate4;case 11:return pS.propertyInterpolate5;case 13:return pS.propertyInterpolate6;case 15:return pS.propertyInterpolate7;case 17:return pS.propertyInterpolate8;default:return pS.propertyInterpolateV}}(r),t,o,e,r,i):_.push({name:o,sourceSpan:e.sourceSpan,value:()=>this.convertPropertyBinding(r),params:i});else if(1===n)if(r instanceof II&&Sx(r)>1)this.interpolatedUpdateInstruction(function(e){switch(Sx(e)){case 3:return pS.attributeInterpolate1;case 5:return pS.attributeInterpolate2;case 7:return pS.attributeInterpolate3;case 9:return pS.attributeInterpolate4;case 11:return pS.attributeInterpolate5;case 13:return pS.attributeInterpolate6;case 15:return pS.attributeInterpolate7;case 17:return pS.attributeInterpolate8;default:return pS.attributeInterpolateV}}(r),t,o,e,r,i);else{const t=r instanceof II?r.expressions[0]:r;E.push({name:o,sourceSpan:e.sourceSpan,value:()=>this.convertPropertyBinding(t),params:i})}else this.updateInstruction(t,e.sourceSpan,pS.classProp,()=>[aE(t),aE(o),this.convertPropertyBinding(r),...i])}}}),_.length>0&&this.updateInstructionChain(t,pS.property,_),E.length>0&&this.updateInstructionChain(t,pS.attribute,E),BC(this,e.children),!i&&this.i18n&&this.i18n.appendElement(e.i18n,t,!0),!g){const t=e.endSourceSpan||e.sourceSpan;i&&this.i18nEnd(t,v),r&&this.creationInstruction(t,pS.enableBindings),this.creationInstruction(t,c?pS.elementContainerEnd:pS.elementEnd)}}interpolatedUpdateInstruction(e,t,n,r,i,s){this.updateInstruction(t,r.sourceSpan,e,()=>[aE(n),...this.getUpdateInstructionArguments(i),...s])}visitTemplate(e){const t=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(e.i18n,t);const n=HE(e.tagName||""),r=`${this.contextName}${n?"_"+n:""}_${t}`,i=`${r}_Template`,s=[aE(t),Z_(i),aE(e.tagName?Qw(e.tagName)[1]:e.tagName)];this.matchDirectives("ng-template",e);const o=[];e.attributes.forEach(e=>{o.push(gx(e.name),gx(e.value))}),o.push(...this.prepareNonRenderAttrs(e.inputs,e.outputs,void 0,e.templateAttrs)),s.push(this.toAttrsParam(o)),e.references&&e.references.length&&(s.push(this.prepareRefsParameter(e.references)),s.push(eE(pS.templateRefExtractor)));const a=new wP(this.constantPool,this._bindingScope,this.level+1,r,this.i18n,t,i,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds);this._nestedTemplateFns.push(()=>{const t=a.buildTemplateFunction(e.children,e.variables,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,e.i18n);this.constantPool.statements.push(t.toDeclStmt(i,null)),a._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...a._ngContentReservedSlots)}),this.creationInstruction(e.sourceSpan,pS.templateCreate,()=>(s.splice(2,0,aE(a.getConstCount()),aE(a.getVarCount())),yx(s))),this.templatePropertyBindings(t,e.templateAttrs),"ng-template"===e.tagName&&(this.templatePropertyBindings(t,e.inputs),e.outputs.forEach(e=>{this.creationInstruction(e.sourceSpan,pS.listener,this.prepareListenerParameter("ng_template",e,t))}))}visitBoundText(e){if(this.i18n){const t=e.value.visit(this._valueConverter);return this.allocateBindingSlots(t),void(t instanceof II&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(t.expressions)))}const t=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,pS.text,[aE(t)]);const n=e.value.visit(this._valueConverter);this.allocateBindingSlots(n),n instanceof II?this.updateInstruction(t,e.sourceSpan,function(e){switch(Sx(e)){case 1:return pS.textInterpolate;case 3:return pS.textInterpolate1;case 5:return pS.textInterpolate2;case 7:return pS.textInterpolate3;case 9:return pS.textInterpolate4;case 11:return pS.textInterpolate5;case 13:return pS.textInterpolate6;case 15:return pS.textInterpolate7;case 17:return pS.textInterpolate8;default:return pS.textInterpolateV}}(n),()=>this.getUpdateInstructionArguments(n)):this.updateInstruction(t,e.sourceSpan,pS.textBinding,()=>[this.convertPropertyBinding(n)])}visitText(e){this.i18n||this.creationInstruction(e.sourceSpan,pS.text,[aE(this.allocateDataSlot()),aE(e.value)])}visitIcu(e){let t=!1;this.i18n||(t=!0,this.i18nStart(null,e.i18n,!0));const n=this.i18n,r=this.i18nBindProps(e.vars),i=this.i18nBindProps(e.placeholders),s=e.i18n,o=e=>{const t=Object.assign({},r,i),n=this.i18nFormatPlaceholderNames(t,!1);return SP(null,pS.i18nPostprocess,[e,RT(n,!0)])};if(YT(n.meta))this.i18nTranslate(s,{},n.ref,o);else{const e=this.i18nTranslate(s,{},void 0,o);n.appendIcu(JT(s).name,e)}return t&&this.i18nEnd(null,!0),null}allocateDataSlot(){return this._dataIndex++}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(gx(this._ngContentReservedSlots),!0):null}bindingContext(){return`${this._bindingContext++}`}templatePropertyBindings(e,t){const n=[];t.forEach(e=>{if(e instanceof kC){const t=e.value.visit(this._valueConverter);void 0!==t&&(this.allocateBindingSlots(t),n.push({name:e.name,sourceSpan:e.sourceSpan,value:()=>this.convertPropertyBinding(t)}))}}),n.length>0&&this.updateInstructionChain(e,pS.property,n)}instructionFn(e,t,n,r,i=!1){e[i?"unshift":"push"](()=>{const e=Array.isArray(r)?r:r();return SP(t,n,e).toStmt()})}processStylingInstruction(e,t,n){t&&(n?this.creationInstruction(t.sourceSpan,t.reference,()=>t.params(e=>this.convertPropertyBinding(e))):this.updateInstruction(e,t.sourceSpan,t.reference,()=>t.params(e=>t.supportsInterpolation&&e instanceof II?this.getUpdateInstructionArguments(e):this.convertPropertyBinding(e))))}creationInstruction(e,t,n,r){this.instructionFn(this._creationCodeFns,e,t,n||[],r)}updateInstruction(e,t,n,r){this.addSelectInstructionIfNecessary(e,t),this.instructionFn(this._updateCodeFns,t,n,r||[])}updateInstructionChain(e,t,n){const r=n.length?n[0].sourceSpan:null;this.addSelectInstructionIfNecessary(e,r),this._updateCodeFns.push(()=>{const e=n.map(e=>{const t=[e.value(),...e.params||[]];return e.name&&t.unshift(aE(e.name)),t});return Ex(t,e,r).toStmt()})}addSelectInstructionIfNecessary(e,t){this._lastNodeIndexWithFlush<e&&(e>0&&this.instructionFn(this._updateCodeFns,t,pS.select,[aE(e)]),this._lastNodeIndexWithFlush=e)}allocatePureFunctionSlots(e){const t=this._pureFunctionSlots;return this._pureFunctionSlots+=e,t}allocateBindingSlots(e){this._bindingSlots+=e instanceof II?e.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?Z_(ux):this._bindingScope.getOrCreateSharedContextVar(0)}convertExpressionBinding(e){return JI(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),qI.TrySimple).currValExpr}convertPropertyBinding(e){const t=JI(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),qI.TrySimple,()=>vE("Unexpected interpolation")),n=t.currValExpr;return this._tempVariables.push(...t.stmts),n}getUpdateInstructionArguments(e){const{args:t,stmts:n}=function(e,t,n,r){const i=new sA(e,t,r,void 0),s=n.visit(i,$I.Expression);i.usesImplicitReceiver&&e.notifyImplicitReceiverUse();const o=ZI(i,r);let a=s.args.slice(1);if(n instanceof II){const e=n.strings;3===a.length&&""===e[0]&&""===e[1]?a=[a[1]]:a.length>=19&&(a=[rE(a)])}return{stmts:o,args:a}}(this,this.getImplicitReceiverExpr(),e,this.bindingContext());return this._tempVariables.push(...n),t}matchDirectives(e,t){if(this.directiveMatcher){const n=function(e,t){const n=new ub;return n.setElement(e),Object.getOwnPropertyNames(t).forEach(e=>{const r=t[e];if(n.addAttribute(e,r),"class"===e.toLowerCase()){r.trim().split(/\s+/).forEach(e=>n.addClassName(e))}}),n}(e,_x(t));this.directiveMatcher.match(n,(e,t)=>{this.directives.add(t)})}}prepareNonRenderAttrs(e,t,n,r=[],i=[]){const s=new Set,o=[];function a(e,t){"string"==typeof e?s.has(e)||(o.push(...xP(e)),void 0!==t&&o.push(t),s.add(e)):o.push(aE(e))}if(n&&n.populateInitialStylingAttrs(o),e.length||t.length){const n=o.length;for(let t=0;t<e.length;t++){const n=e[t];4!==n.type&&1!==n.type&&a(n.name)}for(let e=0;e<t.length;e++){const n=t[e];1!==n.type&&a(n.name)}o.length!==n&&o.splice(n,0,aE(3))}return r.length&&(o.push(aE(4)),r.forEach(e=>a(e.name))),i.length&&(o.push(aE(6)),i.forEach(e=>a(e.name))),o}toAttrsParam(e){return e.length>0?this.constantPool.getConstLiteral(rE(e),!0):k_}prepareRefsParameter(e){if(!e||0===e.length)return k_;const t=uS(e.map(e=>{const t=this.allocateDataSlot(),n=this._bindingScope.freshReferenceName(),r=this.level,i=Z_(n);return this._bindingScope.set(r,e.name,i,0,(e,n)=>{const r=n>0?[CP(n).toStmt()]:[],s=i.set(eE(pS.reference).callFn([aE(t)]));return r.concat(s.toConstDecl())},!0),[e.name,e.value]}));return this.constantPool.getConstLiteral(gx(t),!0)}prepareListenerParameter(e,t,n){return()=>{const r=t.name,i=1===t.type?Ox(r,t.phase):HE(r),s=`${this.templateName}_${e}_${i}_${n}_listener`,o=this._bindingScope.nestedScope(this._bindingScope.bindingLevel);return yP(t,s,o)}}}class bP extends BI{constructor(e,t,n,r){super(),this.constantPool=e,this.allocateSlot=t,this.allocatePureFunctionSlots=n,this.definePipe=r,this._pipeBindExprs=[]}visitPipe(e,t){const n=this.allocateSlot(),r=`PIPE:${n}`,i=this.allocatePureFunctionSlots(2+e.args.length),s=new yI(e.span,new mI(e.span),r),{identifier:o,isVarLength:a}=function(e){const t=_P[e.length];return{identifier:t||pS.pipeBindV,isVarLength:!t}}(e.args);this.definePipe(e.name,r,n,eE(o));const u=[e.exp,...e.args],c=a?this.visitAll([new TI(e.span,u)]):this.visitAll(u),l=new MI(e.span,s,[new CI(e.span,n),new CI(e.span,i),...c]);return this._pipeBindExprs.push(l),l}updatePipeSlotOffsets(e){this._pipeBindExprs.forEach(t=>{t.args[1].value+=e})}visitLiteralArray(e,t){return new aA(e.span,this.visitAll(e.expressions),e=>{const t=rE(e);return e.every(e=>e.isConstant())?this.constantPool.getConstLiteral(t,!0):TP(this.constantPool,t,this.allocatePureFunctionSlots)})}visitLiteralMap(e,t){return new aA(e.span,this.visitAll(e.values),t=>{const n=iE(t.map((t,n)=>({key:e.keys[n].key,value:t,quoted:e.keys[n].quoted})));return t.every(e=>e.isConstant())?this.constantPool.getConstLiteral(n,!0):TP(this.constantPool,n,this.allocatePureFunctionSlots)})}}const _P=[pS.pipeBind1,pS.pipeBind2,pS.pipeBind3,pS.pipeBind4];const EP=[pS.pureFunction0,pS.pureFunction1,pS.pureFunction2,pS.pureFunction3,pS.pureFunction4,pS.pureFunction5,pS.pureFunction6,pS.pureFunction7,pS.pureFunction8];function SP(e,t,n){return eE(t,null,e).callFn(n,e)}function CP(e){return eE(pS.nextContext).callFn(e>1?[aE(e)]:[])}function TP(e,t,n){const{literalFactory:r,literalFactoryArguments:i}=e.getLiteralFactory(t),s=n(1+i.length);i.length>0||vE("Expected arguments to a literal factory function");const{identifier:o,isVarLength:a}=function(e){const t=EP[e.length];return{identifier:t||pS.pureFunctionV,isVarLength:!t}}(i),u=[aE(s),r];return a?u.push(rE(i)):u.push(...i),eE(o).callFn(u)}function xP(e){const[t,n]=Qw(e),r=aE(n);return t?[aE(0),aE(t),r]:[r]}const IP="$$shared_ctx$$";class AP{constructor(e=0,t=null){this.bindingLevel=e,this.parent=t,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null}static get ROOT_SCOPE(){return AP._ROOT_SCOPE||(AP._ROOT_SCOPE=(new AP).set(0,"$event",Z_("$event"))),AP._ROOT_SCOPE}get(e){let t=this;for(;t;){let n=t.map.get(e);if(null!=n)return t!==this&&(n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority,localRef:n.localRef},this.map.set(e,n),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView(n.retrievalLevel,n.localRef)),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;t=t.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)}set(e,t,n,r=0,i,s){if(this.map.has(t)){if(s)return this;vE(`The name ${t} is already defined in scope to be ${this.map.get(t)}`)}return this.map.set(t,{retrievalLevel:e,lhs:n,declare:!1,declareLocalCallback:i,priority:r,localRef:s||!1}),this}getLocal(e){return this.get(e)}notifyImplicitReceiverUse(){0!==this.bindingLevel&&(this.map.get(IP+0).declare=!0)}nestedScope(e){const t=new AP(e,this);return e>0&&t.generateSharedContextVar(0),t}getOrCreateSharedContextVar(e){const t=IP+e;return this.map.has(t)||this.generateSharedContextVar(e),this.map.get(t).lhs}getSharedContextName(e){const t=this.map.get(IP+e);return t&&t.declare?t.lhs:null}maybeGenerateSharedContextVar(e){if(1===e.priority&&e.retrievalLevel<this.bindingLevel){const t=this.map.get(IP+e.retrievalLevel);t?t.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}generateSharedContextVar(e){const t=Z_(ux+this.freshReferenceName());this.map.set(IP+e,{retrievalLevel:e,lhs:t,declareLocalCallback:(e,n)=>[t.set(CP(n)).toConstDecl()],declare:!1,priority:2,localRef:!1})}getComponentProperty(e){const t=this.map.get(IP+0);return t.declare=!0,this.maybeRestoreView(0,!1),t.lhs.prop(e)}maybeRestoreView(e,t){this.isListenerScope()&&(e<this.bindingLevel||t)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=Z_(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){return this.restoreViewVariable?[SP(null,pS.restoreView,[this.restoreViewVariable]).toStmt()]:[]}viewSnapshotStatements(){const e=SP(null,pS.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(e).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let e=0;return Array.from(this.map.values()).filter(e=>e.declare).sort((e,t)=>t.retrievalLevel-e.retrievalLevel||t.priority-e.priority).reduce((t,n)=>{const r=this.bindingLevel-n.retrievalLevel,i=n.declareLocalCallback(this,r-e);return e=r,t.concat(i)},[])}freshReferenceName(){let e=this;for(;e.parent;)e=e.parent;return`${lx}${e.referenceNameIndex++}`}}function DP(e){const t=jb(e.value)[0];return[aE(5),gx(t)]}function NP(e=Bx){return new lN(new _k(new uk),e,new Ok,null,[])}function kP(e,t){switch(e){case Fb.HTML:return eE(pS.sanitizeHtml);case Fb.SCRIPT:return eE(pS.sanitizeScript);case Fb.STYLE:return t?eE(pS.sanitizeStyle):null;case Fb.URL:return eE(pS.sanitizeUrl);case Fb.RESOURCE_URL:return eE(pS.sanitizeResourceUrl);default:return null}}function PP(e){return e instanceof AC||e instanceof DC||e instanceof VC}function MP(e){return e.every(PP)}const OP=[],RP=/attr\.([^\]]+)/;function LP(e,t,n){const r=new bx;r.set("type",e.type),r.set("selectors",gx(jb(e.selector)));const i=xx({name:e.name,type:e.type,deps:e.deps,injectFn:pS.directiveInject});return r.set("factory",i.factory),e.queries.length>0&&r.set("contentQueries",jP(e.queries,t,e.name)),e.viewQueries.length&&r.set("viewQuery",zP(e.viewQueries,t,e.name)),r.set("hostBindings",WP(e.host,e.typeSourceSpan,n,t,e.selector||"",e.name)),r.set("inputs",vx(e.inputs,!0)),r.set("outputs",vx(e.outputs)),null!==e.exportAs&&r.set("exportAs",rE(e.exportAs.map(e=>aE(e)))),{definitionMap:r,statements:i.statements}}function FP(e,t){const n=[],r=t.providers,i=t.viewProviders;if(r||i){const e=[r||new x_([])];i&&e.push(i),n.push(eE(pS.ProvidersFeature).callFn(e))}t.usesInheritance&&n.push(eE(pS.InheritDefinitionFeature)),t.lifecycle.usesOnChanges&&n.push(eE(pS.NgOnChangesFeature).callFn(OP)),n.length&&e.set("features",rE(n))}function VP(e,t,n){const{definitionMap:r,statements:i}=LP(e,t,n);FP(r,e);const s=eE(pS.defineDirective).callFn([r.toLiteralMap()]);if(!e.selector)throw new Error(`Directive ${e.name} has no selector, please add it!`);return{expression:s,type:HP(e,pS.DirectiveDefWithMeta),statements:i}}function BP(e,t,n){const{definitionMap:r,statements:i}=LP(e,t,n);FP(r,e);const s=e.selector&&ub.parse(e.selector),o=s&&s[0];if(o){const e=o.getAttrs();e.length&&r.set("attrs",t.getConstLiteral(rE(e.map(e=>aE(null!=e?e:void 0))),!0))}let a=null;if(e.directives.length>0){const t=new cb;for(const{selector:n,expression:r}of e.directives)t.addSelectables(ub.parse(n),r);a=t}const u=e.name,c=u?`${u}_Template`:null,l=new Set,h=new Set,p=e.changeDetection,d=e.template,f=new wP(t,AP.ROOT_SCOPE,0,u,null,null,c,a,l,e.pipes,h,pS.namespaceHTML,e.relativeContextFilePath,e.i18nUseExternalIds),m=f.buildTemplateFunction(d.nodes,[]),g=f.getNgContentSelectors();if(g&&r.set("ngContentSelectors",g),r.set("consts",aE(f.getConstCount())),r.set("vars",aE(f.getVarCount())),r.set("template",m),l.size){let t=rE(Array.from(l));e.wrapDirectivesAndPipesInClosure&&(t=sE([],[new F_(t)])),r.set("directives",t)}if(h.size){let t=rE(Array.from(h));e.wrapDirectivesAndPipesInClosure&&(t=sE([],[new F_(t)])),r.set("pipes",t)}if(null===e.encapsulation&&(e.encapsulation=bb.Emulated),e.styles&&e.styles.length){const t=(e.encapsulation==bb.Emulated?function(e,t,n){const r=new uA;return e.map(e=>r.shimCssText(e,t,n))}(e.styles,LA,RA):e.styles).map(e=>aE(e));r.set("styles",rE(t))}else e.encapsulation===bb.Emulated&&(e.encapsulation=bb.None);e.encapsulation!==bb.Emulated&&r.set("encapsulation",aE(e.encapsulation)),null!==e.animations&&r.set("data",iE([{key:"animation",value:e.animations,quoted:!1}])),null!=p&&p!==_b.Default&&r.set("changeDetection",aE(p));(e.selector||"").replace(/\n/g,"");return{expression:eE(pS.defineComponent).callFn([r.toLiteralMap()]),type:HP(e,pS.ComponentDefWithMeta),statements:i}}function UP(e,t){const n=[wx(e,t),aE(e.descendants)];return e.read&&n.push(e.read),n}function jP(e,t,n){const r=[],i=[],s=dx(i,ax);for(const a of e){const e=a.static?pS.staticContentQuery:pS.contentQuery;r.push(eE(e).callFn([Z_("dirIndex"),...UP(a,t)]).toStmt());const n=s(),o=eE(pS.loadContentQuery).callFn([]),u=eE(pS.queryRefresh).callFn([n.set(o)]),c=Z_(ux).prop(a.propertyName).set(a.first?n.prop("first"):n);i.push(u.and(c).toStmt())}const o=n?`${n}_ContentQueries`:null;return sE([new __(cx,Jb),new __(ux,null),new __("dirIndex",null)],[vP(1,r),vP(2,i)],Yb,null,o)}function qP(e){return nE(iE(Object.keys(e).map(t=>{return{key:t,value:aE(Array.isArray(e[t])?e[t][0]:e[t]),quoted:!0}})))}function $P(e){return e.length>0?nE(rE(e.map(e=>aE(e)))):Zb}function HP(e,t){const n=(e.selector||"").replace(/\n/g,"");return nE(eE(t,[kx(e.type,e.typeArgumentCount),(r=n,nE(aE(r))),null!==e.exportAs?$P(e.exportAs):Zb,qP(e.inputs),qP(e.outputs),$P(e.queries.map(e=>e.propertyName))]));var r}function zP(e,t,n){const r=[],i=[],s=dx(i,ax);e.forEach(e=>{const n=eE(e.static?pS.staticViewQuery:pS.viewQuery).callFn(UP(e,t));r.push(n.toStmt());const o=s(),a=eE(pS.loadViewQuery).callFn([]),u=eE(pS.queryRefresh).callFn([o.set(a)]),c=Z_(ux).prop(e.propertyName).set(e.first?o.prop("first"):o);i.push(u.and(c).toStmt())});const o=n?`${n}_Query`:null;return sE([new __(cx,Jb),new __(ux,null)],[vP(1,r),vP(2,i)],Yb,null,o)}function WP(e,t,n,r,i,s){const o=Object.keys(e.properties).length,a=Z_("elIndex"),u=Z_(ux),c=new nk(a,u),{styleAttr:l,classAttr:h}=e.specialAttributes;void 0!==l&&c.registerStyleAttr(l),void 0!==h&&c.registerClassAttr(h);const p=[],d=[];let f=o;const m=t,g=QP(e);let v;const y=()=>{if(!v){v=new bP(r,()=>vE("Unexpected node"),e=>{const t=f;return f+=e,t},()=>vE("Unexpected pipe"))}return v},w=n.createDirectiveHostEventAsts(g,m);if(w&&w.length){const e=function(e,t){return e.map(e=>{let n=e.name&&HE(e.name);const r=1===e.type?Ox(n,e.targetOrPhase):n,i=t&&n?`${t}_${r}_HostBindingHandler`:null,s=yP(PC.fromParsedEvent(e),i);return eE(1==e.type?pS.componentHostSyntheticListener:pS.listener).callFn(s).toStmt()})}(w,s);p.push(...e)}const b=n.createBoundHostProperties(g,m),_=[],E=[],S=[];b&&b.forEach(e=>{const t=e.name;if(!c.registerInputBasedOnName(t,e.expression,e.sourceSpan)){const t=e.expression.visit(y()),r=KP(u,t),{bindingName:s,instruction:o,isAttribute:a}=function(e){let t,n=e.name;const r=n.match(RP);r?(n=r[1],t=pS.attribute):e.isAnimation?(n=Mx(n),t=pS.updateSyntheticHostBinding):t=pS.hostProperty;return{bindingName:n,instruction:t,isAttribute:!!r}}(e),c=n.calcPossibleSecurityContexts(i,s,a).filter(e=>e!==Fb.NONE);let l=null;c.length&&(l=2===c.length&&c.indexOf(Fb.URL)>-1&&c.indexOf(Fb.RESOURCE_URL)>-1?eE(pS.sanitizeUrlOrResourceUrl):kP(c[0],a));const h=[aE(s),r.currValExpr];l&&h.push(l),d.push(...r.stmts),o===pS.hostProperty?_.push(h):o===pS.attribute?E.push(h):o===pS.updateSyntheticHostBinding?S.push(h):d.push(eE(o).callFn(h).toStmt())}}),_.length>0&&d.push(Ex(pS.hostProperty,_).toStmt()),E.length>0&&d.push(Ex(pS.attribute,E).toStmt()),S.length>0&&d.push(Ex(pS.updateSyntheticHostBinding,S).toStmt());const C=function(e){const t=[];for(let n of Object.getOwnPropertyNames(e)){const r=e[n];t.push(aE(n),r)}return t}(e.attributes),T=c.buildHostAttrsInstruction(null,C,r);if(T&&p.push(GP(T,u,KP)),c.hasBindings){const e=c.buildStylingInstruction(null,r);e&&p.push(GP(e,u,KP)),c.buildUpdateLevelInstructions(y()).forEach(e=>{f+=Math.max(e.allocateBindingSlots-1,0),d.push(GP(e,u,KP))})}if(f&&p.unshift(eE(pS.allocHostVars).callFn([aE(f)]).toStmt()),p.length>0||d.length>0){const e=s?`${s}_HostBindings`:null,t=[];return p.length>0&&t.push(vP(1,p)),d.length>0&&t.push(vP(2,d)),sE([new __(cx,Jb),new __(ux,null),new __(a.name,Jb)],t,Yb,null,e)}return null}function KP(e,t){return JI(null,e,t,"b",qI.TrySimple,()=>vE("Unexpected interpolation"))}function GP(e,t,n){const r=e.params(e=>n(t,e).currValExpr);return eE(e.reference,null,e.sourceSpan).callFn(r,e.sourceSpan).toStmt()}function QP(e){return{hostAttributes:{},hostListeners:e.listeners,hostProperties:e.properties}}const YP=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;class XP{get(e){return""}}class JP{constructor(e=new rI){this.jitEvaluator=e,this.R3ResolvedDependencyType=Tx,this.ResourceLoader=XP,this.elementSchemaRegistry=new Ok}compilePipe(e,t,n){const r=cI({name:n.name,type:new u_(n.type),typeArgumentCount:n.typeArgumentCount,deps:cM(n.deps),pipeName:n.pipeName,pure:n.pure});return this.jitExpression(r.expression,e,t,r.statements)}compileInjectable(e,t,n){const{expression:r,statements:i}=function(e){let t=null;const n={name:e.name,type:e.type,deps:e.ctorDeps,injectFn:VE.inject};if(void 0!==e.useClass){const r=e.useClass.isEquivalent(e.type);let i=void 0;void 0!==e.userDeps&&(i=e.userDeps),t=xx(void 0!==i?Object.assign({},n,{delegate:e.useClass,delegateDeps:i,delegateType:Cx.Class}):r?n:Object.assign({},n,{delegate:e.useClass,delegateType:Cx.Factory}))}else t=void 0!==e.useFactory?xx(Object.assign({},n,{delegate:e.useFactory,delegateDeps:e.userDeps||[],delegateType:Cx.Function})):void 0!==e.useValue?xx(Object.assign({},n,{expression:e.useValue})):void 0!==e.useExisting?xx(Object.assign({},n,{expression:eE(VE.inject).callFn([e.useExisting])})):xx(n);const r=e.type,i=e.providedIn;return{expression:eE(VE.\u0275\u0275defineInjectable).callFn([Nx({token:r,factory:t.factory,providedIn:i})]),type:new Wb(eE(VE.InjectableDef,[kx(e.type,e.typeArgumentCount)])),statements:t.statements}}({name:n.name,type:new u_(n.type),typeArgumentCount:n.typeArgumentCount,providedIn:aM(n.providedIn),useClass:oM(n,ZP),useFactory:oM(n,eM),useValue:oM(n,tM),useExisting:oM(n,nM),ctorDeps:cM(n.ctorDeps),userDeps:cM(n.userDeps)||void 0});return this.jitExpression(r,e,t,i)}compileInjector(e,t,n){const r=function(e){const t=xx({name:e.name,type:e.type,deps:e.deps,injectFn:pS.inject}),n={factory:t.factory};return null!==e.providers&&(n.providers=e.providers),e.imports.length>0&&(n.imports=rE(e.imports)),{expression:eE(pS.defineInjector).callFn([Nx(n)]),type:new Wb(eE(pS.InjectorDef,[new Wb(e.type)])),statements:t.statements}}({name:n.name,type:new u_(n.type),deps:cM(n.deps),providers:new u_(n.providers),imports:n.imports.map(e=>new u_(e))});return this.jitExpression(r.expression,e,t,r.statements)}compileNgModule(e,t,n){const r=oI({type:new u_(n.type),bootstrap:n.bootstrap.map(rM),declarations:n.declarations.map(rM),imports:n.imports.map(rM),exports:n.exports.map(rM),emitInline:!0,containsForwardDecls:!1,schemas:n.schemas?n.schemas.map(rM):null,id:n.id?new u_(n.id):null});return this.jitExpression(r.expression,e,t,[])}compileDirective(e,t,n){const r=new ME,i=NP(),s=VP(sM(n),r,i),o=[...r.statements,...s.statements];return this.jitExpression(s.expression,e,t,o)}compileComponent(e,t,n){const r=new ME,i=n.interpolation?Vx.fromArray(n.interpolation):Bx,s=function(e,t,n={}){const{interpolationConfig:r,preserveWhitespaces:i}=n,s=NP(r),o=(new gD).parse(e,t,Object.assign({leadingTriviaChars:gP},n,{tokenizeExpansionForms:!0}));if(o.errors&&o.errors.length>0)return{errors:o.errors,nodes:[],styleUrls:[],styles:[]};let a=o.rootNodes;a=KA(new hP(r,!i),a),i||(a=KA(new SD,a),a=KA(new hP(r,!1),a));const{nodes:u,errors:c,styleUrls:l,styles:h}=Kk(a,s);return c&&c.length>0?{errors:c,nodes:[],styleUrls:[],styles:[]}:{nodes:u,styleUrls:l,styles:h}}(n.template,t,{preserveWhitespaces:n.preserveWhitespaces,interpolationConfig:i});if(void 0!==s.errors){const e=s.errors.map(e=>e.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${n.name}: ${e}`)}const o=BP(Object.assign({},n,sM(n),{selector:n.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:s,wrapDirectivesAndPipesInClosure:!1,styles:n.styles||[],encapsulation:n.encapsulation,interpolation:i,changeDetection:n.changeDetection,animations:null!=n.animations?new u_(n.animations):null,viewProviders:null!=n.viewProviders?new u_(n.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),r,NP(i)),a=[...r.statements,...o.statements];return this.jitExpression(o.expression,e,`ng:///${n.name}.js`,a)}compileBase(e,t,n){const r=new ME,i=this.createParseSourceSpan("Base",n.name,`ng:///${n.name}.js`),s=function(e,t,n){const r=new bx;if(e.inputs){const t=e.inputs,n=Object.keys(t).map(e=>{const n=t[e];return{key:e,value:Array.isArray(n)?rE(n.map(e=>aE(e))):aE(n),quoted:!1}});r.set("inputs",iE(n))}if(e.outputs){const t=e.outputs,n=Object.keys(t).map(e=>{return{key:e,value:aE(t[e]),quoted:!1}});r.set("outputs",iE(n))}return e.viewQueries&&e.viewQueries.length>0&&r.set("viewQuery",zP(e.viewQueries,t)),e.queries&&e.queries.length>0&&r.set("contentQueries",jP(e.queries,t)),e.host&&r.set("hostBindings",WP(e.host,e.typeSourceSpan,n,t,e.name)),{expression:eE(pS.defineBase).callFn([r.toLiteralMap()]),type:new Wb(eE(pS.BaseDef),null,[nE(e.type)])}}(Object.assign({},n,{typeSourceSpan:i,viewQueries:n.viewQueries?n.viewQueries.map(iM):n.viewQueries,queries:n.queries?n.queries.map(iM):n.queries,host:lM(n.propMetadata,i)}),r,NP());return this.jitExpression(s.expression,e,t,r.statements)}createParseSourceSpan(e,t,n){return function(e,t,n){const r=new SC("",`in ${e} ${t} in ${n}`);return new CC(new EC(r,-1,-1,-1),new EC(r,-1,-1,-1))}(e,t,n)}jitExpression(e,t,n,r){const i=[...r,new O_("$def",e,void 0,[P_.Exported])];return this.jitEvaluator.evaluateStatements(n,i,new sI(t),!0).$def}}const ZP=Object.keys({useClass:null})[0],eM=Object.keys({useFactory:null})[0],tM=Object.keys({useValue:null})[0],nM=Object.keys({useExisting:null})[0],rM=function(e){const t=new u_(e);return{value:t,type:t}};function iM(e){return Object.assign({},e,{predicate:Array.isArray(e.predicate)?e.predicate:new u_(e.predicate),read:e.read?new u_(e.read):null,static:e.static})}function sM(e){const t=mM(e.inputs||[]),n=mM(e.outputs||[]),r=e.propMetadata,i={},s={};for(const o in r)r.hasOwnProperty(o)&&r[o].forEach(e=>{dM(e)?i[o]=e.bindingPropertyName?[e.bindingPropertyName,o]:o:fM(e)&&(s[o]=e.bindingPropertyName||o)});return Object.assign({},e,{typeSourceSpan:e.typeSourceSpan,type:new u_(e.type),deps:cM(e.deps),host:lM(e.propMetadata,e.typeSourceSpan,e.host),inputs:Object.assign({},t,i),outputs:Object.assign({},n,s),queries:e.queries.map(iM),providers:null!=e.providers?new u_(e.providers):null,viewQueries:e.viewQueries.map(iM)})}function oM(e,t){return e.hasOwnProperty(t)?new u_(e[t]):void 0}function aM(e){return null==e||"string"==typeof e?new m_(e):new u_(e)}function uM(e){let t;return{token:t=null===e.token?new m_(null):e.resolved===Tx.Attribute?new m_(e.token):new u_(e.token),resolved:e.resolved,host:e.host,optional:e.optional,self:e.self,skipSelf:e.skipSelf}}function cM(e){return null==e?null:e.map(uM)}function lM(e,t,n){const r=function(e){const t={},n={},r={},i={};for(const s of Object.keys(e)){const o=e[s],a=s.match(YP);if(null===a)switch(s){case"class":if("string"!=typeof o)throw new Error("Class binding must be string");i.classAttr=o;break;case"style":if("string"!=typeof o)throw new Error("Style binding must be string");i.styleAttr=o;break;default:t[s]="string"==typeof o?aE(o):o}else if(null!=a[1]){if("string"!=typeof o)throw new Error("Property binding must be string");r[a[1]]=o}else if(null!=a[2]){if("string"!=typeof o)throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:t,listeners:n,properties:r,specialAttributes:i}}(n||{}),i=function(e,t){const n=QP(e),r=NP();return r.createDirectiveHostEventAsts(n,t),r.createBoundHostProperties(n,t),r.errors}(r,t);if(i.length)throw new Error(i.map(e=>e.msg).join("\n"));for(const s in e)e.hasOwnProperty(s)&&e[s].forEach(e=>{hM(e)?r.properties[e.hostPropertyName||s]=s:pM(e)&&(r.listeners[e.eventName||s]=`${s}(${(e.args||[]).join(",")})`)});return r}function hM(e){return"HostBinding"===e.ngMetadataName}function pM(e){return"HostListener"===e.ngMetadataName}function dM(e){return"Input"===e.ngMetadataName}function fM(e){return"Output"===e.ngMetadataName}function mM(e){return e.reduce((e,t)=>{const[n,r]=t.split(",").map(e=>e.trim());return e[n]=r||n,e},{})}new class{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}("8.2.14");class gM{constructor({defaultEncapsulation:e=bb.Emulated,useJit:t=!0,jitDevMode:n=!1,missingTranslation:r=null,preserveWhitespaces:i,strictInjectionParameters:s}={}){this.defaultEncapsulation=e,this.useJit=!!t,this.jitDevMode=!!n,this.missingTranslation=r,this.preserveWhitespaces=vM(fE(i)),this.strictInjectionParameters=!0===s}}function vM(e,t=!1){return null===e?t:e}class yM{constructor(e,t,n,r){this._resourceLoader=e,this._urlResolver=t,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}clearCache(){this._resourceLoaderCache.clear()}clearCacheFor(e){if(!e.isComponent)return;const t=e.template;this._resourceLoaderCache.delete(t.templateUrl),t.externalStylesheets.forEach(e=>{this._resourceLoaderCache.delete(e.moduleUrl)})}_fetch(e){let t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t}normalizeTemplate(e){if(dE(e.template)){if(dE(e.templateUrl))throw yE(`'${CE(e.componentType)}' component cannot define both template and templateUrl`);if("string"!=typeof e.template)throw yE(`The template specified for component ${CE(e.componentType)} is not a string`)}else{if(!dE(e.templateUrl))throw yE(`No template specified for component ${CE(e.componentType)}`);if("string"!=typeof e.templateUrl)throw yE(`The templateUrl specified for component ${CE(e.componentType)} is not a string`)}if(dE(e.preserveWhitespaces)&&"boolean"!=typeof e.preserveWhitespaces)throw yE(`The preserveWhitespaces option for component ${CE(e.componentType)} must be a boolean`);return gE.then(this._preParseTemplate(e),t=>this._normalizeTemplateMetadata(e,t))}_preParseTemplate(e){let t,n;return null!=e.template?(t=e.template,n=e.moduleUrl):(n=this._urlResolver.resolve(e.moduleUrl,e.templateUrl),t=this._fetch(n)),gE.then(t,t=>this._preparseLoadedTemplate(e,t,n))}_preparseLoadedTemplate(e,t,n){const r=!!e.template,i=Vx.fromArray(e.interpolation),s=lS({reference:e.ngModuleType},{type:{reference:e.componentType}},{isInline:r,templateUrl:n}),o=this._htmlParser.parse(t,s,{tokenizeExpansionForms:!0,interpolationConfig:i});if(o.errors.length>0){throw yE(`Template parse errors:\n${o.errors.join("\n")}`)}const a=this._normalizeStylesheet(new eS({styles:e.styles,moduleUrl:e.moduleUrl})),u=new wM;KA(u,o.rootNodes);const c=this._normalizeStylesheet(new eS({styles:u.styles,styleUrls:u.styleUrls,moduleUrl:n}));return{template:t,templateUrl:n,isInline:r,htmlAst:o,styles:a.styles.concat(c.styles),inlineStyleUrls:a.styleUrls.concat(c.styleUrls),styleUrls:this._normalizeStylesheet(new eS({styleUrls:e.styleUrls,moduleUrl:e.moduleUrl})).styleUrls,ngContentSelectors:u.ngContentSelectors}}_normalizeTemplateMetadata(e,t){return gE.then(this._loadMissingExternalStylesheets(t.styleUrls.concat(t.inlineStyleUrls)),n=>this._normalizeLoadedTemplateMetadata(e,t,n))}_normalizeLoadedTemplateMetadata(e,t,n){const r=[...t.styles];this._inlineStyles(t.inlineStyleUrls,n,r);const i=t.styleUrls,s=i.map(e=>{const t=n.get(e),r=[...t.styles];return this._inlineStyles(t.styleUrls,n,r),new eS({moduleUrl:e,styles:r})});let o=e.encapsulation;return null==o&&(o=this._config.defaultEncapsulation),o===bb.Emulated&&0===r.length&&0===i.length&&(o=bb.None),new tS({encapsulation:o,template:t.template,templateUrl:t.templateUrl,htmlAst:t.htmlAst,styles:r,styleUrls:i,ngContentSelectors:t.ngContentSelectors,animations:e.animations,interpolation:e.interpolation,isInline:t.isInline,externalStylesheets:s,preserveWhitespaces:vM(e.preserveWhitespaces,this._config.preserveWhitespaces)})}_inlineStyles(e,t,n){e.forEach(e=>{const r=t.get(e);r.styles.forEach(e=>n.push(e)),this._inlineStyles(r.styleUrls,t,n)})}_loadMissingExternalStylesheets(e,t=new Map){return gE.then(gE.all(e.filter(e=>!t.has(e)).map(e=>gE.then(this._fetch(e),n=>{const r=this._normalizeStylesheet(new eS({styles:[n],moduleUrl:e}));return t.set(e,r),this._loadMissingExternalStylesheets(r.styleUrls,t)}))),e=>t)}_normalizeStylesheet(e){const t=e.moduleUrl,n=e.styleUrls.filter(tN).map(e=>this._urlResolver.resolve(t,e)),r=e.styles.map(e=>{const r=function(e,t,n){const r=[],i=n.replace(rN,"").replace(nN,(...n)=>{const i=n[1]||n[2];return tN(i)?(r.push(e.resolve(t,i)),""):n[0]});return new eN(i,r)}(this._urlResolver,t,e);return n.push(...r.styleUrls),r.style});return new eS({styles:r,styleUrls:n,moduleUrl:t})}}class wM{constructor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}visitElement(e,t){const n=SN(e);switch(n.type){case CN.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case CN.STYLE:let t="";e.children.forEach(e=>{e instanceof jA&&(t+=e.value)}),this.styles.push(t);break;case CN.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,KA(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null}visitExpansion(e,t){KA(this,e.cases)}visitExpansionCase(e,t){KA(this,e.expression)}visitComment(e,t){return null}visitAttribute(e,t){return null}visitText(e,t){return null}}const bM=[yb,vb,gb,mb];class _M{constructor(e){this._reflector=e}isDirective(e){const t=this._reflector.annotations(TE(e));return t&&t.some(EM)}resolve(e,t=!0){const n=this._reflector.annotations(TE(e));if(n){const t=SM(n,EM);if(t){const n=this._reflector.propMetadata(e),r=this._reflector.guards(e);return this._mergeWithPropertyMetadata(t,n,r,e)}}if(t)throw new Error(`No Directive annotation found on ${CE(e)}`);return null}_mergeWithPropertyMetadata(e,t,n,r){const i=[],s=[],o={},a={};return Object.keys(t).forEach(e=>{const n=SM(t[e],e=>Cb.isTypeOf(e));n&&(n.bindingPropertyName?i.push(`${e}: ${n.bindingPropertyName}`):i.push(e));const r=SM(t[e],e=>Tb.isTypeOf(e));r&&(r.bindingPropertyName?s.push(`${e}: ${r.bindingPropertyName}`):s.push(e)),t[e].filter(e=>xb.isTypeOf(e)).forEach(t=>{if(t.hostPropertyName){const n=t.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");o[`[${t.hostPropertyName}]`]=e}else o[`[${e}]`]=e}),t[e].filter(e=>Ib.isTypeOf(e)).forEach(t=>{const n=t.args||[];o[`(${t.eventName})`]=`${e}(${n.join(",")})`});const u=SM(t[e],e=>bM.some(t=>t.isTypeOf(e)));u&&(a[e]=u)}),this._merge(e,i,s,o,a,n,r)}_extractPublicName(e){return lE(e,[null,e])[1].trim()}_dedupeBindings(e){const t=new Set,n=new Set,r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],o=this._extractPublicName(s);n.add(o),t.has(o)||(t.add(o),r.push(s))}return r.reverse()}_merge(e,t,n,r,i,s,o){const a=this._dedupeBindings(e.inputs?e.inputs.concat(t):t),u=this._dedupeBindings(e.outputs?e.outputs.concat(n):n),c=e.host?Object.assign({},e.host,r):r,l=e.queries?Object.assign({},e.queries,i):i;if(Eb.isTypeOf(e)){const t=e;return Eb({selector:t.selector,inputs:a,outputs:u,host:c,exportAs:t.exportAs,moduleId:t.moduleId,queries:l,changeDetection:t.changeDetection,providers:t.providers,viewProviders:t.viewProviders,entryComponents:t.entryComponents,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,encapsulation:t.encapsulation,animations:t.animations,interpolation:t.interpolation,preserveWhitespaces:e.preserveWhitespaces})}return wb({selector:e.selector,inputs:a,outputs:u,host:c,exportAs:e.exportAs,queries:l,providers:e.providers,guards:s})}}function EM(e){return wb.isTypeOf(e)||Eb.isTypeOf(e)}function SM(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}class CM extends IC{constructor(e,t){super(e,t)}}const TM="i18n",xM="i18n-",IM=/^i18n:?/,AM="|",DM="@@";let NM=!1;class kM{constructor(e,t){this.messages=e,this.errors=t}}var PM;!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(PM||(PM={}));class MM{constructor(e,t){this._implicitTags=e,this._implicitAttrs=t}extract(e,t){return this._init(PM.Extract,t),e.forEach(e=>e.visit(this,null)),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new kM(this._messages,this._errors)}merge(e,t,n){this._init(PM.Merge,n),this._translations=t;const r=new zA("wrapper",[],e,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new pD(r.children,this._errors)}visitExpansionCase(e,t){const n=KA(this,e.expression,t);if(this._mode===PM.Merge)return new $A(e.value,n,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)}visitExpansion(e,t){this._mayBeAddBlockChildren(e);const n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);const r=KA(this,e.cases,t);return this._mode===PM.Merge&&(e=new qA(e.switchValue,e.type,r,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=n,e}visitComment(e,t){const n=!!((r=e)instanceof WA&&r.value&&r.value.startsWith("i18n"));var r;if(n&&this._isInTranslatableSection)return void this._reportError(e,"Could not start a block inside a translatable section");const i=function(e){return!!(e instanceof WA&&e.value&&"/i18n"===e.value)}(e);if(!i||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(i){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;const t=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return KA(this,this._translateMessage(e,t))}return void this._reportError(e,"I18N blocks should not cross element boundaries")}}else if(n){if(!NM&&console&&console.warn){NM=!0;const t=e.sourceSpan.details?`, ${e.sourceSpan.details}`:"";console.warn(`I18n comments are deprecated, use an <ng-container> element instead (${e.sourceSpan.start}${t})`)}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(IM,"").trim(),this._openTranslatableSection(e)}}else this._reportError(e,"Trying to close an unopened block")}visitText(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e}visitElement(e,t){this._mayBeAddBlockChildren(e),this._depth++;const n=this._inI18nNode,r=this._inImplicitNode;let i=[],s=void 0;const o=e.attrs.find(e=>e.name===TM)||null;const a=o?o.value:"",u=this._implicitTags.some(t=>e.name===t)&&!this._inIcu&&!this._isInTranslatableSection,c=!r&&u;if(this._inImplicitNode=r||u,this._isInTranslatableSection||this._inIcu)(o||c)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==PM.Extract&&KA(this,e.children);else{if(o||c){this._inI18nNode=!0;const t=this._addMessage(e.children,a);s=this._translateMessage(e,t)}if(this._mode==PM.Extract){const t=o||c;t&&this._openTranslatableSection(e),KA(this,e.children),t&&this._closeTranslatableSection(e,e.children)}}if(this._mode===PM.Merge){(s||e.children).forEach(e=>{const n=e.visit(this,t);n&&!this._isInTranslatableSection&&(i=i.concat(n))})}if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=n,this._inImplicitNode=r,this._mode===PM.Merge){const t=this._translateAttributes(e);return new zA(e.name,t,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}return null}visitAttribute(e,t){throw new Error("unreachable code")}_init(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=aP(t)}_visitAttributesOf(e){const t={},n=this._implicitAttrs[e.name]||[];e.attrs.filter(e=>e.name.startsWith(xM)).forEach(e=>t[e.name.slice(xM.length)]=e.value),e.attrs.forEach(e=>{e.name in t?this._addMessage([e],t[e.name]):n.some(t=>e.name===t)&&this._addMessage([e])})}_addMessage(e,t){if(0==e.length||1==e.length&&e[0]instanceof HA&&!e[0].value)return null;const{meaning:n,description:r,id:i}=OM(t),s=this._createI18nMessage(e,n,r,i);return this._messages.push(s),s}_translateMessage(e,t){if(t&&this._mode===PM.Merge){const n=this._translations.get(t);if(n)return n;this._reportError(e,`Translation unavailable for message id="${this._translations.digest(t)}"`)}return[]}_translateAttributes(e){const t=e.attrs,n={};t.forEach(e=>{e.name.startsWith(xM)&&(n[e.name.slice(xM.length)]=OM(e.value))});const r=[];return t.forEach(t=>{if(t.name!==TM&&!t.name.startsWith(xM))if(t.value&&""!=t.value&&n.hasOwnProperty(t.name)){const{meaning:i,description:s,id:o}=n[t.name],a=this._createI18nMessage([t],i,s,o),u=this._translations.get(a);if(u)if(0==u.length)r.push(new HA(t.name,"",t.sourceSpan));else if(u[0]instanceof jA){const e=u[0].value;r.push(new HA(t.name,e,t.sourceSpan))}else this._reportError(e,`Unexpected translation for attribute "${t.name}" (id="${o||this._translations.digest(a)}")`);else this._reportError(e,`Translation unavailable for attribute "${t.name}" (id="${o||this._translations.digest(a)}")`)}else r.push(t)}),r}_mayBeAddBlockChildren(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)}_openTranslatableSection(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}get _isInTranslatableSection(){return void 0!==this._msgCountAtSectionStart}_closeTranslatableSection(e,t){if(!this._isInTranslatableSection)return void this._reportError(e,"Unexpected section end");const n=this._msgCountAtSectionStart;if(1==t.reduce((e,t)=>e+(t instanceof WA?0:1),0))for(let r=this._messages.length-1;r>=n;r--){const e=this._messages[r].nodes;if(!(1==e.length&&e[0]instanceof jC)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0}_reportError(e,t){this._errors.push(new CM(e.sourceSpan,t))}}function OM(e){if(!e)return{meaning:"",description:"",id:""};const t=e.indexOf(DM),n=e.indexOf(AM),[r,i]=t>-1?[e.slice(0,t),e.slice(t+2)]:[e,""],[s,o]=n>-1?[r.slice(0,n),r.slice(n+1)]:["",r];return{meaning:s,description:o,id:i}}const RM=new class{constructor(){this.closedByParent=!1,this.contentType=Gw.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}requireExtraParent(e){return!1}isClosedByChild(e){return!1}};function LM(e){return RM}class FM extends dD{constructor(){super(LM)}parse(e,t,n){return super.parse(e,t,n)}}const VM="1.2",BM="urn:oasis:names:tc:xliff:document:1.2",UM="en",jM="x",qM="mrk",$M="file",HM="source",zM="seg-source",WM="alt-trans",KM="target",GM="trans-unit",QM="context-group",YM="context";class XM extends dT{write(e,t){const n=new JM,r=[];e.forEach(e=>{let t=[];e.sources.forEach(e=>{let n=new wT(QM,{purpose:"location"});n.children.push(new _T(10),new wT(YM,{"context-type":"sourcefile"},[new bT(e.filePath)]),new _T(10),new wT(YM,{"context-type":"linenumber"},[new bT(`${e.startLine}`)]),new _T(8)),t.push(new _T(8),n)});const i=new wT(GM,{id:e.id,datatype:"html"});i.children.push(new _T(8),new wT(HM,{},n.serialize(e.nodes)),...t),e.description&&i.children.push(new _T(8),new wT("note",{priority:"1",from:"description"},[new bT(e.description)])),e.meaning&&i.children.push(new _T(8),new wT("note",{priority:"1",from:"meaning"},[new bT(e.meaning)])),i.children.push(new _T(6)),r.push(new _T(6),i)});const i=new wT("body",{},[...r,new _T(4)]),s=new wT("file",{"source-language":t||UM,datatype:"plaintext",original:"ng2.template"},[new _T(4),i,new _T(2)]),o=new wT("xliff",{version:VM,xmlns:BM},[new _T(2),s,new _T]);return gT([new vT({version:"1.0",encoding:"UTF-8"}),new _T,o,new _T])}load(e,t){const n=new ZM,{locale:r,msgIdToHtml:i,errors:s}=n.parse(e,t),o={},a=new eO;if(Object.keys(i).forEach(e=>{const{i18nNodes:n,errors:r}=a.convert(i[e],t);s.push(...r),o[e]=n}),s.length)throw new Error(`xliff parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(e){return GC(e)}}class JM{visitText(e,t){return[new bT(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new bT(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new bT(`${t} {`),...e.cases[t].visit(this),new bT("} "))}),n.push(new bT("}")),n}visitTagPlaceholder(e,t){const n=function(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return`x-${e}`}}(e.tag);if(e.isVoid)return[new wT(jM,{id:e.startName,ctype:n,"equiv-text":`<${e.tag}/>`})];const r=new wT(jM,{id:e.startName,ctype:n,"equiv-text":`<${e.tag}>`}),i=new wT(jM,{id:e.closeName,ctype:n,"equiv-text":`</${e.tag}>`});return[r,...this.serialize(e.children),i]}visitPlaceholder(e,t){return[new wT(jM,{id:e.name,"equiv-text":`{{${e.value}}}`})]}visitIcuPlaceholder(e,t){const n=`{${e.value.expression}, ${e.value.type}, ${Object.keys(e.value.cases).map(e=>e+" {...}").join(" ")}}`;return[new wT(jM,{id:e.name,"equiv-text":n})]}serialize(e){return[].concat(...e.map(e=>e.visit(this)))}}class ZM{constructor(){this._locale=null}parse(e,t){this._unitMlString=null,this._msgIdToHtml={};const n=(new FM).parse(e,t);return this._errors=n.errors,KA(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case GM:this._unitMlString=null;const t=e.attrs.find(e=>"id"===e.name);if(t){const n=t.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(e,`Duplicated translations for msg ${n}`):(KA(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(e,`Message ${n} misses a translation`))}else this._addError(e,`<${GM}> misses the "id" attribute`);break;case HM:case zM:case WM:break;case KM:const n=e.startSourceSpan.end.offset,r=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(n,r);this._unitMlString=i;break;case $M:const s=e.attrs.find(e=>"target-language"===e.name);s&&(this._locale=s.value),KA(this,e.children,null);break;default:KA(this,e.children,null)}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new CM(e.sourceSpan,t))}}class eO{convert(e,t){const n=(new FM).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat(...KA(this,n.rootNodes)),errors:this._errors}}visitText(e,t){return new jC(e.value,e.sourceSpan)}visitElement(e,t){if(e.name===jM){const t=e.attrs.find(e=>"id"===e.name);return t?new zC("",t.value,e.sourceSpan):(this._addError(e,`<${jM}> misses the "id" attribute`),null)}return e.name===qM?[].concat(...KA(this,e.children)):(this._addError(e,"Unexpected tag"),null)}visitExpansion(e,t){const n={};return KA(this,e.cases).forEach(t=>{n[t.value]=new qC(t.nodes,e.sourceSpan)}),new $C(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:KA(this,e.expression)}}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new CM(e.sourceSpan,t))}}const tO="2.0",nO="urn:oasis:names:tc:xliff:document:2.0",rO="en",iO="ph",sO="pc",oO="mrk",aO="xliff",uO="source",cO="target",lO="unit";class hO extends dT{write(e,t){const n=new pO,r=[];e.forEach(e=>{const t=new wT(lO,{id:e.id}),i=new wT("notes");(e.description||e.meaning)&&(e.description&&i.children.push(new _T(8),new wT("note",{category:"description"},[new bT(e.description)])),e.meaning&&i.children.push(new _T(8),new wT("note",{category:"meaning"},[new bT(e.meaning)]))),e.sources.forEach(e=>{i.children.push(new _T(8),new wT("note",{category:"location"},[new bT(`${e.filePath}:${e.startLine}${e.endLine!==e.startLine?","+e.endLine:""}`)]))}),i.children.push(new _T(6)),t.children.push(new _T(6),i);const s=new wT("segment");s.children.push(new _T(8),new wT(uO,{},n.serialize(e.nodes)),new _T(6)),t.children.push(new _T(6),s,new _T(4)),r.push(new _T(4),t)});const i=new wT("file",{original:"ng.template",id:"ngi18n"},[...r,new _T(2)]),s=new wT(aO,{version:tO,xmlns:nO,srcLang:t||rO},[new _T(2),i,new _T]);return gT([new vT({version:"1.0",encoding:"UTF-8"}),new _T,s,new _T])}load(e,t){const n=new dO,{locale:r,msgIdToHtml:i,errors:s}=n.parse(e,t),o={},a=new fO;if(Object.keys(i).forEach(e=>{const{i18nNodes:n,errors:r}=a.convert(i[e],t);s.push(...r),o[e]=n}),s.length)throw new Error(`xliff2 parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(e){return QC(e)}}class pO{visitText(e,t){return[new bT(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new bT(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new bT(`${t} {`),...e.cases[t].visit(this),new bT("} "))}),n.push(new bT("}")),n}visitTagPlaceholder(e,t){const n=function(e){switch(e.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(e.tag);if(e.isVoid){return[new wT(iO,{id:(this._nextPlaceholderId++).toString(),equiv:e.startName,type:n,disp:`<${e.tag}/>`})]}const r=new wT(sO,{id:(this._nextPlaceholderId++).toString(),equivStart:e.startName,equivEnd:e.closeName,type:n,dispStart:`<${e.tag}>`,dispEnd:`</${e.tag}>`}),i=[].concat(...e.children.map(e=>e.visit(this)));return i.length?i.forEach(e=>r.children.push(e)):r.children.push(new bT("")),[r]}visitPlaceholder(e,t){const n=(this._nextPlaceholderId++).toString();return[new wT(iO,{id:n,equiv:e.name,disp:`{{${e.value}}}`})]}visitIcuPlaceholder(e,t){const n=Object.keys(e.value.cases).map(e=>e+" {...}").join(" "),r=(this._nextPlaceholderId++).toString();return[new wT(iO,{id:r,equiv:e.name,disp:`{${e.value.expression}, ${e.value.type}, ${n}}`})]}serialize(e){return this._nextPlaceholderId=0,[].concat(...e.map(e=>e.visit(this)))}}class dO{constructor(){this._locale=null}parse(e,t){this._unitMlString=null,this._msgIdToHtml={};const n=(new FM).parse(e,t);return this._errors=n.errors,KA(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case lO:this._unitMlString=null;const t=e.attrs.find(e=>"id"===e.name);if(t){const n=t.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(e,`Duplicated translations for msg ${n}`):(KA(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(e,`Message ${n} misses a translation`))}else this._addError(e,`<${lO}> misses the "id" attribute`);break;case uO:break;case cO:const n=e.startSourceSpan.end.offset,r=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(n,r);this._unitMlString=i;break;case aO:const s=e.attrs.find(e=>"trgLang"===e.name);s&&(this._locale=s.value);const o=e.attrs.find(e=>"version"===e.name);if(o){const t=o.value;"2.0"!==t?this._addError(e,`The XLIFF file version ${t} is not compatible with XLIFF 2.0 serializer`):KA(this,e.children,null)}break;default:KA(this,e.children,null)}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new CM(e.sourceSpan,t))}}class fO{convert(e,t){const n=(new FM).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat(...KA(this,n.rootNodes)),errors:this._errors}}visitText(e,t){return new jC(e.value,e.sourceSpan)}visitElement(e,t){switch(e.name){case iO:const t=e.attrs.find(e=>"equiv"===e.name);if(t)return[new zC("",t.value,e.sourceSpan)];this._addError(e,`<${iO}> misses the "equiv" attribute`);break;case sO:const n=e.attrs.find(e=>"equivStart"===e.name),r=e.attrs.find(e=>"equivEnd"===e.name);if(n){if(r){const t=n.value,i=r.value;return[].concat(new zC("",t,e.sourceSpan),...e.children.map(e=>e.visit(this,null)),new zC("",i,e.sourceSpan))}this._addError(e,`<${iO}> misses the "equivEnd" attribute`)}else this._addError(e,`<${iO}> misses the "equivStart" attribute`);break;case oO:return[].concat(...KA(this,e.children));default:this._addError(e,"Unexpected tag")}return null}visitExpansion(e,t){const n={};return KA(this,e.cases).forEach(t=>{n[t.value]=new qC(t.nodes,e.sourceSpan)}),new $C(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:[].concat(...KA(this,e.expression))}}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new CM(e.sourceSpan,t))}}const mO="translationbundle",gO="translation",vO="ph";class yO extends dT{write(e,t){throw new Error("Unsupported")}load(e,t){const n=new wO,{locale:r,msgIdToHtml:i,errors:s}=n.parse(e,t),o={},a=new bO;if(Object.keys(i).forEach(e=>{!function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){const r=n();return Object.defineProperty(e,t,{enumerable:!0,value:r}),r},set:e=>{throw new Error("Could not overwrite an XTB translation")}})}(o,e,(function(){const{i18nNodes:n,errors:r}=a.convert(i[e],t);if(r.length)throw new Error(`xtb parse errors:\n${r.join("\n")}`);return n}))}),s.length)throw new Error(`xtb parse errors:\n${s.join("\n")}`);return{locale:r,i18nNodesByMsgId:o}}digest(e){return PT(e)}createNameMapper(e){return new fT(e,OT)}}class wO{constructor(){this._locale=null}parse(e,t){this._bundleDepth=0,this._msgIdToHtml={};const n=(new FM).parse(e,t);return this._errors=n.errors,KA(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case mO:this._bundleDepth++,this._bundleDepth>1&&this._addError(e,`<${mO}> elements can not be nested`);const t=e.attrs.find(e=>"lang"===e.name);t&&(this._locale=t.value),KA(this,e.children,null),this._bundleDepth--;break;case gO:const n=e.attrs.find(e=>"id"===e.name);if(n){const t=n.value;if(this._msgIdToHtml.hasOwnProperty(t))this._addError(e,`Duplicated translations for msg ${t}`);else{const n=e.startSourceSpan.end.offset,r=e.endSourceSpan.start.offset,i=e.startSourceSpan.start.file.content.slice(n,r);this._msgIdToHtml[t]=i}}else this._addError(e,`<${gO}> misses the "id" attribute`);break;default:this._addError(e,"Unexpected tag")}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new CM(e.sourceSpan,t))}}class bO{convert(e,t){const n=(new FM).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:KA(this,n.rootNodes),errors:this._errors}}visitText(e,t){return new jC(e.value,e.sourceSpan)}visitExpansion(e,t){const n={};return KA(this,e.cases).forEach(t=>{n[t.value]=new qC(t.nodes,e.sourceSpan)}),new $C(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:KA(this,e.expression)}}visitElement(e,t){if(e.name===vO){const t=e.attrs.find(e=>"name"===e.name);if(t)return new zC("",t.value,e.sourceSpan);this._addError(e,`<${vO}> misses the "name" attribute`)}else this._addError(e,"Unexpected tag");return null}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new CM(e.sourceSpan,t))}}class _O{constructor(e={},t,n,r,i=Vb.Warning,s){this._i18nNodesByMsgId=e,this.digest=n,this.mapperFactory=r,this._i18nToHtml=new EO(e,t,n,r,i,s)}static load(e,t,n,r,i){const{locale:s,i18nNodesByMsgId:o}=n.load(e,t);return new _O(o,s,e=>n.digest(e),e=>n.createNameMapper(e),r,i)}get(e){const t=this._i18nToHtml.convert(e);if(t.errors.length)throw new Error(t.errors.join("\n"));return t.nodes}has(e){return this.digest(e)in this._i18nNodesByMsgId}}class EO{constructor(e={},t,n,r,i,s){this._i18nNodesByMsgId=e,this._locale=t,this._digest=n,this._mapperFactory=r,this._missingTranslationStrategy=i,this._console=s,this._contextStack=[],this._errors=[]}convert(e){this._contextStack.length=0,this._errors.length=0;const t=this._convertToText(e),n=e.nodes[0].sourceSpan.start.file.url,r=(new gD).parse(t,n,{tokenizeExpansionForms:!0});return{nodes:r.rootNodes,errors:[...this._errors,...r.errors]}}visitText(e,t){return ST(e.value)}visitContainer(e,t){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e,t){const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${this._srcMsg.placeholders.hasOwnProperty(e.expression)?this._srcMsg.placeholders[e.expression]:e.expression}, ${e.type}, ${n.join(" ")}}`}visitPlaceholder(e,t){const n=this._mapper(e.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(e,`Unknown placeholder "${e.name}"`),"")}visitTagPlaceholder(e,t){const n=`${e.tag}`,r=Object.keys(e.attrs).map(t=>`${t}="${e.attrs[t]}"`).join(" ");return e.isVoid?`<${n} ${r}/>`:`<${n} ${r}>${e.children.map(e=>e.visit(this)).join("")}</${n}>`}visitIcuPlaceholder(e,t){return this._convertToText(this._srcMsg.placeholderToMessage[e.name])}_convertToText(e){const t=this._digest(e),n=this._mapperFactory?this._mapperFactory(e):null;let r;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=e,this._i18nNodesByMsgId.hasOwnProperty(t))r=this._i18nNodesByMsgId[t],this._mapper=e=>n?n.toInternalName(e):e;else{if(this._missingTranslationStrategy===Vb.Error){const n=this._locale?` for locale "${this._locale}"`:"";this._addError(e.nodes[0],`Missing translation for message "${t}"${n}`)}else if(this._console&&this._missingTranslationStrategy===Vb.Warning){const e=this._locale?` for locale "${this._locale}"`:"";this._console.warn(`Missing translation for message "${t}"${e}`)}r=e.nodes,this._mapper=e=>e}const i=r.map(e=>e.visit(this)).join(""),s=this._contextStack.pop();return this._srcMsg=s.msg,this._mapper=s.mapper,i}_addError(e,t){this._errors.push(new CM(e.sourceSpan,t))}}class SO{constructor(e,t,n,r=Vb.Warning,i){if(this._htmlParser=e,t){const e=function(e){switch(e=(e||"xlf").toLowerCase()){case"xmb":return new NT;case"xtb":return new yO;case"xliff2":case"xlf2":return new hO;case"xliff":case"xlf":default:return new XM}}(n);this._translationBundle=_O.load(t,"i18n",e,r,i)}else this._translationBundle=new _O({},null,GC,void 0,r,i)}parse(e,t,n={}){const r=n.interpolationConfig||Bx,i=this._htmlParser.parse(e,t,Object.assign({interpolationConfig:r},n));return i.errors.length?new pD(i.rootNodes,i.errors):function(e,t,n,r,i){return new MM(r,i).merge(e,t,n)}(i.rootNodes,this._translationBundle,r,[],{})}}const CO="$quoted$";function TO(e,t,n=null){return pE(t,new xO(e),n)}class xO{constructor(e){this.ctx=e}visitArray(e,t){return rE(e.map(e=>pE(e,this,null)),t)}visitStringMap(e,t){const n=[],r=new Set(e&&e[CO]);return Object.keys(e).forEach(t=>{n.push(new I_(t,pE(e[t],this,null),r.has(t)))}),new A_(n,t)}visitPrimitive(e,t){return aE(e,t)}visitOther(e,t){return e instanceof s_?e:this.ctx.importExpr(e)}}function IO(e,t=!1){const n=AO(e,t);return`${n[0]}.ngfactory${DO(n[1])}`}function AO(e,t=!1){if(e.endsWith(".d.ts"))return[e.slice(0,-5),t?".ts":".d.ts"];const n=e.lastIndexOf(".");return-1!==n?[e.substring(0,n),e.substring(n)]:[e,""]}function DO(e){return".tsx"===e?".ts":e}var NO;!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(NO||(NO={}));const kO=[NO.OnInit,NO.OnDestroy,NO.DoCheck,NO.OnChanges,NO.AfterContentInit,NO.AfterContentChecked,NO.AfterViewInit,NO.AfterViewChecked];function PO(e,t,n){return e.hasLifecycleHook(n,function(e){switch(e){case NO.OnInit:return"ngOnInit";case NO.OnDestroy:return"ngOnDestroy";case NO.DoCheck:return"ngDoCheck";case NO.OnChanges:return"ngOnChanges";case NO.AfterContentInit:return"ngAfterContentInit";case NO.AfterContentChecked:return"ngAfterContentChecked";case NO.AfterViewInit:return"ngAfterViewInit";case NO.AfterViewChecked:return"ngAfterViewChecked";default:throw new Error(`unexpected ${e}`)}}(t))}function MO(e,t){return kO.filter(n=>PO(e,n,t))}const OO="ngComponentType";class RO{constructor(e,t,n,r,i,s,o,a,u,c,l,h){this._config=e,this._htmlParser=t,this._ngModuleResolver=n,this._directiveResolver=r,this._pipeResolver=i,this._summaryResolver=s,this._schemaRegistry=o,this._directiveNormalizer=a,this._console=u,this._staticSymbolCache=c,this._reflector=l,this._errorCollector=h,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}getReflector(){return this._reflector}clearCacheFor(e){const t=this._directiveCache.get(e);this._directiveCache.delete(e),this._nonNormalizedDirectiveCache.delete(e),this._summaryCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear(),t&&this._directiveNormalizer.clearCacheFor(t)}clearCache(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()}_createProxyClass(e,t){let n=null;const r=function(){if(!n)throw new Error(`Illegal state: Class ${t} for type ${CE(e)} is not compiled yet!`);return n.apply(this,arguments)};return r.setDelegate=e=>{n=e,r.prototype=e.prototype},r.overriddenName=t,r}getGeneratedClass(e,t){return e instanceof jE?this._staticSymbolCache.get(IO(e.filePath),t):this._createProxyClass(e,t)}getComponentViewClass(e){return this.getGeneratedClass(e,GE(e,0))}getHostComponentViewClass(e){return this.getGeneratedClass(e,`HostView_${WE({reference:e})}`)}getHostComponentType(e){const t=`${WE({reference:e})}_Host`;return e instanceof jE?this._staticSymbolCache.get(e.filePath,t):this._createProxyClass(e,t)}getRendererType(e){return e instanceof jE?this._staticSymbolCache.get(IO(e.filePath),QE(e)):{}}getComponentFactory(e,t,n,r){if(t instanceof jE)return this._staticSymbolCache.get(IO(t.filePath),YE(t));{const i=this.getHostComponentViewClass(t);return this._reflector.resolveExternalReference(VE.createComponentFactory)(e,t,i,n,r,[])}}initComponentFactory(e,t){e instanceof jE||e.ngContentSelectors.push(...t)}_loadSummary(e,t){let n=this._summaryCache.get(e);if(!n){const t=this._summaryResolver.resolveSummary(e);n=t?t.type:null,this._summaryCache.set(e,n||null)}return n&&n.summaryKind===t?n:null}getHostComponentMetadata(e,t){const n=this.getHostComponentType(e.type.reference);t||(t=this.getHostComponentViewClass(n));const r=ub.parse(e.selector)[0].getMatchingElementTemplate(),i=this._htmlParser.parse(r,"");return nS.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new tS({encapsulation:bb.None,template:r,templateUrl:"",htmlAst:i,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:_b.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:t,rendererType:{id:"__Host__",encapsulation:bb.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}loadDirectiveMetadata(e,t,n){if(this._directiveCache.has(t))return null;t=TE(t);const{annotation:r,metadata:i}=this.getNonNormalizedDirectiveMetadata(t),s=e=>{const n=new nS({isHost:!1,type:i.type,isComponent:i.isComponent,selector:i.selector,exportAs:i.exportAs,changeDetection:i.changeDetection,inputs:i.inputs,outputs:i.outputs,hostListeners:i.hostListeners,hostProperties:i.hostProperties,hostAttributes:i.hostAttributes,providers:i.providers,viewProviders:i.viewProviders,queries:i.queries,guards:i.guards,viewQueries:i.viewQueries,entryComponents:i.entryComponents,componentViewType:i.componentViewType,rendererType:i.rendererType,componentFactory:i.componentFactory,template:e});return e&&this.initComponentFactory(i.componentFactory,e.ngContentSelectors),this._directiveCache.set(t,n),this._summaryCache.set(t,n.toSummary()),null};if(i.isComponent){const o=i.template,a=this._directiveNormalizer.normalizeTemplate({ngModuleType:e,componentType:t,moduleUrl:this._reflector.componentModuleUrl(t,r),encapsulation:o.encapsulation,template:o.template,templateUrl:o.templateUrl,styles:o.styles,styleUrls:o.styleUrls,animations:o.animations,interpolation:o.interpolation,preserveWhitespaces:o.preserveWhitespaces});return xE(a)&&n?(this._reportError(function(e){const t=Error(`Can't compile synchronously as ${CE(e)} is still being loaded!`);return t[OO]=e,t}(t),t),null):gE.then(a,s)}return s(null),null}getNonNormalizedDirectiveMetadata(e){if(!(e=TE(e)))return null;let t=this._nonNormalizedDirectiveCache.get(e);if(t)return t;const n=this._directiveResolver.resolve(e,!1);if(!n)return null;let r=void 0;if(Eb.isTypeOf(n)){const e=n;Rx("styles",e.styles),Rx("styleUrls",e.styleUrls),Fx("interpolation",e.interpolation);const t=e.animations;r=new tS({encapsulation:fE(e.encapsulation),template:fE(e.template),templateUrl:fE(e.templateUrl),htmlAst:null,styles:e.styles||[],styleUrls:e.styleUrls||[],animations:t||[],interpolation:fE(e.interpolation),isInline:!!e.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:fE(n.preserveWhitespaces)})}let i=null,s=[],o=[],a=n.selector;if(Eb.isTypeOf(n)){const t=n;i=t.changeDetection,t.viewProviders&&(s=this._getProvidersMetadata(t.viewProviders,o,`viewProviders for "${BO(e)}"`,[],e)),t.entryComponents&&(o=LO(t.entryComponents).map(e=>this._getEntryComponentMetadata(e)).concat(o)),a||(a=this._schemaRegistry.getDefaultComponentElementName())}else a||(this._reportError(yE(`Directive ${BO(e)} has no selector, please add it!`),e),a="error");let u=[];null!=n.providers&&(u=this._getProvidersMetadata(n.providers,o,`providers for "${BO(e)}"`,[],e));let c=[],l=[];null!=n.queries&&(c=this._getQueriesMetadata(n.queries,!1,e),l=this._getQueriesMetadata(n.queries,!0,e));const h=nS.create({isHost:!1,selector:a,exportAs:fE(n.exportAs),isComponent:!!r,type:this._getTypeMetadata(e),template:r,changeDetection:i,inputs:n.inputs||[],outputs:n.outputs||[],host:n.host||{},providers:u||[],viewProviders:s||[],queries:c||[],guards:n.guards||{},viewQueries:l||[],entryComponents:o,componentViewType:r?this.getComponentViewClass(e):null,rendererType:r?this.getRendererType(e):null,componentFactory:null});return r&&(h.componentFactory=this.getComponentFactory(a,e,h.inputs,h.outputs)),t={metadata:h,annotation:n},this._nonNormalizedDirectiveCache.set(e,t),t}getDirectiveMetadata(e){const t=this._directiveCache.get(e);return t||this._reportError(yE(`Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive ${BO(e)}.`),e),t}getDirectiveSummary(e){const t=this._loadSummary(e,XE.Directive);return t||this._reportError(yE(`Illegal state: Could not load the summary for directive ${BO(e)}.`),e),t}isDirective(e){return!!this._loadSummary(e,XE.Directive)||this._directiveResolver.isDirective(e)}isPipe(e){return!!this._loadSummary(e,XE.Pipe)||this._pipeResolver.isPipe(e)}isNgModule(e){return!!this._loadSummary(e,XE.NgModule)||this._ngModuleResolver.isNgModule(e)}getNgModuleSummary(e,t=null){let n=this._loadSummary(e,XE.NgModule);if(!n){const r=this.getNgModuleMetadata(e,!1,t);(n=r?r.toSummary():null)&&this._summaryCache.set(e,n)}return n}loadNgModuleDirectiveAndPipeMetadata(e,t,n=!0){const r=this.getNgModuleMetadata(e,n),i=[];return r&&(r.declaredDirectives.forEach(n=>{const r=this.loadDirectiveMetadata(e,n.reference,t);r&&i.push(r)}),r.declaredPipes.forEach(e=>this._loadPipeMetadata(e.reference))),Promise.all(i)}getShallowModuleMetadata(e){let t=this._shallowModuleCache.get(e);if(t)return t;const n=SM(this._reflector.shallowAnnotations(e),Ab.isTypeOf);return t={type:this._getTypeMetadata(e),rawExports:n.exports,rawImports:n.imports,rawProviders:n.providers},this._shallowModuleCache.set(e,t),t}getNgModuleMetadata(e,t=!0,n=null){e=TE(e);let r=this._ngModuleCache.get(e);if(r)return r;const i=this._ngModuleResolver.resolve(e,t);if(!i)return null;const s=[],o=[],a=[],u=[],c=[],l=[],h=[],p=[],d=[];i.imports&&LO(i.imports).forEach(t=>{let r=void 0;if(FO(t))r=t;else if(t&&t.ngModule){const e=t;r=e.ngModule,e.providers&&l.push(...this._getProvidersMetadata(e.providers,h,`provider for the NgModule '${BO(r)}'`,[],t))}if(r){if(this._checkSelfImport(e,r))return;if(n||(n=new Set),n.has(r))return void this._reportError(yE(`${this._getTypeDescriptor(r)} '${BO(t)}' is imported recursively by the module '${BO(e)}'.`),e);n.add(r);const i=this.getNgModuleSummary(r,n);if(n.delete(r),!i)return void this._reportError(yE(`Unexpected ${this._getTypeDescriptor(t)} '${BO(t)}' imported by the module '${BO(e)}'. Please add a @NgModule annotation.`),e);u.push(i)}else this._reportError(yE(`Unexpected value '${BO(t)}' imported by the module '${BO(e)}'`),e)}),i.exports&&LO(i.exports).forEach(t=>{if(!FO(t))return void this._reportError(yE(`Unexpected value '${BO(t)}' exported by the module '${BO(e)}'`),e);if(n||(n=new Set),n.has(t))return void this._reportError(yE(`${this._getTypeDescriptor(t)} '${CE(t)}' is exported recursively by the module '${BO(e)}'`),e);n.add(t);const r=this.getNgModuleSummary(t,n);n.delete(t),r?c.push(r):o.push(this._getIdentifierMetadata(t))});const f=this._getTransitiveNgModuleMetadata(u,c);i.declarations&&LO(i.declarations).forEach(t=>{if(!FO(t))return void this._reportError(yE(`Unexpected value '${BO(t)}' declared by the module '${BO(e)}'`),e);const n=this._getIdentifierMetadata(t);if(this.isDirective(t))f.addDirective(n),s.push(n),this._addTypeToModule(t,e);else{if(!this.isPipe(t))return void this._reportError(yE(`Unexpected ${this._getTypeDescriptor(t)} '${BO(t)}' declared by the module '${BO(e)}'. Please add a @Pipe/@Directive/@Component annotation.`),e);f.addPipe(n),f.pipes.push(n),a.push(n),this._addTypeToModule(t,e)}});const m=[],g=[];return o.forEach(t=>{if(f.directivesSet.has(t.reference))m.push(t),f.addExportedDirective(t);else{if(!f.pipesSet.has(t.reference))return void this._reportError(yE(`Can't export ${this._getTypeDescriptor(t.reference)} ${BO(t.reference)} from ${BO(e)} as it was neither declared nor imported!`),e);g.push(t),f.addExportedPipe(t)}}),i.providers&&l.push(...this._getProvidersMetadata(i.providers,h,`provider for the NgModule '${BO(e)}'`,[],e)),i.entryComponents&&h.push(...LO(i.entryComponents).map(e=>this._getEntryComponentMetadata(e))),i.bootstrap&&LO(i.bootstrap).forEach(t=>{FO(t)?p.push(this._getIdentifierMetadata(t)):this._reportError(yE(`Unexpected value '${BO(t)}' used in the bootstrap property of module '${BO(e)}'`),e)}),h.push(...p.map(e=>this._getEntryComponentMetadata(e.reference))),i.schemas&&d.push(...LO(i.schemas)),r=new iS({type:this._getTypeMetadata(e),providers:l,entryComponents:h,bootstrapComponents:p,schemas:d,declaredDirectives:s,exportedDirectives:m,declaredPipes:a,exportedPipes:g,importedModules:u,exportedModules:c,transitiveModule:f,id:i.id||null}),h.forEach(e=>f.addEntryComponent(e)),l.forEach(e=>f.addProvider(e,r.type)),f.addModule(r.type),this._ngModuleCache.set(e,r),r}_checkSelfImport(e,t){return e===t&&(this._reportError(yE(`'${BO(e)}' module can't import itself`),e),!0)}_getTypeDescriptor(e){if(FO(e)){if(this.isDirective(e))return"directive";if(this.isPipe(e))return"pipe";if(this.isNgModule(e))return"module"}return e.provide?"provider":"value"}_addTypeToModule(e,t){const n=this._ngModuleOfTypes.get(e);n&&n!==t?this._reportError(yE(`Type ${BO(e)} is part of the declarations of 2 modules: ${BO(n)} and ${BO(t)}! `+`Please consider moving ${BO(e)} to a higher module that imports ${BO(n)} and ${BO(t)}. `+`You can also create a new NgModule that exports and includes ${BO(e)} then import that NgModule in ${BO(n)} and ${BO(t)}.`),t):this._ngModuleOfTypes.set(e,t)}_getTransitiveNgModuleMetadata(e,t){const n=new sS,r=new Map;return e.concat(t).forEach(e=>{e.modules.forEach(e=>n.addModule(e)),e.entryComponents.forEach(e=>n.addEntryComponent(e));const t=new Set;e.providers.forEach(e=>{const i=ZE(e.provider.token);let s=r.get(i);s||(s=new Set,r.set(i,s));const o=e.module.reference;!t.has(i)&&s.has(o)||(s.add(o),t.add(i),n.addProvider(e.provider,e.module))})}),t.forEach(e=>{e.exportedDirectives.forEach(e=>n.addExportedDirective(e)),e.exportedPipes.forEach(e=>n.addExportedPipe(e))}),e.forEach(e=>{e.exportedDirectives.forEach(e=>n.addDirective(e)),e.exportedPipes.forEach(e=>n.addPipe(e))}),n}_getIdentifierMetadata(e){return{reference:e=TE(e)}}isInjectable(e){return this._reflector.tryAnnotations(e).some(e=>Db.isTypeOf(e))}getInjectableSummary(e){return{summaryKind:XE.Injectable,type:this._getTypeMetadata(e,null,!1)}}getInjectableMetadata(e,t=null,n=!0){const r=this._loadSummary(e,XE.Injectable),i=r?r.type:this._getTypeMetadata(e,t,n),s=this._reflector.annotations(e).filter(e=>Db.isTypeOf(e));if(0===s.length)return null;const o=s[s.length-1];return{symbol:e,type:i,providedIn:o.providedIn,useValue:o.useValue,useClass:o.useClass,useExisting:o.useExisting,useFactory:o.useFactory,deps:o.deps}}_getTypeMetadata(e,t=null,n=!0){const r=this._getIdentifierMetadata(e);return{reference:r.reference,diDeps:this._getDependenciesMetadata(r.reference,t,n),lifecycleHooks:MO(this._reflector,r.reference)}}_getFactoryMetadata(e,t=null){return{reference:e=TE(e),diDeps:this._getDependenciesMetadata(e,t)}}getPipeMetadata(e){const t=this._pipeCache.get(e);return t||this._reportError(yE(`Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe ${BO(e)}.`),e),t||null}getPipeSummary(e){const t=this._loadSummary(e,XE.Pipe);return t||this._reportError(yE(`Illegal state: Could not load the summary for pipe ${BO(e)}.`),e),t}getOrLoadPipeMetadata(e){let t=this._pipeCache.get(e);return t||(t=this._loadPipeMetadata(e)),t}_loadPipeMetadata(e){e=TE(e);const t=this._pipeResolver.resolve(e),n=new rS({type:this._getTypeMetadata(e),name:t.name,pure:!!t.pure});return this._pipeCache.set(e,n),this._summaryCache.set(e,n.toSummary()),n}_getDependenciesMetadata(e,t,n=!0){let r=!1;const i=(t||this._reflector.parameters(e)||[]).map(e=>{let t=!1,n=!1,i=!1,s=!1,o=!1,a=null;return Array.isArray(e)?e.forEach(e=>{Rb.isTypeOf(e)?n=!0:Mb.isTypeOf(e)?i=!0:Ob.isTypeOf(e)?s=!0:Pb.isTypeOf(e)?o=!0:fb.isTypeOf(e)?(t=!0,a=e.attributeName):pb.isTypeOf(e)?a=e.token:db.isTypeOf(e)||e instanceof jE?a=e:FO(e)&&null==a&&(a=e)}):a=e,null==a?(r=!0,{}):{isAttribute:t,isHost:n,isSelf:i,isSkipSelf:s,isOptional:o,token:this._getTokenMetadata(a)}});if(r){const t=i.map(e=>e.token?BO(e.token):"?").join(", "),r=`Can't resolve all parameters for ${BO(e)}: (${t}).`;n||this._config.strictInjectionParameters?this._reportError(yE(r),e):this._console.warn(`Warning: ${r} This will become an error in Angular v6.x`)}return i}_getTokenMetadata(e){let t;return t="string"==typeof(e=TE(e))?{value:e}:{identifier:{reference:e}}}_getProvidersMetadata(e,t,n,r=[],i){return e.forEach((s,o)=>{if(Array.isArray(s))this._getProvidersMetadata(s,t,n,r);else{let a=void 0;if((s=TE(s))&&"object"==typeof s&&s.hasOwnProperty("provide"))this._validateProvider(s),a=new aS(s.provide,s);else{if(!FO(s)){if(void 0===s)return void this._reportError(yE("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));{const t=e.reduce((e,t,n)=>(n<o?e.push(`${BO(t)}`):n==o?e.push(`?${BO(t)}?`):n==o+1&&e.push("..."),e),[]).join(", ");return void this._reportError(yE(`Invalid ${n||"provider"} - only instances of Provider and Type are allowed, got: [${t}]`),i)}}a=new aS(s,{useClass:s})}a.token===this._reflector.resolveExternalReference(VE.ANALYZE_FOR_ENTRY_COMPONENTS)?t.push(...this._getEntryComponentsFromProvider(a,i)):r.push(this.getProviderMetadata(a))}}),r}_validateProvider(e){e.hasOwnProperty("useClass")&&null==e.useClass&&this._reportError(yE(`Invalid provider for ${BO(e.provide)}. useClass cannot be ${e.useClass}.\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case.`))}_getEntryComponentsFromProvider(e,t){const n=[],r=[];return e.useFactory||e.useExisting||e.useClass?(this._reportError(yE("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),t),[]):e.multi?(i=e.useValue,s=r,pE(i,new VO,s),r.forEach(e=>{const t=this._getEntryComponentMetadata(e.reference,!1);t&&n.push(t)}),n):(this._reportError(yE("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),t),[]);var i,s}_getEntryComponentMetadata(e,t=!0){const n=this.getNonNormalizedDirectiveMetadata(e);if(n&&n.metadata.isComponent)return{componentType:e,componentFactory:n.metadata.componentFactory};const r=this._loadSummary(e,XE.Directive);if(r&&r.isComponent)return{componentType:e,componentFactory:r.componentFactory};if(t)throw yE(`${e.name} cannot be used as an entry component.`);return null}_getInjectableTypeMetadata(e,t=null){const n=this._loadSummary(e,XE.Injectable);return n?n.type:this._getTypeMetadata(e,t)}getProviderMetadata(e){let t=void 0,n=null,r=null,i=this._getTokenMetadata(e.token);return e.useClass?(t=(n=this._getInjectableTypeMetadata(e.useClass,e.dependencies)).diDeps,e.token===e.useClass&&(i={identifier:n})):e.useFactory&&(t=(r=this._getFactoryMetadata(e.useFactory,e.dependencies)).diDeps),{token:i,useClass:n,useValue:e.useValue,useFactory:r,useExisting:e.useExisting?this._getTokenMetadata(e.useExisting):void 0,deps:t,multi:e.multi}}_getQueriesMetadata(e,t,n){const r=[];return Object.keys(e).forEach(i=>{const s=e[i];s.isViewQuery===t&&r.push(this._getQueryMetadata(s,i,n))}),r}_queryVarBindings(e){return e.split(/\s*,\s*/)}_getQueryMetadata(e,t,n){let r;return"string"==typeof e.selector?r=this._queryVarBindings(e.selector).map(e=>this._getTokenMetadata(e)):e.selector?r=[this._getTokenMetadata(e.selector)]:(this._reportError(yE(`Can't construct a query for the property "${t}" of "${BO(n)}" since the query selector wasn't defined.`),n),r=[]),{selectors:r,first:e.first,descendants:e.descendants,propertyName:t,read:e.read?this._getTokenMetadata(e.read):null,static:e.static}}_reportError(e,t,n){if(!this._errorCollector)throw e;this._errorCollector(e,t),n&&this._errorCollector(e,n)}}function LO(e){return(t=function e(t,n=[]){if(t)for(let r=0;r<t.length;r++){const i=TE(t[r]);Array.isArray(i)?e(i,n):n.push(i)}return n}(e))?Array.from(new Set(t)):[];var t}function FO(e){return e instanceof jE||e instanceof Lb}class VO extends mE{visitOther(e,t){t.push({reference:e})}}function BO(e){return e instanceof jE?`${e.name} in ${e.filePath}`:CE(e)}function UO(e,t){let n=0;t.eager||(n|=4096),t.providerType===$D.PrivateService&&(n|=8192),t.isModule&&(n|=1073741824),t.lifecycleHooks.forEach(e=>{e!==NO.OnDestroy&&t.providerType!==$D.Directive&&t.providerType!==$D.Component||(n|=HO(e))});const{providerExpr:r,flags:i,depsExpr:s}=t.multiProvider?function(e,t,n){const r=[],i=[],s=n.map((t,n)=>{let r;if(t.useClass){const i=o(n,t.deps||t.useClass.diDeps);r=e.importExpr(t.useClass.reference).instantiate(i)}else if(t.useFactory){const i=o(n,t.deps||t.useFactory.diDeps);r=e.importExpr(t.useFactory.reference).callFn(i)}else if(t.useExisting){r=o(n,[{token:t.useExisting}])[0]}else r=TO(e,t.useValue);return r});return{providerExpr:sE(i,[new F_(rE(s))],Yb),flags:1024|t,depsExpr:rE(r)};function o(t,n){return n.map((n,s)=>{const o=`p${t}_${s}`;return i.push(new __(o,Qb)),r.push($O(e,n)),Z_(o)})}}(e,n,t.providers):jO(e,n,t.providerType,t.providers[0]);return{providerExpr:r,flags:i,depsExpr:s,tokenExpr:qO(e,t.token)}}function jO(e,t,n,r){let i,s;return n===$D.Directive||n===$D.Component?(i=e.importExpr(r.useClass.reference),t|=16384,s=r.deps||r.useClass.diDeps):r.useClass?(i=e.importExpr(r.useClass.reference),t|=512,s=r.deps||r.useClass.diDeps):r.useFactory?(i=e.importExpr(r.useFactory.reference),t|=1024,s=r.deps||r.useFactory.diDeps):r.useExisting?(i=N_,t|=2048,s=[{token:r.useExisting}]):(i=TO(e,r.useValue),t|=256,s=[]),{providerExpr:i,flags:t,depsExpr:rE(s.map(t=>$O(e,t)))}}function qO(e,t){return t.identifier?e.importExpr(t.identifier.reference):aE(t.value)}function $O(e,t){const n=t.isValue?TO(e,t.value):qO(e,t.token);let r=0;return t.isSkipSelf&&(r|=1),t.isOptional&&(r|=2),t.isSelf&&(r|=4),t.isValue&&(r|=8),0===r?n:rE([aE(r),n])}function HO(e){let t=0;switch(e){case NO.AfterContentChecked:t=2097152;break;case NO.AfterContentInit:t=1048576;break;case NO.AfterViewChecked:t=8388608;break;case NO.AfterViewInit:t=4194304;break;case NO.DoCheck:t=262144;break;case NO.OnChanges:t=524288;break;case NO.OnDestroy:t=131072;break;case NO.OnInit:t=65536}return t}function zO(e,t,n,r){const i=r.map(e=>t.importExpr(e.componentFactory)),s=UE(e,VE.ComponentFactoryResolver),o={diDeps:[{isValue:!0,value:rE(i)},{token:s,isSkipSelf:!0,isOptional:!0},{token:UE(e,VE.NgModuleRef)}],lifecycleHooks:[],reference:e.resolveExternalReference(VE.CodegenComponentFactoryResolver)},{providerExpr:a,flags:u,depsExpr:c}=jO(t,n,$D.PrivateService,{token:s,multi:!1,useClass:o});return{providerExpr:a,flags:u,depsExpr:c,tokenExpr:qO(t,s)}}class WO{constructor(e){this.ngModuleFactoryVar=e}}const KO=Z_("_l");class GO{constructor(e){this.reflector=e}compile(e,t,n){const r=function(e,t){const n=KE(t),r=null!=n?`in ${e} ${WE(t)} in ${n}`:`in ${e} ${WE(t)}`,i=new SC("",r);return new CC(new EC(i,-1,-1,-1),new EC(i,-1,-1,-1))}("NgModule",t.type),i=t.transitiveModule.entryComponents,s=t.bootstrapComponents,o=new QD(this.reflector,t,n,r),a=[zO(this.reflector,e,0,i)].concat(o.parse().map(t=>UO(e,t))).map(({providerExpr:e,depsExpr:t,flags:n,tokenExpr:r})=>eE(VE.moduleProviderDef).callFn([aE(n),r,e,t])),u=eE(VE.moduleDef).callFn([rE(a)]),c=sE([new __(KO.name)],[new F_(u)],Yb),l=`${WE(t.type)}NgFactory`;if(this._createNgModuleFactory(e,t.type.reference,eE(VE.createModuleFactory).callFn([e.importExpr(t.type.reference),rE(s.map(t=>e.importExpr(t.reference))),c])),t.id){const n="string"==typeof t.id?aE(t.id):e.importExpr(t.id),r=eE(VE.RegisterModuleFactoryFn).callFn([n,Z_(l)]).toStmt();e.statements.push(r)}return new WO(l)}createStub(e,t){this._createNgModuleFactory(e,t,N_)}_createNgModuleFactory(e,t,n){const r=Z_(`${WE({reference:t})}NgFactory`).set(n).toDeclStmt(tE(VE.NgModuleFactory,[nE(e.importExpr(t))],[qb.Const]),[P_.Final,P_.Exported]);e.statements.push(r)}}class QO{constructor(e){this._reflector=e}isNgModule(e){return this._reflector.annotations(e).some(Ab.isTypeOf)}resolve(e,t=!0){const n=SM(this._reflector.annotations(e),Ab.isTypeOf);if(n)return n;if(t)throw new Error(`No NgModule metadata found for '${CE(e)}'.`);return null}}class YO extends Zx{constructor(e,t){super(!1),this.referenceFilter=e,this.importFilter=t,this.typeExpression=0,this.importsWithPrefixes=new Map,this.reexports=new Map}visitType(e,t,n="any"){e?(this.typeExpression++,e.visitType(this,t),this.typeExpression--):t.print(null,n)}visitLiteralExpr(e,t){const n=e.value;return null==n&&e.type!=Yb?(t.print(e,`(${n} as any)`),null):super.visitLiteralExpr(e,t)}visitLiteralArrayExpr(e,t){0===e.entries.length&&t.print(e,"(");const n=super.visitLiteralArrayExpr(e,t);return 0===e.entries.length&&t.print(e," as any[])"),n}visitExternalExpr(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null}visitAssertNotNullExpr(e,t){const n=super.visitAssertNotNullExpr(e,t);return t.print(e,"!"),n}visitDeclareVarStmt(e,t){if(e.hasModifier(P_.Exported)&&e.value instanceof g_&&!e.type){const{name:t,moduleName:n}=e.value.value;if(n){let r=this.reexports.get(n);return r||(r=[],this.reexports.set(n,r)),r.push({name:t,as:e.name}),null}}return e.hasModifier(P_.Exported)&&t.print(e,"export "),e.hasModifier(P_.Final)?t.print(e,"const"):t.print(e,"var"),t.print(e,` ${e.name}`),this._printColonType(e.type,t),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitWrappedNodeExpr(e,t){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")}visitCastExpr(e,t){return t.print(e,"(<"),e.type.visitType(this,t),t.print(e,">"),e.value.visitExpression(this,t),t.print(e,")"),null}visitInstantiateExpr(e,t){return t.print(e,"new "),this.typeExpression++,e.classExpr.visitExpression(this,t),this.typeExpression--,t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitDeclareClassStmt(e,t){return t.pushClass(e),e.hasModifier(P_.Exported)&&t.print(e,"export "),t.print(e,`class ${e.name}`),null!=e.parent&&(t.print(e," extends "),this.typeExpression++,e.parent.visitExpression(this,t),this.typeExpression--),t.println(e," {"),t.incIndent(),e.fields.forEach(e=>this._visitClassField(e,t)),null!=e.constructorMethod&&this._visitClassConstructor(e,t),e.getters.forEach(e=>this._visitClassGetter(e,t)),e.methods.forEach(e=>this._visitClassMethod(e,t)),t.decIndent(),t.println(e,"}"),t.popClass(),null}_visitClassField(e,t){e.hasModifier(P_.Private)&&t.print(null,"/*private*/ "),e.hasModifier(P_.Static)&&t.print(null,"static "),t.print(null,e.name),this._printColonType(e.type,t),e.initializer&&(t.print(null," = "),e.initializer.visitExpression(this,t)),t.println(null,";")}_visitClassGetter(e,t){e.hasModifier(P_.Private)&&t.print(null,"private "),t.print(null,`get ${e.name}()`),this._printColonType(e.type,t),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}_visitClassConstructor(e,t){t.print(e,"constructor("),this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println(e,"}")}_visitClassMethod(e,t){e.hasModifier(P_.Private)&&t.print(null,"private "),t.print(null,`${e.name}(`),this._visitParams(e.params,t),t.print(null,")"),this._printColonType(e.type,t,"void"),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}visitFunctionExpr(e,t){return e.name&&(t.print(e,"function "),t.print(e,e.name)),t.print(e,"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),e.name||t.print(e," => "),t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitDeclareFunctionStmt(e,t){return e.hasModifier(P_.Exported)&&t.print(e,"export "),t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitTryCatchStmt(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,`} catch (${Qx.name}) {`),t.incIndent();const n=[Yx.set(Qx.prop("stack",null)).toDeclStmt(null,[P_.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}visitBuiltinType(e,t){let n;switch(e.name){case $b.Bool:n="boolean";break;case $b.Dynamic:n="any";break;case $b.Function:n="Function";break;case $b.Number:case $b.Int:n="number";break;case $b.String:n="string";break;case $b.None:n="never";break;default:throw new Error(`Unsupported builtin type ${e.name}`)}return t.print(null,n),null}visitExpressionType(e,t){return e.value.visitExpression(this,t),null!==e.typeParams&&(t.print(null,"<"),this.visitAllObjects(e=>this.visitType(e,t),e.typeParams,t,","),t.print(null,">")),null}visitArrayType(e,t){return this.visitType(e.of,t),t.print(null,"[]"),null}visitMapType(e,t){return t.print(null,"{[key: string]:"),this.visitType(e.valueType,t),t.print(null,"}"),null}getBuiltinMethodName(e){let t;switch(e){case n_.ConcatArray:t="concat";break;case n_.SubscribeObservable:t="subscribe";break;case n_.Bind:t="bind";break;default:throw new Error(`Unknown builtin method: ${e}`)}return t}_visitParams(e,t){this.visitAllObjects(e=>{t.print(null,e.name),this._printColonType(e.type,t)},e,t,",")}_visitIdentifier(e,t,n){const{name:r,moduleName:i}=e;if(this.referenceFilter&&this.referenceFilter(e))n.print(null,"(null as any)");else{if(i&&(!this.importFilter||!this.importFilter(e))){let e=this.importsWithPrefixes.get(i);null==e&&(e=`i${this.importsWithPrefixes.size}`,this.importsWithPrefixes.set(i,e)),n.print(null,`${e}.`)}if(n.print(null,r),this.typeExpression>0){(t||[]).length>0&&(n.print(null,"<"),this.visitAllObjects(e=>e.visitType(this,n),t,n,","),n.print(null,">"))}}}_printColonType(e,t,n){e!==Yb&&(t.print(null,":"),this.visitType(e,t,n))}}class XO{constructor(e){this._reflector=e}isPipe(e){const t=this._reflector.annotations(TE(e));return t&&t.some(Sb.isTypeOf)}resolve(e,t=!0){const n=this._reflector.annotations(TE(e));if(n){const e=SM(n,Sb.isTypeOf);if(e)return e}if(t)throw new Error(`No Pipe decorator found on ${CE(e)}`);return null}}const JO="_any";new class{notifyImplicitReceiverUse(){}getLocal(e){return e===KI.event.name?Z_(JO):null}};const ZO="class",eR="style",tR="$implicit";class nR{constructor(e,t){this.viewClassVar=e,this.rendererTypeVar=t}}class rR{constructor(e){this._reflector=e}compileComponent(e,t,n,r,i){let s=0;const o=function e(t,n=new Map){t.forEach(t=>{const r=new Set,i=new Set;let s=void 0;t instanceof VD?(e(t.children,n),t.children.forEach(e=>{const t=n.get(e);t.staticQueryIds.forEach(e=>r.add(e)),t.dynamicQueryIds.forEach(e=>i.add(e))}),s=t.queryMatches):t instanceof BD&&(e(t.children,n),t.children.forEach(e=>{const t=n.get(e);t.staticQueryIds.forEach(e=>i.add(e)),t.dynamicQueryIds.forEach(e=>i.add(e))}),s=t.queryMatches),s&&s.forEach(e=>r.add(e.queryId)),i.forEach(e=>r.delete(e)),n.set(t,{staticQueryIds:r,dynamicQueryIds:i})});return n}(n);let a=void 0;if(!t.isHost){const n=t.template,i=[];n.animations&&n.animations.length&&i.push(new I_("animation",TO(e,n.animations),!0));const s=Z_(QE(t.type.reference));a=s.name,e.statements.push(s.set(eE(VE.createRendererType2).callFn([new A_([new I_("encapsulation",aE(n.encapsulation),!1),new I_("styles",r,!1),new I_("data",new A_(i),!1)])])).toDeclStmt(tE(VE.RendererType2),[P_.Final,P_.Exported]))}const u=n=>{const r=s++;return new lR(this._reflector,e,n,t,r,i,o,u)},c=u(null);return c.visitAll([],n),e.statements.push(...c.build()),new nR(c.viewName,a)}}const iR=Z_("_l"),sR=Z_("_v"),oR=Z_("_ck"),aR=Z_("_co"),uR=Z_("en"),cR=Z_("ad");class lR{constructor(e,t,n,r,i,s,o,a){this.reflector=e,this.outputCtx=t,this.parent=n,this.component=r,this.embeddedViewIndex=i,this.usedPipes=s,this.staticQueryIds=o,this.viewBuilderFactory=a,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?Qb:nE(t.importExpr(this.component.type.reference)),this.viewName=GE(this.component.type.reference,this.embeddedViewIndex)}visitAll(e,t){if(this.variables=e,this.parent||this.usedPipes.forEach(e=>{e.pure&&(this.purePipeNodeIndices[e.name]=this._createPipe(null,e))}),!this.parent){const e=function(e){const t=new Set,n=new Set;return Array.from(e.values()).forEach(e=>{e.staticQueryIds.forEach(e=>t.add(e)),e.dynamicQueryIds.forEach(e=>n.add(e))}),n.forEach(e=>t.delete(e)),{staticQueryIds:t,dynamicQueryIds:n}}(this.staticQueryIds);this.component.viewQueries.forEach((t,n)=>{const r=n+1,i=t.first?0:1,s=134217728|mR(e,r,t);this.nodes.push(()=>({sourceSpan:null,nodeFlags:s,nodeDef:eE(VE.queryDef).callFn([aE(s),aE(r),new A_([new I_(t.propertyName,aE(i),!1)])])}))})}zD(this,t),this.parent&&(0===t.length||function e(t){const n=t[t.length-1];if(n instanceof BD)return n.hasViewContainer;if(n instanceof VD)return Yw(n.name)&&n.children.length?e(n.children):n.hasViewContainer;return n instanceof HD}(t))&&this.nodes.push(()=>({sourceSpan:null,nodeFlags:1,nodeDef:eE(VE.anchorDef).callFn([aE(0),N_,N_,aE(0)])}))}build(e=[]){this.children.forEach(t=>t.build(e));const{updateRendererStmts:t,updateDirectivesStmts:n,nodeDefExprs:r}=this._createNodeExpressions(),i=this._createUpdateFn(t),s=this._createUpdateFn(n);let o=0;this.parent||this.component.changeDetection!==_b.OnPush||(o|=2);const a=new R_(this.viewName,[new __(iR.name)],[new F_(eE(VE.viewDef).callFn([aE(o),rE(r),s,i]))],tE(VE.ViewDefinition),0===this.embeddedViewIndex?[P_.Exported]:[]);return e.push(a),e}_createUpdateFn(e){let t;if(e.length>0){const n=[];!this.component.isHost&&G_(e).has(aR.name)&&n.push(aR.set(sR.prop("component")).toDeclStmt(this.compType)),t=sE([new __(oR.name,Yb),new __(sR.name,Yb)],[...n,...e],Yb)}else t=N_;return t}visitNgContent(e,t){this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:8,nodeDef:eE(VE.ngContentDef).callFn([aE(e.ngContentIndex),aE(e.index)])}))}visitText(e,t){this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:eE(VE.textDef).callFn([aE(-1),aE(e.ngContentIndex),rE([aE(e.value)])])}))}visitBoundText(e,t){const n=this.nodes.length;this.nodes.push(null);const r=e.value.ast,i=r.expressions.map((t,r)=>this._preprocessUpdateExpression({nodeIndex:n,bindingIndex:r,sourceSpan:e.sourceSpan,context:aR,value:t})),s=n;this.nodes[n]=()=>({sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:eE(VE.textDef).callFn([aE(s),aE(e.ngContentIndex),rE(r.strings.map(e=>aE(e)))]),updateRenderer:i})}visitEmbeddedTemplate(e,t){const n=this.nodes.length;this.nodes.push(null);const{flags:r,queryMatchesExpr:i,hostEvents:s}=this._visitElementOrTemplate(n,e),o=this.viewBuilderFactory(this);this.children.push(o),o.visitAll(e.variables,e.children);const a=this.nodes.length-n-1;this.nodes[n]=()=>({sourceSpan:e.sourceSpan,nodeFlags:1|r,nodeDef:eE(VE.anchorDef).callFn([aE(r),i,aE(e.ngContentIndex),aE(a),this._createElementHandleEventFn(n,s),Z_(o.viewName)])})}visitElement(e,t){const n=this.nodes.length;this.nodes.push(null);const r=Yw(e.name)?null:e.name,{flags:i,usedEvents:s,queryMatchesExpr:o,hostBindings:a,hostEvents:u}=this._visitElementOrTemplate(n,e);let c=[],l=[],h=[];if(r){const t=e.inputs.map(e=>({context:aR,inputAst:e,dirAst:null})).concat(a);t.length&&(l=t.map((e,t)=>this._preprocessUpdateExpression({context:e.context,nodeIndex:n,bindingIndex:t,sourceSpan:e.inputAst.sourceSpan,value:e.inputAst.value})),c=t.map(e=>(function(e,t){const n=e.type;switch(n){case 1:return rE([aE(1),aE(e.name),aE(e.securityContext)]);case 0:return rE([aE(8),aE(e.name),aE(e.securityContext)]);case 4:return rE([aE(8|(t&&t.directive.isComponent?32:16)),aE("@"+e.name),aE(e.securityContext)]);case 2:return rE([aE(2),aE(e.name),N_]);case 3:return rE([aE(4),aE(e.name),aE(e.unit)]);default:throw new Error(`unexpected ${n}`)}})(e.inputAst,e.dirAst))),h=s.map(([e,t])=>rE([aE(e),aE(t)]))}zD(this,e.children);const p=this.nodes.length-n-1,d=e.directives.find(e=>e.directive.isComponent);let f=N_,m=N_;d&&(m=this.outputCtx.importExpr(d.directive.componentViewType),f=this.outputCtx.importExpr(d.directive.rendererType));const g=n;this.nodes[n]=()=>({sourceSpan:e.sourceSpan,nodeFlags:1|i,nodeDef:eE(VE.elementDef).callFn([aE(g),aE(i),o,aE(e.ngContentIndex),aE(p),aE(r),r?hR(e):N_,c.length?rE(c):N_,h.length?rE(h):N_,this._createElementHandleEventFn(n,u),m,f]),updateRenderer:l})}_visitElementOrTemplate(e,t){let n=0;t.hasViewContainer&&(n|=16777216);const r=new Map;t.outputs.forEach(e=>{const{name:t,target:n}=fR(e,null);r.set(gR(n,t),[n,t])}),t.directives.forEach(e=>{e.hostEvents.forEach(t=>{const{name:n,target:i}=fR(t,e);r.set(gR(i,n),[i,n])})});const i=[],s=[];this._visitComponentFactoryResolverProvider(t.directives),t.providers.forEach((n,o)=>{let a=void 0,u=void 0;if(t.directives.forEach((e,t)=>{e.directive.type.reference===ZE(n.token)&&(a=e,u=t)}),a){const{hostBindings:o,hostEvents:c}=this._visitDirective(n,a,u,e,t.references,t.queryMatches,r,this.staticQueryIds.get(t));i.push(...o),s.push(...c)}else this._visitProvider(n,t.queryMatches)});let o=[];return t.queryMatches.forEach(e=>{let t=void 0;ZE(e.value)===this.reflector.resolveExternalReference(VE.ElementRef)?t=0:ZE(e.value)===this.reflector.resolveExternalReference(VE.ViewContainerRef)?t=3:ZE(e.value)===this.reflector.resolveExternalReference(VE.TemplateRef)&&(t=2),null!=t&&o.push(rE([aE(e.queryId),aE(t)]))}),t.references.forEach(t=>{let n=void 0;t.value?ZE(t.value)===this.reflector.resolveExternalReference(VE.TemplateRef)&&(n=2):n=1,null!=n&&(this.refNodeIndices[t.name]=e,o.push(rE([aE(t.name),aE(n)])))}),t.outputs.forEach(e=>{s.push({context:aR,eventAst:e,dirAst:null})}),{flags:n,usedEvents:Array.from(r.values()),queryMatchesExpr:o.length?rE(o):N_,hostBindings:i,hostEvents:s}}_visitDirective(e,t,n,r,i,s,o,a){const u=this.nodes.length;this.nodes.push(null),t.directive.queries.forEach((e,n)=>{const r=t.contentQueryStartId+n,i=67108864|mR(a,r,e),s=e.first?0:1;this.nodes.push(()=>({sourceSpan:t.sourceSpan,nodeFlags:i,nodeDef:eE(VE.queryDef).callFn([aE(i),aE(r),new A_([new I_(e.propertyName,aE(s),!1)])])}))});const c=this.nodes.length-u-1;let{flags:l,queryMatchExprs:h,providerExpr:p,depsExpr:d}=this._visitProviderOrDirective(e,s);i.forEach(t=>{t.value&&ZE(t.value)===ZE(e.token)&&(this.refNodeIndices[t.name]=u,h.push(rE([aE(t.name),aE(4)])))}),t.directive.isComponent&&(l|=32768);const f=t.inputs.map((e,t)=>{const n=rE([aE(t),aE(e.directiveName)]);return new I_(e.directiveName,n,!1)}),m=[],g=t.directive;Object.keys(g.outputs).forEach(e=>{const t=g.outputs[e];o.has(t)&&m.push(new I_(e,aE(t),!1))});let v=[];(t.inputs.length||(327680&l)>0)&&(v=t.inputs.map((e,t)=>this._preprocessUpdateExpression({nodeIndex:u,bindingIndex:t,sourceSpan:e.sourceSpan,context:aR,value:e.value})));const y=eE(VE.nodeValue).callFn([sR,aE(u)]),w=t.hostProperties.map(e=>({context:y,dirAst:t,inputAst:e})),b=t.hostEvents.map(e=>({context:y,eventAst:e,dirAst:t})),_=u;return this.nodes[u]=()=>({sourceSpan:t.sourceSpan,nodeFlags:16384|l,nodeDef:eE(VE.directiveDef).callFn([aE(_),aE(l),h.length?rE(h):N_,aE(c),p,d,f.length?new A_(f):N_,m.length?new A_(m):N_]),updateDirectives:v,directive:t.directive.type}),{hostBindings:w,hostEvents:b}}_visitProvider(e,t){this._addProviderNode(this._visitProviderOrDirective(e,t))}_visitComponentFactoryResolverProvider(e){const t=e.find(e=>e.directive.isComponent);if(t&&t.directive.entryComponents.length){const{providerExpr:e,depsExpr:n,flags:r,tokenExpr:i}=zO(this.reflector,this.outputCtx,8192,t.directive.entryComponents);this._addProviderNode({providerExpr:e,depsExpr:n,flags:r,tokenExpr:i,queryMatchExprs:[],sourceSpan:t.sourceSpan})}}_addProviderNode(e){this.nodes.length;this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:e.flags,nodeDef:eE(VE.providerDef).callFn([aE(e.flags),e.queryMatchExprs.length?rE(e.queryMatchExprs):N_,e.tokenExpr,e.providerExpr,e.depsExpr])}))}_visitProviderOrDirective(e,t){let n=[];t.forEach(t=>{ZE(t.value)===ZE(e.token)&&n.push(rE([aE(t.queryId),aE(4)]))});const{providerExpr:r,depsExpr:i,flags:s,tokenExpr:o}=UO(this.outputCtx,e);return{flags:0|s,queryMatchExprs:n,providerExpr:r,depsExpr:i,tokenExpr:o,sourceSpan:e.sourceSpan}}getLocal(e){if(e==KI.event.name)return KI.event;let t=sR;for(let n=this;n;n=n.parent,t=t.prop("parent").cast(Qb)){const r=n.refNodeIndices[e];if(null!=r)return eE(VE.nodeValue).callFn([t,aE(r)]);const i=n.variables.find(t=>t.name===e);if(i){const e=i.value||tR;return t.prop("context").prop(e)}}return null}notifyImplicitReceiverUse(){}_createLiteralArrayConverter(e,t){if(0===t){const e=eE(VE.EMPTY_ARRAY);return()=>e}const n=this.nodes.length;return this.nodes.push(()=>({sourceSpan:e,nodeFlags:32,nodeDef:eE(VE.pureArrayDef).callFn([aE(n),aE(t)])})),e=>pR(n,e)}_createLiteralMapConverter(e,t){if(0===t.length){const e=eE(VE.EMPTY_MAP);return()=>e}const n=iE(t.map((e,t)=>Object.assign({},e,{value:aE(t)}))),r=this.nodes.length;return this.nodes.push(()=>({sourceSpan:e,nodeFlags:64,nodeDef:eE(VE.pureObjectDef).callFn([aE(r),n])})),e=>pR(r,e)}_createPipeConverter(e,t,n){const r=this.usedPipes.find(e=>e.name===t);if(r.pure){const r=this.nodes.length;this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:128,nodeDef:eE(VE.purePipeDef).callFn([aE(r),aE(n)])}));let i=sR,s=this;for(;s.parent;)s=s.parent,i=i.prop("parent").cast(Qb);const o=s.purePipeNodeIndices[t],a=eE(VE.nodeValue).callFn([i,aE(o)]);return t=>dR(e.nodeIndex,e.bindingIndex,pR(r,[a].concat(t)))}{const t=this._createPipe(e.sourceSpan,r),n=eE(VE.nodeValue).callFn([sR,aE(t)]);return t=>dR(e.nodeIndex,e.bindingIndex,n.callMethod("transform",t))}}_createPipe(e,t){const n=this.nodes.length;let r=0;t.type.lifecycleHooks.forEach(e=>{e===NO.OnDestroy&&(r|=HO(e))});const i=t.type.diDeps.map(e=>$O(this.outputCtx,e));return this.nodes.push(()=>({sourceSpan:e,nodeFlags:16,nodeDef:eE(VE.pipeDef).callFn([aE(r),this.outputCtx.importExpr(t.type.reference),rE(i)])})),n}_preprocessUpdateExpression(e){return{nodeIndex:e.nodeIndex,bindingIndex:e.bindingIndex,sourceSpan:e.sourceSpan,context:e.context,value:YI({createLiteralArrayConverter:t=>this._createLiteralArrayConverter(e.sourceSpan,t),createLiteralMapConverter:t=>this._createLiteralMapConverter(e.sourceSpan,t),createPipeConverter:(t,n)=>this._createPipeConverter(e,t,n)},e.value)}}_createNodeExpressions(){const e=this;let t=0;const n=[],r=[],i=this.nodes.map((e,t)=>{const{nodeDef:i,nodeFlags:o,updateDirectives:a,updateRenderer:u,sourceSpan:c}=e();return u&&n.push(...s(t,c,u,!1)),a&&r.push(...s(t,c,a,(327680&o)>0)),X_(3&o?new D_([iR.callFn([]).callFn([]),i]):i,c)});return{updateRendererStmts:n,updateDirectivesStmts:r,nodeDefExprs:i};function s(n,r,i,s){const o=[],a=i.map(({sourceSpan:n,context:r,value:i})=>{const s=`${t++}`,a=r===aR?e:null,{stmts:u,currValExpr:c}=JI(a,r,i,s,qI.General);return o.push(...u.map(e=>Y_(e,n))),X_(c,n)});return(i.length||s)&&o.push(Y_(pR(n,a).toStmt(),r)),o}}_createElementHandleEventFn(e,t){const n=[];let r,i=0;if(t.forEach(({context:e,eventAst:t,dirAst:r})=>{const s=`${i++}`,o=e===aR?this:null,{stmts:a,allowDefault:u}=QI(o,e,t.handler,s),c=a;u&&c.push(cR.set(u.and(cR)).toStmt());const{target:l,name:h}=fR(t,r),p=gR(l,h);n.push(Y_(new q_(aE(p).identical(uR),c),t.sourceSpan))}),n.length>0){const e=[cR.set(aE(!0)).toDeclStmt(Xb)];!this.component.isHost&&G_(n).has(aR.name)&&e.push(aR.set(sR.prop("component")).toDeclStmt(this.compType)),r=sE([new __(sR.name,Yb),new __(uR.name,Yb),new __(KI.event.name,Yb)],[...e,...n,new F_(cR)],Yb)}else r=N_;return r}visitDirective(e,t){}visitDirectiveProperty(e,t){}visitReference(e,t){}visitVariable(e,t){}visitEvent(e,t){}visitElementProperty(e,t){}visitAttr(e,t){}}function hR(e){const t=Object.create(null);return e.attrs.forEach(e=>{t[e.name]=e.value}),e.directives.forEach(e=>{Object.keys(e.directive.hostAttributes).forEach(n=>{const r=e.directive.hostAttributes[n],i=t[n];t[n]=null!=i?function(e,t,n){return e==ZO||e==eR?`${t} ${n}`:n}(n,i,r):r})}),rE(Object.keys(t).sort().map(e=>rE([aE(e),aE(t[e])])))}function pR(e,t){return t.length>10?oR.callFn([sR,aE(e),aE(1),rE(t)]):oR.callFn([sR,aE(e),aE(0),...t])}function dR(e,t,n){return eE(VE.unwrapValue).callFn([sR,aE(e),aE(t),n])}function fR(e,t){return e.isAnimation?{name:`@${e.name}.${e.phase}`,target:t&&t.directive.isComponent?"component":null}:e}function mR(e,t,n){let r=0;return n.first&&function(e,t,n){return n.static||null==n.static&&(e.staticQueryIds.has(t)||!e.dynamicQueryIds.has(t))}(e,t,n)?r|=268435456:r|=536870912,r}function gR(e,t){return e?`${e}:${t}`:t}const vR="useValue";new Set([vR,"useFactory","data","id","loadChildren"]);class yR{static build(){const e=new Map;return{define:function(t,n){return e.set(t,n),this},done:function(){return e.size>0?new wR(e):yR.empty}}}}yR.missing={},yR.empty={resolve:e=>yR.missing};class wR extends yR{constructor(e){super(),this.bindings=e}resolve(e){return this.bindings.has(e)?this.bindings.get(e):yR.missing}}class bR{}class _R{constructor(){this._summaries=new Map}isLibraryFile(){return!1}toSummaryFileName(e){return e}fromSummaryFileName(e){return e}resolveSummary(e){return this._summaries.get(e)||null}getSymbolsOf(){return[]}getImportAs(e){return e}getKnownModuleName(e){return null}addSummary(e){this._summaries.set(e.symbol,e)}}function ER(e,t,n,r,i){const s=r.createChildWihtLocalVars();for(let a=0;a<e.length;a++)s.vars.set(e[a],t[a]);const o=i.visitAllStatements(n,s);return o?o.value:null}class SR{constructor(e,t,n,r){this.parent=e,this.instance=t,this.className=n,this.vars=r,this.exports=[]}createChildWihtLocalVars(){return new SR(this,this.instance,this.className,new Map)}}class CR{constructor(e){this.value=e}}class TR{constructor(e){this.reflector=e}debugAst(e){return function(e){const t=new YO,n=Jx.createRoot();return(Array.isArray(e)?e:[e]).forEach(e=>{if(e instanceof M_)e.visitStatement(t,n);else if(e instanceof s_)e.visitExpression(t,n);else{if(!(e instanceof Hb))throw new Error(`Don't know how to print debug info for ${e}`);e.visitType(t,n)}}),n.toSource()}(e)}visitDeclareVarStmt(e,t){const n=e.value?e.value.visitExpression(this,t):void 0;return t.vars.set(e.name,n),e.hasModifier(P_.Exported)&&t.exports.push(e.name),null}visitWriteVarExpr(e,t){const n=e.value.visitExpression(this,t);let r=t;for(;null!=r;){if(r.vars.has(e.name))return r.vars.set(e.name,n),n;r=r.parent}throw new Error(`Not declared variable ${e.name}`)}visitWrappedNodeExpr(e,t){throw new Error("Cannot interpret a WrappedNodeExpr.")}visitTypeofExpr(e,t){throw new Error("Cannot interpret a TypeofExpr")}visitReadVarExpr(e,t){let n=e.name;if(null!=e.builtin)switch(e.builtin){case t_.Super:return Object.getPrototypeOf(t.instance);case t_.This:return t.instance;case t_.CatchError:n=IR;break;case t_.CatchStack:n=AR;break;default:throw new Error(`Unknown builtin variable ${e.builtin}`)}let r=t;for(;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error(`Not declared variable ${n}`)}visitWriteKeyExpr(e,t){const n=e.receiver.visitExpression(this,t),r=e.index.visitExpression(this,t),i=e.value.visitExpression(this,t);return n[r]=i,i}visitWritePropExpr(e,t){const n=e.receiver.visitExpression(this,t),r=e.value.visitExpression(this,t);return n[e.name]=r,r}visitInvokeMethodExpr(e,t){const n=e.receiver.visitExpression(this,t),r=this.visitAllExpressions(e.args,t);let i;if(null!=e.builtin)switch(e.builtin){case n_.ConcatArray:i=n.concat(...r);break;case n_.SubscribeObservable:i=n.subscribe({next:r[0]});break;case n_.Bind:i=n.bind(...r);break;default:throw new Error(`Unknown builtin method ${e.builtin}`)}else i=n[e.name].apply(n,r);return i}visitInvokeFunctionExpr(e,t){const n=this.visitAllExpressions(e.args,t),r=e.fn;if(r instanceof o_&&r.builtin===t_.Super)return t.instance.constructor.prototype.constructor.apply(t.instance,n),null;return e.fn.visitExpression(this,t).apply(null,n)}visitReturnStmt(e,t){return new CR(e.value.visitExpression(this,t))}visitDeclareClassStmt(e,t){const n=function(e,t,n){const r={};e.getters.forEach(i=>{r[i.name]={configurable:!1,get:function(){const r=new SR(t,this,e.name,t.vars);return ER([],[],i.body,r,n)}}}),e.methods.forEach((function(i){const s=i.params.map(e=>e.name);r[i.name]={writable:!1,configurable:!1,value:function(...r){const o=new SR(t,this,e.name,t.vars);return ER(s,r,i.body,o,n)}}}));const i=e.constructorMethod.params.map(e=>e.name),s=function(...r){const s=new SR(t,this,e.name,t.vars);e.fields.forEach(e=>{this[e.name]=void 0}),ER(i,r,e.constructorMethod.body,s,n)},o=e.parent?e.parent.visitExpression(n,t):Object;return s.prototype=Object.create(o.prototype,r),s}(e,t,this);return t.vars.set(e.name,n),e.hasModifier(P_.Exported)&&t.exports.push(e.name),null}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t)}visitIfStmt(e,t){return e.condition.visitExpression(this,t)?this.visitAllStatements(e.trueCase,t):null!=e.falseCase?this.visitAllStatements(e.falseCase,t):null}visitTryCatchStmt(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(n){const r=t.createChildWihtLocalVars();return r.vars.set(IR,n),r.vars.set(AR,n.stack),this.visitAllStatements(e.catchStmts,r)}}visitThrowStmt(e,t){throw e.error.visitExpression(this,t)}visitCommentStmt(e,t){return null}visitJSDocCommentStmt(e,t){return null}visitInstantiateExpr(e,t){const n=this.visitAllExpressions(e.args,t);return new(e.classExpr.visitExpression(this,t))(...n)}visitLiteralExpr(e,t){return e.value}visitExternalExpr(e,t){return this.reflector.resolveExternalReference(e.value)}visitConditionalExpr(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):null!=e.falseCase?e.falseCase.visitExpression(this,t):null}visitNotExpr(e,t){return!e.condition.visitExpression(this,t)}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t)}visitCastExpr(e,t){return e.value.visitExpression(this,t)}visitFunctionExpr(e,t){return xR(e.params.map(e=>e.name),e.statements,t,this)}visitDeclareFunctionStmt(e,t){const n=e.params.map(e=>e.name);return t.vars.set(e.name,xR(n,e.statements,t,this)),e.hasModifier(P_.Exported)&&t.exports.push(e.name),null}visitBinaryOperatorExpr(e,t){const n=()=>e.lhs.visitExpression(this,t),r=()=>e.rhs.visitExpression(this,t);switch(e.operator){case e_.Equals:return n()==r();case e_.Identical:return n()===r();case e_.NotEquals:return n()!=r();case e_.NotIdentical:return n()!==r();case e_.And:return n()&&r();case e_.Or:return n()||r();case e_.Plus:return n()+r();case e_.Minus:return n()-r();case e_.Divide:return n()/r();case e_.Multiply:return n()*r();case e_.Modulo:return n()%r();case e_.Lower:return n()<r();case e_.LowerEquals:return n()<=r();case e_.Bigger:return n()>r();case e_.BiggerEquals:return n()>=r();default:throw new Error(`Unknown operator ${e.operator}`)}}visitReadPropExpr(e,t){let n;return n=e.receiver.visitExpression(this,t)[e.name]}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t)[e.index.visitExpression(this,t)]}visitLiteralArrayExpr(e,t){return this.visitAllExpressions(e.entries,t)}visitLiteralMapExpr(e,t){const n={};return e.entries.forEach(e=>n[e.key]=e.value.visitExpression(this,t)),n}visitCommaExpr(e,t){const n=this.visitAllExpressions(e.parts,t);return n[n.length-1]}visitAllExpressions(e,t){return e.map(e=>e.visitExpression(this,t))}visitAllStatements(e,t){for(let n=0;n<e.length;n++){const r=e[n].visitStatement(this,t);if(r instanceof CR)return r}return null}}function xR(e,t,n,r){return(...i)=>ER(e,i,t,n,r)}const IR="error",AR="stack";class DR{constructor(e,t,n,r,i,s,o,a,u,c,l){this._metadataResolver=e,this._templateParser=t,this._styleCompiler=n,this._viewCompiler=r,this._ngModuleCompiler=i,this._summaryResolver=s,this._reflector=o,this._jitEvaluator=a,this._compilerConfig=u,this._console=c,this.getExtraNgModuleProviders=l,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}compileModuleSync(e){return gE.assertSync(this._compileModuleAndComponents(e,!0))}compileModuleAsync(e){return Promise.resolve(this._compileModuleAndComponents(e,!1))}compileModuleAndAllComponentsSync(e){return gE.assertSync(this._compileModuleAndAllComponents(e,!0))}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this._compileModuleAndAllComponents(e,!1))}getComponentFactory(e){return this._metadataResolver.getDirectiveSummary(e).componentFactory}loadAotSummaries(e){this.clearCache(),this._addAotSummaries(e)}_addAotSummaries(e){if(this._addedAotSummaries.has(e))return;this._addedAotSummaries.add(e);const t=e();for(let n=0;n<t.length;n++){const e=t[n];if("function"==typeof e)this._addAotSummaries(e);else{const t=e;this._summaryResolver.addSummary({symbol:t.type.reference,metadata:null,type:t})}}}hasAotSummary(e){return!!this._summaryResolver.resolveSummary(e)}_filterJitIdentifiers(e){return e.map(e=>e.reference).filter(e=>!this.hasAotSummary(e))}_compileModuleAndComponents(e,t){return gE.then(this._loadModules(e,t),()=>(this._compileComponents(e,null),this._compileModule(e)))}_compileModuleAndAllComponents(e,t){return gE.then(this._loadModules(e,t),()=>{const t=[];return this._compileComponents(e,t),{ngModuleFactory:this._compileModule(e),componentFactories:t}})}_loadModules(e,t){const n=[],r=this._metadataResolver.getNgModuleMetadata(e);return this._filterJitIdentifiers(r.transitiveModule.modules).forEach(e=>{const r=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(r.declaredDirectives).forEach(e=>{const i=this._metadataResolver.loadDirectiveMetadata(r.type.reference,e,t);i&&n.push(i)}),this._filterJitIdentifiers(r.declaredPipes).forEach(e=>this._metadataResolver.getOrLoadPipeMetadata(e))}),gE.all(n)}_compileModule(e){let t=this._compiledNgModuleCache.get(e);if(!t){const n=this._metadataResolver.getNgModuleMetadata(e),r=this.getExtraNgModuleProviders(n.type.reference),i=PR(),s=this._ngModuleCompiler.compile(i,n,r);t=this._interpretOrJit(function(e){return cS(`${WE(e.type)}/module.ngfactory.js`)}(n),i.statements)[s.ngModuleFactoryVar],this._compiledNgModuleCache.set(n.type.reference,t)}return t}_compileComponents(e,t){const n=this._metadataResolver.getNgModuleMetadata(e),r=new Map,i=new Set,s=this._filterJitIdentifiers(n.transitiveModule.modules);s.forEach(e=>{const n=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(n.declaredDirectives).forEach(e=>{r.set(e,n);const s=this._metadataResolver.getDirectiveMetadata(e);if(s.isComponent&&(i.add(this._createCompiledTemplate(s,n)),t)){const e=this._createCompiledHostTemplate(s.type.reference,n);i.add(e),t.push(s.componentFactory)}})}),s.forEach(e=>{const t=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(t.declaredDirectives).forEach(e=>{const t=this._metadataResolver.getDirectiveMetadata(e);t.isComponent&&t.entryComponents.forEach(e=>{const t=r.get(e.componentType);i.add(this._createCompiledHostTemplate(e.componentType,t))})}),t.entryComponents.forEach(e=>{if(!this.hasAotSummary(e.componentType)){const t=r.get(e.componentType);i.add(this._createCompiledHostTemplate(e.componentType,t))}})}),i.forEach(e=>this._compileTemplate(e))}clearCacheFor(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e),this._compiledTemplateCache.get(e)&&this._compiledTemplateCache.delete(e)}clearCache(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()}_createCompiledHostTemplate(e,t){if(!t)throw new Error(`Component ${CE(e)} is not part of any NgModule or the module has not been imported into your module.`);let n=this._compiledHostTemplateCache.get(e);if(!n){const r=this._metadataResolver.getDirectiveMetadata(e);kR(r);const i=this._metadataResolver.getHostComponentMetadata(r,r.componentFactory.viewDefFactory);n=new NR(!0,r.type,i,t,[r.type]),this._compiledHostTemplateCache.set(e,n)}return n}_createCompiledTemplate(e,t){let n=this._compiledTemplateCache.get(e.type.reference);return n||(kR(e),n=new NR(!1,e.type,e,t,t.transitiveModule.directives),this._compiledTemplateCache.set(e.type.reference,n)),n}_compileTemplate(e){if(e.isCompiled)return;const t=e.compMeta,n=new Map,r=PR(),i=this._styleCompiler.compileComponent(r,t);t.template.externalStylesheets.forEach(e=>{const r=this._styleCompiler.compileStyles(PR(),t,e);n.set(e.moduleUrl,r)}),this._resolveStylesCompileResult(i,n);e.ngModule.transitiveModule.pipes.map(e=>this._metadataResolver.getPipeSummary(e.reference));const{template:s,pipes:o}=this._parseTemplate(t,e.ngModule,e.directives),a=this._viewCompiler.compileComponent(r,t,s,Z_(i.stylesVar),o),u=this._interpretOrJit(function(e,t){return cS(`${WE(e)}/${WE(t.type)}.ngfactory.js`)}(e.ngModule.type,e.compMeta),r.statements),c=u[a.viewClassVar],l=u[a.rendererTypeVar];e.compiled(c,l)}_parseTemplate(e,t,n){const r=e.template.preserveWhitespaces,i=n.map(e=>this._metadataResolver.getDirectiveSummary(e.reference)),s=t.transitiveModule.pipes.map(e=>this._metadataResolver.getPipeSummary(e.reference));return this._templateParser.parse(e,e.template.htmlAst,i,s,t.schemas,lS(t.type,e,e.template),r)}_resolveStylesCompileResult(e,t){e.dependencies.forEach((e,n)=>{const r=t.get(e.moduleUrl),i=this._resolveAndEvalStylesCompileResult(r,t);e.setValue(i)})}_resolveAndEvalStylesCompileResult(e,t){return this._resolveStylesCompileResult(e,t),this._interpretOrJit(function(e,t){const n=e.moduleUrl.split(/\/\\/g);return cS(`css/${t}${n[n.length-1]}.ngstyle.js`)}(e.meta,this._sharedStylesheetCount++),e.outputCtx.statements)[e.stylesVar]}_interpretOrJit(e,t){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(e,t,this._reflector,this._compilerConfig.jitDevMode):function(e,t){const n=new SR(null,null,null,new Map);new TR(t).visitAllStatements(e,n);const r={};return n.exports.forEach(e=>{r[e]=n.vars.get(e)}),r}(t,this._reflector)}}class NR{constructor(e,t,n,r,i){this.isHost=e,this.compType=t,this.compMeta=n,this.ngModule=r,this.directives=i,this._viewClass=null,this.isCompiled=!1}compiled(e,t){this._viewClass=e,this.compMeta.componentViewType.setDelegate(e);for(let n in t)this.compMeta.rendererType[n]=t[n];this.isCompiled=!0}}function kR(e){if(!e.isComponent)throw new Error(`Could not compile '${WE(e.type)}' because it is not a component.`)}function PR(){return{statements:[],genFilePath:"",importExpr:e=>eE({name:WE(e),moduleName:null,runtime:e}),constantPool:new ME}}class MR{}const OR=class{constructor(e=null){this._packagePrefix=e}resolve(e,t){let n=t;null!=e&&e.length>0&&(n=function(e,t){const n=FR(encodeURI(t)),r=FR(e);if(null!=n[LR.Scheme])return VR(n);n[LR.Scheme]=r[LR.Scheme];for(let o=LR.Scheme;o<=LR.Port;o++)null==n[o]&&(n[o]=r[o]);if("/"==n[LR.Path][0])return VR(n);let i=r[LR.Path];null==i&&(i="/");const s=i.lastIndexOf("/");return i=i.substring(0,s+1)+n[LR.Path],n[LR.Path]=i,VR(n)}(e,n));const r=FR(n);let i=this._packagePrefix;if(null!=i&&null!=r&&"package"==r[LR.Scheme]){let e=r[LR.Path];return`${i=i.replace(/\/+$/,"")}/${e=e.replace(/^\/+/,"")}`}return n}};const RR=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var LR;function FR(e){return e.match(RR)}function VR(e){let t=e[LR.Path];return t=null==t?"":function(e){if("/"==e)return"/";const t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",r=e.split("/"),i=[];let s=0;for(let o=0;o<r.length;o++){const e=r[o];switch(e){case"":case".":break;case"..":i.length>0?i.pop():s++;break;default:i.push(e)}}if(""==t){for(;s-- >0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+n}(t),e[LR.Path]=t,function(e,t,n,r,i,s,o){const a=[];return null!=e&&a.push(e+":"),null!=n&&(a.push("//"),null!=t&&a.push(t+"@"),a.push(n),null!=r&&a.push(":"+r)),null!=i&&a.push(i),null!=s&&a.push("?"+s),null!=o&&a.push("#"+o),a.join("")}(e[LR.Scheme],e[LR.UserInfo],e[LR.Domain],e[LR.Port],t,e[LR.QueryData],e[LR.Fragment])}!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(LR||(LR={}));!function(e){(e.ng||(e.ng={})).\u0275compilerFacade=new JP}(DE);class BR{}const UR=new Ue("Location Initialized");class jR{}const qR=new Ue("appBaseHref");class $R{constructor(e,t){this._subject=new Eg,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=$R.stripTrailingSlash(HR(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+$R.normalizeQueryParams(t))}normalize(e){return $R.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,HR(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$R.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$R.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-("/"===e[n-1]?1:0);return e.slice(0,r)+e.slice(n)}}function HR(e){return e.replace(/\/index.html$/,"")}$R.decorators=[{type:ju}],$R.ctorParameters=()=>[{type:jR},{type:BR}];class zR extends jR{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=$R.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+$R.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+$R.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}zR.decorators=[{type:ju}],zR.ctorParameters=()=>[{type:BR},{type:String,decorators:[{type:ge},{type:me,args:[qR]}]}];class WR extends jR{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $R.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+$R.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+$R.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+$R.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}WR.decorators=[{type:ju}],WR.ctorParameters=()=>[{type:BR},{type:String,decorators:[{type:ge},{type:me,args:[qR]}]}];const KR={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},GR={Decimal:0,Percent:1,Currency:2,Scientific:3};GR[GR.Decimal]="Decimal",GR[GR.Percent]="Percent",GR[GR.Currency]="Currency",GR[GR.Scientific]="Scientific";const QR={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};QR[QR.Zero]="Zero",QR[QR.One]="One",QR[QR.Two]="Two",QR[QR.Few]="Few",QR[QR.Many]="Many",QR[QR.Other]="Other";const YR={Format:0,Standalone:1};YR[YR.Format]="Format",YR[YR.Standalone]="Standalone";const XR={Narrow:0,Abbreviated:1,Wide:2,Short:3};XR[XR.Narrow]="Narrow",XR[XR.Abbreviated]="Abbreviated",XR[XR.Wide]="Wide",XR[XR.Short]="Short";const JR={Short:0,Medium:1,Long:2,Full:3};JR[JR.Short]="Short",JR[JR.Medium]="Medium",JR[JR.Long]="Long",JR[JR.Full]="Full";const ZR={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};ZR[ZR.Decimal]="Decimal",ZR[ZR.Group]="Group",ZR[ZR.List]="List",ZR[ZR.PercentSign]="PercentSign",ZR[ZR.PlusSign]="PlusSign",ZR[ZR.MinusSign]="MinusSign",ZR[ZR.Exponential]="Exponential",ZR[ZR.SuperscriptingExponent]="SuperscriptingExponent",ZR[ZR.PerMille]="PerMille",ZR[ZR.Infinity]="Infinity",ZR[ZR.NaN]="NaN",ZR[ZR.TimeSeparator]="TimeSeparator",ZR[ZR.CurrencyDecimal]="CurrencyDecimal",ZR[ZR.CurrencyGroup]="CurrencyGroup";const eL={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function tL(e,t){return uL(om(e)[nm.DateFormat],t)}function nL(e,t){return uL(om(e)[nm.TimeFormat],t)}function rL(e,t){return uL(om(e)[nm.DateTimeFormat],t)}function iL(e,t){const n=om(e),r=n[nm.NumberSymbols][t];if(void 0===r){if(t===ZR.CurrencyDecimal)return n[nm.NumberSymbols][ZR.Decimal];if(t===ZR.CurrencyGroup)return n[nm.NumberSymbols][ZR.Group]}return r}function sL(e,t){return om(e)[nm.NumberFormats][t]}eL[eL.Sunday]="Sunday",eL[eL.Monday]="Monday",eL[eL.Tuesday]="Tuesday",eL[eL.Wednesday]="Wednesday",eL[eL.Thursday]="Thursday",eL[eL.Friday]="Friday",eL[eL.Saturday]="Saturday";const oL=sm;function aL(e){if(!e[nm.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[nm.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function uL(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function cL(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function lL(e,t,n="en"){const r=function(e){return om(e)[nm.Currencies]}(n)[e]||KR[e]||[],i=r[1];return"narrow"===t&&"string"==typeof i?i:r[0]||e}const hL=2;const pL=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dL={},fL=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,mL={Short:0,ShortGMT:1,Long:2,Extended:3};mL[mL.Short]="Short",mL[mL.ShortGMT]="ShortGMT",mL[mL.Long]="Long",mL[mL.Extended]="Extended";const gL={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};gL[gL.FullYear]="FullYear",gL[gL.Month]="Month",gL[gL.Date]="Date",gL[gL.Hours]="Hours",gL[gL.Minutes]="Minutes",gL[gL.Seconds]="Seconds",gL[gL.FractionalSeconds]="FractionalSeconds",gL[gL.Day]="Day";const vL={DayPeriods:0,Days:1,Months:2,Eras:3};function yL(e,t,n,r){let i=function(e){if(NL(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(pL))return DL(n)}const t=new Date(e);if(!NL(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const r=function(e){return om(e)[nm.LocaleId]}(t);dL[r]=dL[r]||{};if(dL[r][n])return dL[r][n];let i="";switch(n){case"shortDate":i=tL(t,JR.Short);break;case"mediumDate":i=tL(t,JR.Medium);break;case"longDate":i=tL(t,JR.Long);break;case"fullDate":i=tL(t,JR.Full);break;case"shortTime":i=nL(t,JR.Short);break;case"mediumTime":i=nL(t,JR.Medium);break;case"longTime":i=nL(t,JR.Long);break;case"fullTime":i=nL(t,JR.Full);break;case"short":const n=e(t,"shortTime"),r=e(t,"shortDate");i=wL(rL(t,JR.Short),[n,r]);break;case"medium":const s=e(t,"mediumTime"),o=e(t,"mediumDate");i=wL(rL(t,JR.Medium),[s,o]);break;case"long":const a=e(t,"longTime"),u=e(t,"longDate");i=wL(rL(t,JR.Long),[a,u]);break;case"full":const c=e(t,"fullTime"),l=e(t,"fullDate");i=wL(rL(t,JR.Full),[c,l])}i&&(dL[r][n]=i);return i}(n,t)||t;let s,o=[];for(;t;){if(!(s=fL.exec(t))){o.push(t);break}{const e=(o=o.concat(s.slice(1))).pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=AL(r,a),i=function(e,t,n){const r=n?-1:1,i=e.getTimezoneOffset(),s=AL(t,i);return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(s-i))}(i,r,!0));let u="";return o.forEach(e=>{const t=function(e){if(IL[e])return IL[e];let t;switch(e){case"G":case"GG":case"GGG":t=EL(vL.Eras,XR.Abbreviated);break;case"GGGG":t=EL(vL.Eras,XR.Wide);break;case"GGGGG":t=EL(vL.Eras,XR.Narrow);break;case"y":t=_L(gL.FullYear,1,0,!1,!0);break;case"yy":t=_L(gL.FullYear,2,0,!0,!0);break;case"yyy":t=_L(gL.FullYear,3,0,!1,!0);break;case"yyyy":t=_L(gL.FullYear,4,0,!1,!0);break;case"M":case"L":t=_L(gL.Month,1,1);break;case"MM":case"LL":t=_L(gL.Month,2,1);break;case"MMM":t=EL(vL.Months,XR.Abbreviated);break;case"MMMM":t=EL(vL.Months,XR.Wide);break;case"MMMMM":t=EL(vL.Months,XR.Narrow);break;case"LLL":t=EL(vL.Months,XR.Abbreviated,YR.Standalone);break;case"LLLL":t=EL(vL.Months,XR.Wide,YR.Standalone);break;case"LLLLL":t=EL(vL.Months,XR.Narrow,YR.Standalone);break;case"w":t=xL(1);break;case"ww":t=xL(2);break;case"W":t=xL(1,!0);break;case"d":t=_L(gL.Date,1);break;case"dd":t=_L(gL.Date,2);break;case"E":case"EE":case"EEE":t=EL(vL.Days,XR.Abbreviated);break;case"EEEE":t=EL(vL.Days,XR.Wide);break;case"EEEEE":t=EL(vL.Days,XR.Narrow);break;case"EEEEEE":t=EL(vL.Days,XR.Short);break;case"a":case"aa":case"aaa":t=EL(vL.DayPeriods,XR.Abbreviated);break;case"aaaa":t=EL(vL.DayPeriods,XR.Wide);break;case"aaaaa":t=EL(vL.DayPeriods,XR.Narrow);break;case"b":case"bb":case"bbb":t=EL(vL.DayPeriods,XR.Abbreviated,YR.Standalone,!0);break;case"bbbb":t=EL(vL.DayPeriods,XR.Wide,YR.Standalone,!0);break;case"bbbbb":t=EL(vL.DayPeriods,XR.Narrow,YR.Standalone,!0);break;case"B":case"BB":case"BBB":t=EL(vL.DayPeriods,XR.Abbreviated,YR.Format,!0);break;case"BBBB":t=EL(vL.DayPeriods,XR.Wide,YR.Format,!0);break;case"BBBBB":t=EL(vL.DayPeriods,XR.Narrow,YR.Format,!0);break;case"h":t=_L(gL.Hours,1,-12);break;case"hh":t=_L(gL.Hours,2,-12);break;case"H":t=_L(gL.Hours,1);break;case"HH":t=_L(gL.Hours,2);break;case"m":t=_L(gL.Minutes,1);break;case"mm":t=_L(gL.Minutes,2);break;case"s":t=_L(gL.Seconds,1);break;case"ss":t=_L(gL.Seconds,2);break;case"S":t=_L(gL.FractionalSeconds,1);break;case"SS":t=_L(gL.FractionalSeconds,2);break;case"SSS":t=_L(gL.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=SL(mL.Short);break;case"ZZZZZ":t=SL(mL.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=SL(mL.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=SL(mL.Long);break;default:return null}return IL[e]=t,t}(e);u+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function wL(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function bL(e,t,n="-",r,i){let s="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,s=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),s+o}function _L(e,t,n=0,r=!1,i=!1){return function(s,o){let a=function(e,t){switch(e){case gL.FullYear:return t.getFullYear();case gL.Month:return t.getMonth();case gL.Date:return t.getDate();case gL.Hours:return t.getHours();case gL.Minutes:return t.getMinutes();case gL.Seconds:return t.getSeconds();case gL.FractionalSeconds:return t.getMilliseconds();case gL.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((n>0||a>-n)&&(a+=n),e===gL.Hours)0===a&&-12===n&&(a=12);else if(e===gL.FractionalSeconds)return u=t,bL(a,3).substr(0,u);var u;const c=iL(o,ZR.MinusSign);return bL(a,t,c,r,i)}}function EL(e,t,n=YR.Format,r=!1){return function(i,s){return function(e,t,n,r,i,s){switch(n){case vL.Months:return function(e,t,n){const r=om(e),i=uL([r[nm.MonthsFormat],r[nm.MonthsStandalone]],t);return uL(i,n)}(t,i,r)[e.getMonth()];case vL.Days:return function(e,t,n){const r=om(e),i=uL([r[nm.DaysFormat],r[nm.DaysStandalone]],t);return uL(i,n)}(t,i,r)[e.getDay()];case vL.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(s){const e=function(e){const t=om(e);return aL(t),(t[nm.ExtraData][2]||[]).map(e=>"string"==typeof e?cL(e):[cL(e[0]),cL(e[1])])}(t),n=function(e,t,n){const r=om(e);aL(r);const i=uL([r[nm.ExtraData][0],r[nm.ExtraData][1]],t)||[];return uL(i,n)||[]}(t,i,r);let s;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:r,minutes:i}=e[0],{hours:u,minutes:c}=e[1];o>=r&&a>=i&&(o<u||o===u&&a<c)&&(s=n[t])}else{const{hours:r,minutes:i}=e;r===o&&i===a&&(s=n[t])}}),s)return s}return function(e,t,n){const r=om(e),i=uL([r[nm.DayPeriodsFormat],r[nm.DayPeriodsStandalone]],t);return uL(i,n)}(t,i,r)[o<12?0:1];case vL.Eras:return function(e,t){return uL(om(e)[nm.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,e,t,n,r)}}function SL(e){return function(t,n,r){const i=-1*r,s=iL(n,ZR.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case mL.Short:return(i>=0?"+":"")+bL(o,2,s)+bL(Math.abs(i%60),2,s);case mL.ShortGMT:return"GMT"+(i>=0?"+":"")+bL(o,1,s);case mL.Long:return"GMT"+(i>=0?"+":"")+bL(o,2,s)+":"+bL(Math.abs(i%60),2,s);case mL.Extended:return 0===r?"Z":(i>=0?"+":"")+bL(o,2,s)+":"+bL(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}vL[vL.DayPeriods]="DayPeriods",vL[vL.Days]="Days",vL[vL.Months]="Months",vL[vL.Eras]="Eras";const CL=0,TL=4;function xL(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,CL,1).getDay();return new Date(e,0,1+(t<=TL?TL:TL+7)-t)}(n.getFullYear()),t=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(TL-s.getDay()))).getTime()-e.getTime();i=1+Math.round(t/6048e5)}var s;return bL(i,e,iL(r,ZR.MinusSign))}}const IL={};function AL(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function DL(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,u,c),t}function NL(e){return e instanceof Date&&!isNaN(e.valueOf())}const kL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,PL=22,ML=".",OL="0",RL=";",LL=",",FL="#",VL="\xa4",BL="%";function UL(e,t,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(e)){let c=function(e){let t,n,r,i,s,o=Math.abs(e)+"",a=0;(n=o.indexOf(ML))>-1&&(o=o.replace(ML,""));(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length);for(r=0;o.charAt(r)===OL;r++);if(r===(s=o.length))t=[0],n=1;else{for(s--;o.charAt(s)===OL;)s--;for(n-=r,t=[],i=0;r<=s;r++,i++)t[i]=Number(o.charAt(r))}n>PL&&(t=t.splice(0,PL-1),a=n-1,n=1);return{digits:t,exponent:a,integerLen:n}}(e);o&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2);return e}(c));let l=t.minInt,h=t.minFrac,p=t.maxFrac;if(s){const e=s.match(kL);if(null===e)throw new Error(`${s} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(l=$L(t)),null!=n&&(h=$L(n)),null!=r?p=$L(r):null!=n&&h>p&&(p=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const s=Math.min(Math.max(t,i),n);let o=s+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=t+e.integerLen,l=r.reduceRight((function(e,t,n,r){return t+=e,r[n]=t<10?t:t-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),t>=10?1:0}),0);l&&(r.unshift(l),e.integerLen++)}(c,h,p);let d=c.digits,f=c.integerLen;const m=c.exponent;let g=[];for(u=d.every(e=>!e);f<l;f++)d.unshift(0);for(;f<0;f++)d.unshift(0);f>0?g=d.splice(f,d.length):(g=d,d=[0]);const v=[];for(d.length>=t.lgSize&&v.unshift(d.splice(-t.lgSize,d.length).join(""));d.length>t.gSize;)v.unshift(d.splice(-t.gSize,d.length).join(""));d.length&&v.unshift(d.join("")),a=v.join(iL(n,r)),g.length&&(a+=iL(n,i)+g.join("")),m&&(a+=iL(n,ZR.Exponential)+"+"+m)}else a=iL(n,ZR.Infinity);return a=e<0&&!u?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf}function jL(e,t,n,r,i){const s=qL(sL(t,GR.Currency),iL(t,ZR.MinusSign));return s.minFrac=function(e){let t;const n=KR[e];return n&&(t=n[2]),"number"==typeof t?t:hL}(r),s.maxFrac=s.minFrac,UL(e,s,t,ZR.CurrencyGroup,ZR.CurrencyDecimal,i).replace(VL,n).replace(VL,"")}function qL(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(RL),i=r[0],s=r[1],o=-1!==i.indexOf(ML)?i.split(ML):[i.substring(0,i.lastIndexOf(OL)+1),i.substring(i.lastIndexOf(OL)+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf(FL));for(let l=0;l<u.length;l++){const e=u.charAt(l);e===OL?n.minFrac=n.maxFrac=l+1:e===FL?n.maxFrac=l+1:n.posSuf+=e}const c=a.split(LL);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const e=i.length-n.posPre.length-n.posSuf.length,t=s.indexOf(FL);n.negPre=s.substr(0,t).replace(/'/g,""),n.negSuf=s.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function $L(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const HL=new Ue("UseV4Plurals");class zL{}function WL(e,t,n,r){let i=`=${e}`;if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}class KL extends zL{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):oL(t||this.locale)(e)){case QR.Zero:return"zero";case QR.One:return"one";case QR.Two:return"two";case QR.Few:return"few";case QR.Many:return"many";default:return"other"}}}KL.decorators=[{type:ju}],KL.ctorParameters=()=>[{type:String,decorators:[{type:me,args:[gv]}]},{type:void 0,decorators:[{type:ge},{type:me,args:[HL]}]}];function GL(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class QL{constructor(e,t){this._name=e,this._options=t,this.value=null,this._lastSetValue=null,this._lastSetValueType=0,this._lastSetValueIdentityChange=!1}setValue(e){if(Array.isArray(e))this._lastSetValueType=4;else if(e instanceof Set)this._lastSetValueType=8;else if(e&&"string"==typeof e){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");this._lastSetValueType=1}else this._lastSetValueType=e?2:0;this._lastSetValueIdentityChange=!0,this._lastSetValue=e||null}hasValueChanged(){let e=this._lastSetValueIdentityChange;if(!(e||14&this._lastSetValueType))return!1;let t=null;const n=!!(1&this._options),r=!!(8&this._options),i=!!(2&this._options);switch(this._lastSetValueType){case 1:const s=this._lastSetValue.split(/\s+/g);16&this._options?(t={},s.forEach((e,n)=>t[e]=!0)):t=s.reduce((e,t,n)=>e+(n?" ":"")+t);break;case 2:const o=this._lastSetValue,a=Object.keys(o);e||(e=!this.value||function(e,t,n){const r=Object.keys(t),i=e;if(!eF(r,i))return!0;for(let s=0;s<i.length;s++){const e=i[s];if(t[e]!==n[e])return!0}return!1}(a,this.value,o)),e&&(t=YL(this._name,n,r,i,o,a));break;case 4:case 8:const u=Array.from(this._lastSetValue);if(!e){e=!eF(Object.keys(this.value),u)}e&&(t=YL(this._name,n,r,i,u));break;default:t=null}return e&&(this.value=t),e}}function YL(e,t,n,r,i,s){const o={};if(s)for(let a=0;a<s.length;a++){let e=s[a];JL(o,e=t?e.trim():e,i[e],n,r)}else for(let a=0;a<i.length;a++){let n=i[a];XL(e,n),JL(o,n=t?n.trim():n,!0,!1,r)}return o}function XL(e,t){if("string"!=typeof t)throw new Error(`${e} can only toggle CSS classes expressed as strings, got ${t}`)}function JL(e,t,n,r,i){if(i&&t.indexOf(" ")>0){const i=t.split(/\s+/g);for(let t=0;t<i.length;t++)ZL(e,i[t],n,r)}else ZL(e,t,n,r)}function ZL(e,t,n,r){if(r){const e=function(e,t){const n=e.indexOf(".");if(n>0){const r=e.substr(n+1);e=e.substring(0,n),null!=t&&(t+=r)}return{key:e,value:t}}(t,n);n=e.value,t=e.key}e[t]=n}function eF(e,t){if(e&&t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(-1===t.indexOf(e[n]))return!1;return!0}return!1}class tF{}class nF{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Oc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ne(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}nF.decorators=[{type:ju}],nF.ctorParameters=()=>[{type:Hp},{type:zp},{type:Tp},{type:Np}];class rF{constructor(){this._value=null,this._ngClassDiffer=new QL("NgClass",23),this._classStringDiffer=null}getValue(){return this._value}setClass(e){(e||this._classStringDiffer)&&(this._classStringDiffer=this._classStringDiffer||new QL("class",20),this._classStringDiffer.setValue(e))}setNgClass(e){this._ngClassDiffer.setValue(e)}applyChanges(){const e=!!this._classStringDiffer&&this._classStringDiffer.hasValueChanged(),t=this._ngClassDiffer.hasValueChanged();if(e||t){let e=this._ngClassDiffer.value;if(this._classStringDiffer){let t=this._classStringDiffer.value;t&&(e=e?Object.assign({},t,e):t)}this._value=e}}}rF.decorators=[{type:ju}];const iF={provide:tF,useClass:nF};Rt({type:function(){},selectors:null,factory:()=>{},hostBindings:function(e,t,n){1&e&&(Ac(1),yl()),2&e&&(Tl(t.getValue()),Dl())}});class sF{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}sF.ngDirectiveDef=void 0;class oF extends sF{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}oF.decorators=[{type:Gg,args:[{selector:"[ngClass]",providers:[iF]}]}],oF.ctorParameters=()=>[{type:tF}],oF.propDecorators={klass:[{type:Xg,args:["class"]}],ngClass:[{type:Xg,args:["ngClass"]}]};class aF{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(ot);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(_p)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}aF.decorators=[{type:Gg,args:[{selector:"[ngComponentOutlet]"}]}],aF.ctorParameters=()=>[{type:Jp}],aF.propDecorators={ngComponentOutlet:[{type:Xg}],ngComponentOutletInjector:[{type:Xg}],ngComponentOutletContent:[{type:Xg}],ngComponentOutletNgModuleFactory:[{type:Xg}]};class uF{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class cF{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){ys()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new uF(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new lF(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new lF(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}cF.decorators=[{type:Gg,args:[{selector:"[ngFor][ngForOf]"}]}],cF.ctorParameters=()=>[{type:Jp},{type:Yp},{type:Hp}],cF.propDecorators={ngForOf:[{type:Xg}],ngForTrackBy:[{type:Xg}],ngForTemplate:[{type:Xg}]};class lF{constructor(e,t){this.record=e,this.view=t}}class hF{constructor(e,t){this._viewContainer=e,this._context=new pF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){dF("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){dF("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}hF.decorators=[{type:Gg,args:[{selector:"[ngIf]"}]}],hF.ctorParameters=()=>[{type:Jp},{type:Yp}],hF.propDecorators={ngIf:[{type:Xg}],ngIfThen:[{type:Xg}],ngIfElse:[{type:Xg}]};class pF{constructor(){this.$implicit=null,this.ngIf=null}}function dF(e,t){if(!!(t&&!t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Ne(t)}'.`)}class fF{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class mF{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++){this._defaultViews[t].enforceState(e)}}}}mF.decorators=[{type:Gg,args:[{selector:"[ngSwitch]"}]}],mF.propDecorators={ngSwitch:[{type:Xg}]};class gF{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new fF(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}gF.decorators=[{type:Gg,args:[{selector:"[ngSwitchCase]"}]}],gF.ctorParameters=()=>[{type:Jp},{type:Yp},{type:mF,decorators:[{type:we}]}],gF.propDecorators={ngSwitchCase:[{type:Xg}]};class vF{constructor(e,t,n){n._addDefault(new fF(e,t))}}vF.decorators=[{type:Gg,args:[{selector:"[ngSwitchDefault]"}]}],vF.ctorParameters=()=>[{type:Jp},{type:Yp},{type:mF,decorators:[{type:we}]}];class yF{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=WL(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}yF.decorators=[{type:Gg,args:[{selector:"[ngPlural]"}]}],yF.ctorParameters=()=>[{type:zL}],yF.propDecorators={ngPlural:[{type:Xg}]};class wF{constructor(e,t,n,r){this.value=e;const i=!isNaN(Number(e));r.addCase(i?`=${e}`:e,new fF(n,t))}}wF.decorators=[{type:Gg,args:[{selector:"[ngPluralCase]"}]}],wF.ctorParameters=()=>[{type:String,decorators:[{type:be,args:["ngPluralCase"]}]},{type:Yp},{type:Jp},{type:yF,decorators:[{type:we}]}];class bF{}class _F{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n}getValue(){return null}setNgStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}applyChanges(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}_F.decorators=[{type:ju}],_F.ctorParameters=()=>[{type:Tp},{type:zp},{type:Np}];class EF{constructor(){this._differ=new QL("NgStyle",8),this._value=null}getValue(){return this._value}setNgStyle(e){this._differ.setValue(e)}applyChanges(){this._differ.hasValueChanged()&&(this._value=this._differ.value)}}EF.decorators=[{type:ju}];const SF={provide:bF,useClass:_F};Rt({type:function(){},selectors:null,factory:()=>{},hostBindings:function(e,t,n){1&e&&yl(),2&e&&(Cl(t.getValue()),Dl())}});class CF{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}CF.ngDirectiveDef=void 0;class TF extends CF{constructor(e){super(e)}set ngStyle(e){this._delegate.setNgStyle(e)}ngDoCheck(){this._delegate.applyChanges()}}TF.decorators=[{type:Gg,args:[{selector:"[ngStyle]",providers:[SF]}]}],TF.ctorParameters=()=>[{type:bF}],TF.propDecorators={ngStyle:[{type:Xg,args:["ngStyle"]}]};class xF{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}xF.decorators=[{type:Gg,args:[{selector:"[ngTemplateOutlet]"}]}],xF.ctorParameters=()=>[{type:Jp}],xF.propDecorators={ngTemplateOutletContext:[{type:Xg}],ngTemplateOutlet:[{type:Xg}]};const IF=[oF,aF,cF,hF,xF,TF,mF,gF,vF,yF,wF];function AF(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Ne(e)}'`)}class DF{static format(e,t,n,r={}){const{minimumIntegerDigits:i,minimumFractionDigits:s,maximumFractionDigits:o,currency:a,currencyAsSymbol:u=!1}=r,c={minimumIntegerDigits:i,minimumFractionDigits:s,maximumFractionDigits:o,style:GR[n].toLowerCase()};return n==GR.Currency&&(c.currency="string"==typeof a?a:void 0,c.currencyDisplay=u?"symbol":"code"),new Intl.NumberFormat(t,c).format(e)}}const NF=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,kF={yMMMdjms:qF(jF([BF("year",1),UF("month",3),BF("day",1),BF("hour",1),BF("minute",1),BF("second",1)])),yMdjm:qF(jF([BF("year",1),BF("month",1),BF("day",1),BF("hour",1),BF("minute",1)])),yMMMMEEEEd:qF(jF([BF("year",1),UF("month",4),UF("weekday",4),BF("day",1)])),yMMMMd:qF(jF([BF("year",1),UF("month",4),BF("day",1)])),yMMMd:qF(jF([BF("year",1),UF("month",3),BF("day",1)])),yMd:qF(jF([BF("year",1),BF("month",1),BF("day",1)])),jms:qF(jF([BF("hour",1),BF("second",1),BF("minute",1)])),jm:qF(jF([BF("hour",1),BF("minute",1)]))},PF={yyyy:qF(BF("year",4)),yy:qF(BF("year",2)),y:qF(BF("year",1)),MMMM:qF(UF("month",4)),MMM:qF(UF("month",3)),MM:qF(BF("month",2)),M:qF(BF("month",1)),LLLL:qF(UF("month",4)),L:qF(UF("month",1)),dd:qF(BF("day",2)),d:qF(BF("day",1)),HH:OF(RF(qF(VF(BF("hour",2),!1)))),H:RF(qF(VF(BF("hour",1),!1))),hh:OF(RF(qF(VF(BF("hour",2),!0)))),h:RF(qF(VF(BF("hour",1),!0))),jj:qF(BF("hour",2)),j:qF(BF("hour",1)),mm:OF(qF(BF("minute",2))),m:qF(BF("minute",1)),ss:OF(qF(BF("second",2))),s:qF(BF("second",1)),sss:qF(BF("second",3)),EEEE:qF(UF("weekday",4)),EEE:qF(UF("weekday",3)),EE:qF(UF("weekday",2)),E:qF(UF("weekday",1)),a:(MF=qF(VF(BF("hour",1),!0)),function(e,t){return MF(e,t).split(" ")[1]}),Z:FF("short"),z:FF("long"),ww:qF({}),w:qF({}),G:qF(UF("era",1)),GG:qF(UF("era",2)),GGG:qF(UF("era",3)),GGGG:qF(UF("era",4))};var MF;function OF(e){return function(t,n){const r=e(t,n);return 1==r.length?"0"+r:r}}function RF(e){return function(t,n){return e(t,n).split(" ")[0]}}function LF(e,t,n){return new Intl.DateTimeFormat(t,n).format(e).replace(/[\u200e\u200f]/g,"")}function FF(e){const t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,n){const r=LF(e,n,t);return r?r.substring(3):""}}function VF(e,t){return e.hour12=t,e}function BF(e,t){const n={};return n[e]=2===t?"2-digit":"numeric",n}function UF(e,t){const n={};return n[e]=t<4?t>1?"short":"narrow":"long",n}function jF(e){return e.reduce((e,t)=>Object.assign({},e,t),{})}function qF(e){return(t,n)=>LF(t,n,e)}const $F=new Map;class HF{static format(e,t,n){return function(e,t,n){const r=kF[e];if(r)return r(t,n);const i=e;let s=$F.get(i);if(!s){let t;s=[],NF.exec(e);let n=e;for(;n;)(t=NF.exec(n))?n=(s=s.concat(t.slice(1))).pop():(s.push(n),n=null);$F.set(i,s)}return s.reduce((e,r)=>{const i=PF[r];return e+(i?i(t,n):function(e){return"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,e,t)}}class zF{constructor(e){this._locale=e}transform(e,t="mediumDate"){if(null==e||""===e||e!=e)return null;let n;if("string"==typeof e&&(e=e.trim()),WF(e))n=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,r,i]=e.split("-").map(e=>parseInt(e,10));n=new Date(t,r-1,i)}else n=new Date(e);else n=new Date(parseFloat(e));if(!WF(n)){let t;if("string"!=typeof e||!(t=e.match(pL)))throw AF(zF,e);n=DL(t)}return HF.format(n,this._locale,zF._ALIASES[t]||t)}}function WF(e){return e instanceof Date&&!isNaN(e.valueOf())}function KF(e,t,n,r,i,s=null,o=!1){if(null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw AF(e,n);let a,u,c;if(r!==GR.Currency&&(a=1,u=0,c=3),i){const e=i.match(kL);if(null===e)throw new Error(`${i} is not a valid digit info for number pipes`);null!=e[1]&&(a=$L(e[1])),null!=e[3]&&(u=$L(e[3])),null!=e[5]&&(c=$L(e[5]))}return DF.format(n,t,r,{minimumIntegerDigits:a,minimumFractionDigits:u,maximumFractionDigits:c,currency:s,currencyAsSymbol:o})}zF._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},zF.decorators=[{type:Yg,args:[{name:"date",pure:!0}]}],zF.ctorParameters=()=>[{type:String,decorators:[{type:me,args:[gv]}]}];class GF{constructor(e){this._locale=e}transform(e,t){return KF(GF,this._locale,e,GR.Decimal,t)}}GF.decorators=[{type:Yg,args:[{name:"number"}]}],GF.ctorParameters=()=>[{type:String,decorators:[{type:me,args:[gv]}]}];class QF{constructor(e){this._locale=e}transform(e,t){return KF(QF,this._locale,e,GR.Percent,t)}}QF.decorators=[{type:Yg,args:[{name:"percent"}]}],QF.ctorParameters=()=>[{type:String,decorators:[{type:me,args:[gv]}]}];class YF{constructor(e){this._locale=e}transform(e,t="USD",n=!1,r){return KF(YF,this._locale,e,GR.Currency,r,t,n)}}YF.decorators=[{type:Yg,args:[{name:"currency"}]}],YF.ctorParameters=()=>[{type:String,decorators:[{type:me,args:[gv]}]}];const XF=[GF,QF,YF,zF];const JF=new class{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}},ZF=new class{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}};class eV{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):kc(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Mc.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Gl(e))return JF;if(Ql(e))return ZF;throw AF(eV,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}eV.decorators=[{type:ju},{type:Yg,args:[{name:"async",pure:!1}]}],eV.ctorParameters=()=>[{type:xu}];class tV{transform(e){if(!e)return e;if("string"!=typeof e)throw AF(tV,e);return e.toLowerCase()}}tV.decorators=[{type:ju},{type:Yg,args:[{name:"lowercase"}]}];const nV=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;class rV{transform(e){if(!e)return e;if("string"!=typeof e)throw AF(rV,e);return e.replace(nV,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}rV.decorators=[{type:ju},{type:Yg,args:[{name:"titlecase"}]}];class iV{transform(e){if(!e)return e;if("string"!=typeof e)throw AF(iV,e);return e.toUpperCase()}}iV.decorators=[{type:ju},{type:Yg,args:[{name:"uppercase"}]}];class sV{constructor(e){this.locale=e}transform(e,t="mediumDate",n,r){if(null==e||""===e||e!=e)return null;try{return yL(e,t,r||this.locale,n)}catch(i){throw AF(sV,i.message)}}}sV.decorators=[{type:ju},{type:Yg,args:[{name:"date",pure:!0}]}],sV.ctorParameters=()=>[{type:String,decorators:[{type:me,args:[gv]}]}];const oV=/#/g;class aV{constructor(e){this._localization=e}transform(e,t,n){if(null==e)return"";if("object"!=typeof t||null===t)throw AF(aV,t);return t[WL(e,Object.keys(t),this._localization,n)].replace(oV,e.toString())}}aV.decorators=[{type:ju},{type:Yg,args:[{name:"i18nPlural",pure:!0}]}],aV.ctorParameters=()=>[{type:zL}];class uV{transform(e,t){if(null==e)return"";if("object"!=typeof t||"string"!=typeof e)throw AF(uV,t);return t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("other")?t.other:""}}uV.decorators=[{type:ju},{type:Yg,args:[{name:"i18nSelect",pure:!0}]}];class cV{transform(e){return JSON.stringify(e,null,2)}}cV.decorators=[{type:ju},{type:Yg,args:[{name:"json",pure:!1}]}];class lV{constructor(e){this.differs=e,this.keyValues=[]}transform(e,t=hV){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{this.keyValues.push(function(e,t){return{key:e,value:t}}(e.key,e.currentValue))}),this.keyValues.sort(t)),this.keyValues}}function hV(e,t){const n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),s=String(r);return i==s?0:i<s?-1:1}lV.decorators=[{type:ju},{type:Yg,args:[{name:"keyvalue",pure:!1}]}],lV.ctorParameters=()=>[{type:zp}];class pV{constructor(e){this._locale=e}transform(e,t,n){if(mV(e))return null;n=n||this._locale;try{return function(e,t,n){return UL(e,qL(sL(t,GR.Decimal),iL(t,ZR.MinusSign)),t,ZR.Group,ZR.Decimal,n)}(gV(e),n,t)}catch(r){throw AF(pV,r.message)}}}pV.decorators=[{type:ju},{type:Yg,args:[{name:"number"}]}],pV.ctorParameters=()=>[{type:String,decorators:[{type:me,args:[gv]}]}];class dV{constructor(e){this._locale=e}transform(e,t,n){if(mV(e))return null;n=n||this._locale;try{return function(e,t,n){return UL(e,qL(sL(t,GR.Percent),iL(t,ZR.MinusSign)),t,ZR.Group,ZR.Decimal,n,!0).replace(new RegExp(BL,"g"),iL(t,ZR.PercentSign))}(gV(e),n,t)}catch(r){throw AF(dV,r.message)}}}dV.decorators=[{type:ju},{type:Yg,args:[{name:"percent"}]}],dV.ctorParameters=()=>[{type:String,decorators:[{type:me,args:[gv]}]}];class fV{constructor(e){this._locale=e}transform(e,t,n="symbol",r,i){if(mV(e))return null;i=i||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let s=t||"USD";"code"!==n&&(s="symbol"===n||"symbol-narrow"===n?lL(s,"symbol"===n?"wide":"narrow",i):n);try{return jL(gV(e),i,s,t,r)}catch(o){throw AF(fV,o.message)}}}function mV(e){return null==e||""===e||e!=e}function gV(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}fV.decorators=[{type:ju},{type:Yg,args:[{name:"currency"}]}],fV.ctorParameters=()=>[{type:String,decorators:[{type:me,args:[gv]}]}];class vV{transform(e,t,n){if(null==e)return e;if(!this.supports(e))throw AF(vV,e);return e.slice(t,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}vV.decorators=[{type:ju},{type:Yg,args:[{name:"slice",pure:!1}]}];const yV=[eV,iV,tV,cV,vV,pV,dV,rV,fV,sV,aV,uV,lV];class wV{}wV.decorators=[{type:iv,args:[{declarations:[IF,yV],exports:[IF,yV],providers:[{provide:zL,useClass:KL}]}]}];const bV=function(e,t){"string"==typeof t&&(t=parseInt(t,10));const n=t,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),s=r.length,o=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?QR.One:QR.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?QR.One:QR.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?QR.One:QR.Other;case"ar":return 0===n?QR.Zero:1===n?QR.One:2===n?QR.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?QR.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?QR.Many:QR.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===s?QR.One:QR.Other;case"be":return n%10==1&&n%100!=11?QR.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?QR.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?QR.Many:QR.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?QR.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?QR.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?QR.Few:0!==n&&n%1e6==0?QR.Many:QR.Other;case"bs":case"hr":case"sr":return 0===s&&i%10==1&&i%100!=11||o%10==1&&o%100!=11?QR.One:0===s&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?QR.Few:QR.Other;case"cs":case"sk":return 1===i&&0===s?QR.One:i===Math.floor(i)&&i>=2&&i<=4&&0===s?QR.Few:0!==s?QR.Many:QR.Other;case"cy":return 0===n?QR.Zero:1===n?QR.One:2===n?QR.Two:3===n?QR.Few:6===n?QR.Many:QR.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?QR.One:QR.Other;case"dsb":case"hsb":return 0===s&&i%100==1||o%100==1?QR.One:0===s&&i%100==2||o%100==2?QR.Two:0===s&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4?QR.Few:QR.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?QR.One:QR.Other;case"fil":return 0===s&&(1===i||2===i||3===i)||0===s&&i%10!=4&&i%10!=6&&i%10!=9||0!==s&&o%10!=4&&o%10!=6&&o%10!=9?QR.One:QR.Other;case"ga":return 1===n?QR.One:2===n?QR.Two:n===Math.floor(n)&&n>=3&&n<=6?QR.Few:n===Math.floor(n)&&n>=7&&n<=10?QR.Many:QR.Other;case"gd":return 1===n||11===n?QR.One:2===n||12===n?QR.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?QR.Few:QR.Other;case"gv":return 0===s&&i%10==1?QR.One:0===s&&i%10==2?QR.Two:0!==s||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==s?QR.Many:QR.Other:QR.Few;case"he":return 1===i&&0===s?QR.One:2===i&&0===s?QR.Two:0!==s||n>=0&&n<=10||n%10!=0?QR.Other:QR.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?QR.One:QR.Other;case"ksh":return 0===n?QR.Zero:1===n?QR.One:QR.Other;case"kw":case"naq":case"se":case"smn":return 1===n?QR.One:2===n?QR.Two:QR.Other;case"lag":return 0===n?QR.Zero:0!==i&&1!==i||0===n?QR.Other:QR.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?QR.Few:0!==o?QR.Many:QR.Other:QR.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===s&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=19?QR.Zero:n%10==1&&n%100!=11||2===s&&o%10==1&&o%100!=11||2!==s&&o%10==1?QR.One:QR.Other;case"mk":return 0===s&&i%10==1||o%10==1?QR.One:QR.Other;case"mt":return 1===n?QR.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?QR.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?QR.Many:QR.Other;case"pl":return 1===i&&0===s?QR.One:0===s&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?QR.Few:0===s&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===s&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===s&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?QR.Many:QR.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?QR.One:QR.Other;case"ro":return 1===i&&0===s?QR.One:0!==s||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?QR.Few:QR.Other;case"ru":case"uk":return 0===s&&i%10==1&&i%100!=11?QR.One:0===s&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?QR.Few:0===s&&i%10==0||0===s&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===s&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?QR.Many:QR.Other;case"shi":return 0===i||1===n?QR.One:n===Math.floor(n)&&n>=2&&n<=10?QR.Few:QR.Other;case"si":return 0===n||1===n||0===i&&1===o?QR.One:QR.Other;case"sl":return 0===s&&i%100==1?QR.One:0===s&&i%100==2?QR.Two:0===s&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==s?QR.Few:QR.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?QR.One:QR.Other;default:return QR.Other}};(class{}).decorators=[{type:iv,args:[{declarations:[XF],exports:[XF],providers:[{provide:HL,useValue:bV}]}]}];const _V=new Ue("DocumentToken"),EV="browser",SV="server";function CV(e){return e===SV}new Pp("8.2.14");class TV{}TV.ngInjectableDef=Ce({token:TV,providedIn:"root",factory:()=>new xV(et(_V),window,et(ds))});class xV{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}let IV=null;function AV(){return IV}class DV{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class NV extends DV{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const kV={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},PV=3,MV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OV={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},RV=(()=>{if(Ve.Node)return Ve.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class LV extends NV{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new LV,IV||(IV=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return kV}contains(e,t){return RV.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===PV&&OV.hasOwnProperty(t)&&(t=OV[t]))}return MV[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=function(){if(!VV&&!(VV=document.querySelector("base")))return null;return VV.getAttribute("href")}();return null==t?null:function(e){FV||(FV=document.createElement("a"));return FV.setAttribute("href",e),"/"===FV.pathname.charAt(0)?FV.pathname:"/"+FV.pathname}(t)}resetBaseElement(){VV=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return GL(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let FV,VV=null;function BV(){return!!window.history.pushState}class UV extends BR{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=AV().getLocation(),this._history=AV().getHistory()}getBaseHrefFromDOM(){return AV().getBaseHref(this._doc)}onPopState(e){AV().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){AV().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){BV()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){BV()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}UV.decorators=[{type:ju}],UV.ctorParameters=()=>[{type:void 0,decorators:[{type:me,args:[_V]}]}];const jV=new Ue("TRANSITION_ID");const qV=[{provide:ov,useFactory:function(e,t,n){return()=>{n.get(av).donePromise.then(()=>{const n=AV();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[jV,_V,Qu],multi:!0}];class $V{static init(){var e;e=new $V,Kv=e}addToWindow(e){Ve.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ve.getAllAngularRootElements=()=>e.getAllRootElements();Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(e=>{const t=Ve.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?AV().isShadowRoot(t)?this.findTestabilityInTree(e,AV().getHost(t),!0):this.findTestabilityInTree(e,AV().parentElement(t),!0):null}}function HV(e,t){if("undefined"==typeof COMPILED||!COMPILED){(Ve.ng=Ve.ng||{})[e]=t}}const zV=(()=>({ApplicationRef:ny,NgZone:Fv}))(),WV="probe",KV="coreTokens";function GV(e){return my(e)}const QV=[{provide:ov,useFactory:function(e){return HV(WV,GV),HV(KV,Object.assign({},zV,(e||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>GV},deps:[[Xv,new ge]],multi:!0}],YV=new Ue("EventManagerPlugins");class XV{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}XV.decorators=[{type:ju}],XV.ctorParameters=()=>[{type:Array,decorators:[{type:me,args:[YV]}]},{type:Fv}];class JV{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=AV().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class ZV{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}ZV.decorators=[{type:ju}];class eB extends ZV{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>AV().remove(e))}}eB.decorators=[{type:ju}],eB.ctorParameters=()=>[{type:void 0,decorators:[{type:me,args:[_V]}]}];const tB={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nB=/%COMP%/g,rB="_nghost-%COMP%",iB="_ngcontent-%COMP%";function sB(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?sB(e,i,n):(i=i.replace(nB,e),n.push(i))}return n}function oB(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class aB{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new uB(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case vt.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new hB(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case vt.Native:case vt.ShadowDom:return new pB(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=sB(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}aB.decorators=[{type:ju}],aB.ctorParameters=()=>[{type:XV},{type:eB},{type:String,decorators:[{type:me,args:[uv]}]}];class uB{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(tB[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=tB[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=tB[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&Dp.DashCase?e.style.setProperty(t,n,r&Dp.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Dp.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){lB(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return lB(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,oB(n)):this.eventManager.addEventListener(e,t,oB(n))}}const cB=(()=>"@".charCodeAt(0))();function lB(e,t){if(e.charCodeAt(0)===cB)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class hB extends uB{constructor(e,t,n,r){super(e),this.component=n;const i=sB(r+"-"+n.id,n.styles,[]);var s;t.addStyles(i),this.contentAttr=(s=r+"-"+n.id,iB.replace(nB,s)),this.hostAttr=function(e){return rB.replace(nB,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class pB extends uB{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,r.encapsulation===vt.ShadowDom?this.shadowRoot=n.attachShadow({mode:"open"}):this.shadowRoot=n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=sB(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const dB=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),fB=dB("addEventListener"),mB=dB("removeEventListener"),gB={},vB="FALSE",yB="ANGULAR",wB="addEventListener",bB="removeEventListener",_B="__zone_symbol__propagationStopped",EB="__zone_symbol__stopImmediatePropagation",SB=(()=>{const e="undefined"!=typeof Zone&&Zone[dB("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),CB=function(e){return!!SB&&SB.hasOwnProperty(e)};const TB=function(e){const t=gB[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[_B];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};class xB extends JV{constructor(e,t,n){super(e),this.ngZone=t,n&&CV(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[EB])return;const e=Event.prototype[EB]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[_B]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){const r=e[fB];let i=n;if(!r||Fv.isInAngularZone()&&!CB(t))e[wB](t,i,!1);else{let n=gB[t];n||(n=gB[t]=dB(yB+t+vB));let r=e[n];const s=r&&r.length>0;r||(r=e[n]=[]);const o=CB(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:o,handler:i});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===i){e=!0;break}e||r.push({zone:o,handler:i})}s||e[fB](t,TB,!1)}return()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,n){let r=e[mB];if(!r)return e[bB].apply(e,[t,n,!1]);let i=gB[t],s=i&&e[i];if(!s)return e[bB].apply(e,[t,n,!1]);let o=!1;for(let a=0;a<s.length;a++)if(s[a].handler===n){o=!0,s.splice(a,1);break}o?0===s.length&&r.apply(e,[t,TB,!1]):e[bB].apply(e,[t,n,!1])}}xB.decorators=[{type:ju}],xB.ctorParameters=()=>[{type:void 0,decorators:[{type:me,args:[_V]}]},{type:Fv},{type:void 0,decorators:[{type:ge},{type:me,args:[pv]}]}];const IB={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},AB=new Ue("HammerGestureConfig"),DB=new Ue("HammerLoader");class NB{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}NB.decorators=[{type:ju}];class kB extends JV{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!IB.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e))&&(!(!window.Hammer&&!this.loader)||(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),!1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),s=function(e){r.runGuarded((function(){n(e)}))};return i.on(t,s),()=>{i.off(t,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}kB.decorators=[{type:ju}],kB.ctorParameters=()=>[{type:void 0,decorators:[{type:me,args:[_V]}]},{type:NB,decorators:[{type:me,args:[AB]}]},{type:mv},{type:void 0,decorators:[{type:ge},{type:me,args:[DB]}]}];const PB=["alt","control","meta","shift"],MB={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class OB extends JV{constructor(e){super(e)}supports(e){return null!=OB.parseEventName(e)}addEventListener(e,t,n){const r=OB.parseEventName(t),i=OB.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>AV().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=OB._normalizeKey(t.pop());let i="";if(PB.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;const s={};return s.domEventName=n,s.fullKey=i,s}static getEventFullKey(e){let t="",n=AV().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),PB.forEach(r=>{if(r!=n){(0,MB[r])(e)&&(t+=r+".")}}),t+=n}static eventCallback(e,t,n){return r=>{OB.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}OB.decorators=[{type:ju}],OB.ctorParameters=()=>[{type:void 0,decorators:[{type:me,args:[_V]}]}];class RB{}class LB extends RB{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Ws.NONE:return t;case Ws.HTML:return t instanceof VB?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Hs(this._doc,String(t)));case Ws.STYLE:return t instanceof BB?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Ys(t));case Ws.SCRIPT:if(t instanceof UB)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case Ws.URL:return t instanceof qB||t instanceof jB?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Es(String(t)));case Ws.RESOURCE_URL:if(t instanceof qB)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof FB)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new VB(e)}bypassSecurityTrustStyle(e){return new BB(e)}bypassSecurityTrustScript(e){return new UB(e)}bypassSecurityTrustUrl(e){return new jB(e)}bypassSecurityTrustResourceUrl(e){return new qB(e)}}LB.decorators=[{type:ju}],LB.ctorParameters=()=>[{type:void 0,decorators:[{type:me,args:[_V]}]}];class FB{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class VB extends FB{getTypeName(){return"HTML"}}class BB extends FB{getTypeName(){return"Style"}}class UB extends FB{getTypeName(){return"Script"}}class jB extends FB{getTypeName(){return"URL"}}class qB extends FB{getTypeName(){return"ResourceURL"}}const $B=[{provide:pv,useValue:EV},{provide:hv,useValue:function(){LV.makeCurrent(),$V.init()},multi:!0},{provide:BR,useClass:UV,deps:[_V]},{provide:_V,useFactory:function(){return document},deps:[]}],HB=[{provide:Ks,useExisting:RB},{provide:RB,useClass:LB,deps:[_V]}];Jv(vy,"browser",$B);const zB=[HB,{provide:$u,useValue:!0},{provide:ds,useFactory:function(){return new ds},deps:[]},{provide:YV,useClass:xB,multi:!0,deps:[_V,Fv,pv]},{provide:YV,useClass:OB,multi:!0,deps:[_V]},{provide:YV,useClass:kB,multi:!0,deps:[_V,AB,mv,[new ge,DB]]},{provide:AB,useClass:NB,deps:[]},{provide:aB,useClass:aB,deps:[XV,eB,uv]},{provide:Ap,useExisting:aB},{provide:ZV,useExisting:eB},{provide:eB,useClass:eB,deps:[_V]},{provide:Hv,useClass:Hv,deps:[Fv]},{provide:XV,useClass:XV,deps:[YV,Fv]},QV];class WB{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:WB,providers:[{provide:uv,useValue:e.appId},{provide:jV,useExisting:uv},qV]}}}function KB(){return new GB(et(_V))}WB.decorators=[{type:iv,args:[{providers:zB,exports:[wV,wy]}]}],WB.ctorParameters=()=>[{type:void 0,decorators:[{type:ge},{type:ye},{type:me,args:[WB]}]}];class GB{constructor(e){this._doc=e,this._dom=AV()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e),[]):[]}getTag(e){return e&&this._dom.querySelector(this._doc,`meta[${e}]`)||null}getTags(e){if(!e)return[];const t=this._dom.querySelectorAll(this._doc,`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTag(t);if(n&&this._containsAttributes(e,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(e,n);const r=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(r,n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>this._dom.setAttribute(t,n,e[n])),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>this._dom.getAttribute(t,n)===e[n])}}function QB(){return new YB(et(_V))}GB.decorators=[{type:ju,args:[{providedIn:"root",useFactory:KB,deps:[]}]}],GB.ctorParameters=()=>[{type:void 0,decorators:[{type:me,args:[_V]}]}],GB.ngInjectableDef=Ce({factory:KB,token:GB,providedIn:"root"});class YB{constructor(e){this._doc=e}getTitle(){return AV().getTitle(this._doc)}setTitle(e){AV().setTitle(this._doc,e)}}YB.decorators=[{type:ju,args:[{providedIn:"root",useFactory:QB,deps:[]}]}],YB.ctorParameters=()=>[{type:void 0,decorators:[{type:me,args:[_V]}]}],YB.ngInjectableDef=Ce({factory:QB,token:YB,providedIn:"root"});"undefined"!=typeof window&&window;class XB{constructor(){this.store={},this.onSerializeCallbacks={}}static init(e){const t=new XB;return t.store=e,t}get(e,t){return void 0!==this.store[e]?this.store[e]:t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}XB.decorators=[{type:ju}];(class{}).decorators=[{type:iv,args:[{providers:[{provide:XB,useFactory:function(e,t){const n=e.getElementById(t+"-state");let r={};if(n&&n.textContent)try{r=JSON.parse(function(e){const t={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return e.replace(/&[^;]+;/g,e=>t[e])}(n.textContent))}catch(i){console.warn("Exception while restoring TransferState for app "+t,i)}return XB.init(r)},deps:[_V,uv]}]}]}];new Pp("8.2.14");const JB="",ZB=function(){const e=new Map;return e.set(VE.ANALYZE_FOR_ENTRY_COMPONENTS,Tc),e.set(VE.ElementRef,Tp),e.set(VE.NgModuleRef,ot),e.set(VE.ViewContainerRef,Jp),e.set(VE.ChangeDetectorRef,xu),e.set(VE.Renderer2,Np),e.set(VE.QueryList,Cg),e.set(VE.TemplateRef,Yp),e.set(VE.CodegenComponentFactoryResolver,Ep),e.set(VE.ComponentFactoryResolver,_p),e.set(VE.ComponentFactory,yp),e.set(VE.ComponentRef,vp),e.set(VE.NgModuleFactory,at),e.set(VE.createModuleFactory,Ww),e.set(VE.moduleDef,ef),e.set(VE.moduleProviderDef,Zd),e.set(VE.RegisterModuleFactoryFn,ng),e.set(VE.Injector,Qu),e.set(VE.ViewEncapsulation,vt),e.set(VE.ChangeDetectionStrategy,mt),e.set(VE.SecurityContext,Ws),e.set(VE.LOCALE_ID,gv),e.set(VE.TRANSLATIONS_FORMAT,yv),e.set(VE.inlineInterpolate,zd),e.set(VE.interpolate,Hd),e.set(VE.EMPTY_ARRAY,Kd),e.set(VE.EMPTY_MAP,Gd),e.set(VE.Renderer,Ip),e.set(VE.viewDef,Uy),e.set(VE.elementDef,_y),e.set(VE.anchorDef,by),e.set(VE.textDef,Fy),e.set(VE.directiveDef,Mf),e.set(VE.providerDef,Rf),e.set(VE.queryDef,xy),e.set(VE.pureArrayDef,Oy),e.set(VE.pureObjectDef,Ry),e.set(VE.purePipeDef,My),e.set(VE.pipeDef,Of),e.set(VE.nodeValue,bf),e.set(VE.ngContentDef,ky),e.set(VE.unwrapValue,fd),e.set(VE.createRendererType2,vd),e.set(VE.createComponentFactory,cf),e}();const eU=new Ue("ErrorCollector"),tU={provide:fv,useValue:"/"},nU={get(e){throw new Error(`No ResourceLoader implementation has been provided. Can't read the url "${e}"`)}},rU=new Ue("HtmlParser");const iU=[{provide:MR,useValue:new class{constructor(){this.reflectionCapabilities=new Ru}componentModuleUrl(e,t){const n=t.moduleId;if("string"==typeof n){return function(e){const t=FR(e);return t&&t[LR.Scheme]||""}(n)?n:`package:${n}${JB}`}if(null!=n)throw yE(`moduleId should be a string in "${Ne(e)}". See https://goo.gl/wIDDiL for more information.\n`+"If you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return`./${Ne(e)}`}parameters(e){return this.reflectionCapabilities.parameters(e)}tryAnnotations(e){return this.annotations(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}shallowAnnotations(e){throw new Error("Not supported in JIT mode")}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}guards(e){return this.reflectionCapabilities.guards(e)}resolveExternalReference(e){return ZB.get(e)||e.runtime}}},{provide:XP,useValue:nU},{provide:_R,deps:[]},{provide:bR,useExisting:_R},{provide:mv,deps:[]},{provide:uk,deps:[]},{provide:_k,deps:[uk]},{provide:rU,useClass:gD,deps:[]},{provide:SO,useFactory:(e,t,n,r,i)=>{const s=(t=t||"")?r.missingTranslation:wv.Ignore;return new SO(e,t,n,s,i)},deps:[rU,[new ge,new me(vv)],[new ge,new me(yv)],[gM],[mv]]},{provide:gD,useExisting:SO},{provide:$N,deps:[gM,MR,_k,Ik,SO,mv]},{provide:rI,useClass:rI,deps:[]},{provide:yM,deps:[XP,OR,gD,gM]},{provide:RO,deps:[gM,gD,QO,_M,XO,bR,Ik,yM,mv,[ge,qE],MR,[ge,eU]]},tU,{provide:BA,deps:[OR]},{provide:rR,deps:[MR]},{provide:GO,deps:[MR]},{provide:gM,useValue:new gM},{provide:xv,useClass:class{constructor(e,t,n,r,i,s,o,a,u,c,l){this._metadataResolver=t,this._delegate=new DR(t,n,r,i,s,o,a,u,c,l,this.getExtraNgModuleProviders.bind(this)),this.injector=e}getExtraNgModuleProviders(){return[this._metadataResolver.getProviderMetadata(new aS(xv,{useValue:this}))]}compileModuleSync(e){return this._delegate.compileModuleSync(e)}compileModuleAsync(e){return this._delegate.compileModuleAsync(e)}compileModuleAndAllComponentsSync(e){const t=this._delegate.compileModuleAndAllComponentsSync(e);return{ngModuleFactory:t.ngModuleFactory,componentFactories:t.componentFactories}}compileModuleAndAllComponentsAsync(e){return this._delegate.compileModuleAndAllComponentsAsync(e).then(e=>({ngModuleFactory:e.ngModuleFactory,componentFactories:e.componentFactories}))}loadAotSummaries(e){this._delegate.loadAotSummaries(e)}hasAotSummary(e){return this._delegate.hasAotSummary(e)}getComponentFactory(e){return this._delegate.getComponentFactory(e)}clearCache(){this._delegate.clearCache()}clearCacheFor(e){this._delegate.clearCacheFor(e)}getModuleId(e){const t=this._metadataResolver.getNgModuleMetadata(e);return t&&t.id||void 0}},deps:[Qu,RO,$N,BA,rR,GO,bR,MR,rI,gM,mv]},{provide:Ok,deps:[]},{provide:Ik,useExisting:Ok},{provide:OR,deps:[fv]},{provide:_M,deps:[MR]},{provide:XO,deps:[MR]},{provide:QO,deps:[MR]}];function sU(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}function oU(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}const aU=Jv(vy,"coreDynamic",[{provide:Iv,useValue:{},multi:!0},{provide:Av,useClass:class{constructor(e){const t={useJit:!0,defaultEncapsulation:vt.Emulated,missingTranslation:wv.Warning};this._defaultOptions=[t,...e]}createCompiler(e=[]){const t={useJit:sU((n=this._defaultOptions.concat(e)).map(e=>e.useJit)),defaultEncapsulation:sU(n.map(e=>e.defaultEncapsulation)),providers:oU(n.map(e=>e.providers)),missingTranslation:sU(n.map(e=>e.missingTranslation)),preserveWhitespaces:sU(n.map(e=>e.preserveWhitespaces))};var n;return Qu.create([iU,{provide:gM,useFactory:()=>new gM({useJit:t.useJit,jitDevMode:ys(),defaultEncapsulation:t.defaultEncapsulation,missingTranslation:t.missingTranslation,preserveWhitespaces:t.preserveWhitespaces}),deps:[]},t.providers]).get(xv)}},deps:[Iv]}]);class uU extends XP{get(e){let t,n;const r=new Promise((e,r)=>{t=e,n=r}),i=new XMLHttpRequest;return i.open("GET",e,!0),i.responseType="text",i.onload=function(){const r=i.response||i.responseText;let s=1223===i.status?204:i.status;0===s&&(s=r?200:0),200<=s&&s<=300?t(r):n(`Failed to load ${e}`)},i.onerror=function(){n(`Failed to load ${e}`)},i.send(),r}}uU.decorators=[{type:ju}];const cU=[$B,{provide:Iv,useValue:{providers:[{provide:XP,useClass:uU,deps:[]}]},multi:!0},{provide:pv,useValue:EV}];new Pp("8.2.14");const lU=Jv(aU,"browserDynamic",cU),hU=new E(e=>e.complete());function pU(e){return e?function(e){return new E(t=>e.schedule(()=>t.complete()))}(e):hU}function dU(e){const t=new E(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function fU(...e){let t=e[e.length-1];switch(N(t)?e.pop():t=void 0,e.length){case 0:return pU(t);case 1:return t?z(e,t):dU(e[0]);default:return z(e,t)}}class mU extends A{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value}next(e){super.next(this._value=e)}}function gU(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}gU.prototype=Object.create(Error.prototype);const vU=gU,yU={};class wU{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new bU(e,this.resultSelector))}}class bU extends j{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(yU),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(U(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const s=this.values,o=s[n],a=this.toRespond?o===yU?--this.toRespond:this.toRespond:0;s[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function _U(e){return new E(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?W(n):pU()).subscribe(t)})}function EU(){return X(1)}function SU(e,t){return function(n){return n.lift(new CU(e,t))}}class CU{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new TU(e,this.predicate,this.thisArg))}}class TU extends g{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function xU(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}xU.prototype=Object.create(Error.prototype);const IU=xU;function AU(e){return function(t){return 0===e?pU():t.lift(new DU(e))}}class DU{constructor(e){if(this.total=e,this.total<0)throw new IU}call(e,t){return t.subscribe(new NU(e,this.total))}}class NU extends g{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;if(t.length<n)t.push(e);else{t[r%n]=e}}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function kU(e,t,n){return function(r){return r.lift(new PU(e,t,n))}}class PU{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new MU(e,this.nextOrObserver,this.error,this.complete))}}class MU extends g{constructor(e,t,n,r){super(e),this._tapNext=w,this._tapError=w,this._tapComplete=w,this._tapError=n||w,this._tapComplete=r||w,i(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||w,this._tapError=t.error||w,this._tapComplete=t.complete||w)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const OU=(e=RU)=>kU({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function RU(){return new vU}function LU(e=null){return t=>t.lift(new FU(e))}class FU{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new VU(e,this.defaultValue))}}class VU extends g{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function BU(e,t){const n=arguments.length>=2;return r=>r.pipe(e?SU((t,n)=>e(t,n,r)):Y,AU(1),n?LU(t):OU(()=>new vU))}function UU(e){return function(t){const n=new jU(e),r=t.lift(n);return n.caught=r}}class jU{constructor(e){this.selector=e}call(e,t){return t.subscribe(new qU(e,this.selector,this.caught))}}class qU extends j{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new k(this,void 0,void 0);this.add(r),U(this,n,void 0,void 0,r)}}}function $U(e){return t=>0===e?pU():t.lift(new HU(e))}class HU{constructor(e){if(this.total=e,this.total<0)throw new IU}call(e,t){return t.subscribe(new zU(e,this.total))}}class zU extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function WU(e,t){const n=arguments.length>=2;return r=>r.pipe(e?SU((t,n)=>e(t,n,r)):Y,$U(1),n?LU(t):OU(()=>new vU))}class KU{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new GU(e,this.predicate,this.thisArg,this.source))}}class GU extends g{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function QU(e,t){return"function"==typeof t?n=>n.pipe(QU((n,r)=>W(e(n,r)).pipe(q((e,i)=>t(n,e,r,i))))):t=>t.lift(new YU(e))}class YU{constructor(e){this.project=e}call(e,t){return t.subscribe(new XU(e,this.project))}}class XU extends j{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new k(this,void 0,void 0);this.destination.add(i),this.innerSubscription=U(this,e,t,n,i)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}function JU(...e){return EU()(fU(...e))}function ZU(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ej(e,t,n))}}class ej{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new tj(e,this.accumulator,this.seed,this.hasSeed))}}class tj extends g{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function nj(e,t){return K(e,t,1)}class rj{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ij(e,this.callback))}}class ij extends g{constructor(e,t){super(e),this.add(new d(t))}}class sj{constructor(e,t){this.id=e,this.url=t}}class oj extends sj{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class aj extends sj{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uj extends sj{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cj extends sj{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lj extends sj{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hj extends sj{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pj extends sj{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dj extends sj{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fj extends sj{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mj{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gj{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vj{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yj{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wj{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bj{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _j{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){const e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}}class Ej{}Ej.decorators=[{type:Qg,args:[{template:"<router-outlet></router-outlet>"}]}];const Sj="primary";class Cj{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Tj(e){return new Cj(e)}const xj="ngNavigationCancelingError";function Ij(e){const t=Error("NavigationCancelingError: "+e);return t[xj]=!0,t}function Aj(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class Dj{constructor(e,t){this.routes=e,this.module=t}}function Nj(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];kj(r,Pj(t,r))}}function kj(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Sj)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch){const n="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. ${n}`)}if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Nj(e.children,t)}function Pj(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Mj(e){const t=e.children&&e.children.map(Mj),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Sj&&(n.component=Ej),n}function Oj(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(e[i=n[s]]!==t[i])return!1;return!0}function Rj(e){return Array.prototype.concat.apply([],e)}function Lj(e){return e.length>0?e[e.length-1]:null}function Fj(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Vj(e){return Ql(e)?e:Gl(e)?W(Promise.resolve(e)):fU(e)}function Bj(e,t,n){return n?function(e,t){return Oj(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Hj(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&Uj(e.root,t.root)}function Uj(e,t){return function e(t,n,r){if(t.segments.length>r.length){return!!Hj(t.segments.slice(0,r.length),r)&&!n.hasChildren()}if(t.segments.length===r.length){if(!Hj(t.segments,r))return!1;for(const e in n.children){if(!t.children[e])return!1;if(!Uj(t.children[e],n.children[e]))return!1}return!0}{const i=r.slice(0,t.segments.length),s=r.slice(t.segments.length);return!!Hj(t.segments,i)&&(!!t.children[Sj]&&e(t.children[Sj],n,s))}}(e,t,t.segments)}class jj{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tj(this.queryParams)),this._queryParamMap}toString(){return Gj.serialize(this)}}class qj{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Fj(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qj(this)}}class $j{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Tj(this.parameters)),this._parameterMap}toString(){return tq(this)}}function Hj(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function zj(e,t){let n=[];return Fj(e.children,(e,r)=>{r===Sj&&(n=n.concat(t(e,r)))}),Fj(e.children,(e,r)=>{r!==Sj&&(n=n.concat(t(e,r)))}),n}class Wj{}class Kj{parse(e){const t=new oq(e);return new jj(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return Qj(t);if(n){const n=t.children[Sj]?e(t.children[Sj],!1):"",r=[];return Fj(t.children,(t,n)=>{n!==Sj&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=zj(t,(n,r)=>r===Sj?[e(t.children[Sj],!1)]:[`${r}:${e(n,!1)}`]);return`${Qj(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Xj(t)}=${Xj(e)}`).join("&"):`${Xj(t)}=${Xj(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Gj=new Kj;function Qj(e){return e.segments.map(e=>tq(e)).join("/")}function Yj(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xj(e){return Yj(e).replace(/%3B/gi,";")}function Jj(e){return Yj(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zj(e){return decodeURIComponent(e)}function eq(e){return Zj(e.replace(/\+/g,"%20"))}function tq(e){return`${Jj(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Jj(e)}=${Jj(t[e])}`).join("")}`;var t}const nq=/^[^\/()?;=#]+/;function rq(e){const t=e.match(nq);return t?t[0]:""}const iq=/^[^=?&#]+/;const sq=/^[^?&#]+/;class oq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qj([],{}):new qj([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Sj]=new qj(e,t)),n}parseSegment(){const e=rq(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new $j(Zj(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rq(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=rq(this.remaining);e&&(n=e,this.capture(n))}e[Zj(t)]=Zj(n)}parseQueryParam(e){const t=function(e){const t=e.match(iq);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(sq);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=eq(t),i=eq(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=rq(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Sj);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[Sj]:new qj([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class aq{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uq(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=uq(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cq(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return cq(e,this._root).map(e=>e.value)}}function uq(e,t){if(e===t.value)return t;for(const n of t.children){const t=uq(e,n);if(t)return t}return null}function cq(e,t){if(e===t.value)return[t];for(const n of t.children){const r=cq(e,n);if(r.length)return r.unshift(t),r}return[]}class lq{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function hq(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class pq extends aq{constructor(e,t){super(e),this.snapshot=t,yq(this,e)}toString(){return this.snapshot.toString()}}function dq(e,t){const n=function(e,t){const n=new gq([],{},{},"",{},Sj,t,null,e.root,-1,{});return new vq("",new lq(n,[]))}(e,t),r=new mU([new $j("",{})]),i=new mU({}),s=new mU({}),o=new mU({}),a=new mU(""),u=new fq(r,i,o,a,s,Sj,t,n.root);return u.snapshot=n.root,new pq(new lq(u,[]),n)}class fq{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(q(e=>Tj(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(e=>Tj(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mq(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>{return{params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}class gq{constructor(e,t,n,r,i,s,o,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tj(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tj(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vq extends aq{constructor(e,t){super(t),this.url=e,yq(this,t)}toString(){return wq(this._root)}}function yq(e,t){t.value._routerState=e,t.children.forEach(t=>yq(e,t))}function wq(e){const t=e.children.length>0?` { ${e.children.map(wq).join(", ")} } `:"";return`${e.value}${t}`}function bq(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Oj(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Oj(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Oj(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Oj(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function _q(e,t){const n=Oj(e.params,t.params)&&(r=e.url,i=t.url,Hj(r,i)&&r.every((e,t)=>Oj(e.parameters,i[t].parameters)));var r,i;const s=!e.parent!=!t.parent;return n&&!s&&(!e.parent||_q(e.parent,t.parent))}function Eq(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(r.value.snapshot,t.value))return Eq(e,t,r);return Eq(e,t)})}(e,t,n);return new lq(r,i)}{const n=e.retrieve(t.value);if(n){const e=n.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(t,e),e}{const n=(r=t.value,new fq(new mU(r.url),new mU(r.params),new mU(r.queryParams),new mU(r.fragment),new mU(r.data),r.outlet,r.component,r)),i=t.children.map(t=>Eq(e,t));return new lq(n,i)}}var r}function Sq(e,t,n,r,i){if(0===n.length)return Tq(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new xq(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Fj(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new xq(n,t,r)}(n);if(s.toRoot())return Tq(t.root,new qj([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new Iq(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Iq(n.snapshot._urlSegment,!0,0);const r=Cq(e.commands[0])?0:1,i=n.snapshot._lastPathIndex+r;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Iq(r,!1,i-s)}(n.snapshot._urlSegment,i,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Nq(o.segmentGroup,o.index,s.commands):Dq(o.segmentGroup,o.index,s.commands);return Tq(o.segmentGroup,a,t,r,i)}function Cq(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Tq(e,t,n,r,i){let s={};return r&&Fj(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),n.root===e?new jj(t,s,i):new jj(function e(t,n,r){const i={};Fj(t.children,(t,s)=>{i[s]=t===n?r:e(t,n,r)});return new qj(t.segments,i)}(n.root,e,t),s,i)}class xq{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Cq(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==Lj(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Iq{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Aq(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Sj]:`${e}`}function Dq(e,t,n){if(e||(e=new qj([],{})),0===e.segments.length&&e.hasChildren())return Nq(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=Aq(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Oq(o,a,t))return s;r+=2}else{if(!Oq(o,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new qj(e.segments.slice(0,r.pathIndex),{});return t.children[Sj]=new qj(e.segments.slice(r.pathIndex),e.children),Nq(t,0,i)}return r.match&&0===i.length?new qj(e.segments,{}):r.match&&!e.hasChildren()?kq(e,t,n):r.match?Nq(e,0,i):kq(e,t,n)}function Nq(e,t,n){if(0===n.length)return new qj(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{[Sj]:e}:void 0===e[0].outlets?{[Sj]:e}:e[0].outlets}(n),i={};return Fj(r,(n,r)=>{null!==n&&(i[r]=Dq(e.children[r],t,n))}),Fj(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new qj(e.segments,i)}}function kq(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=Pq(n[i].outlets);return new qj(r,e)}if(0===i&&Cq(n[0])){const s=e.segments[t];r.push(new $j(s.path,n[0])),i++;continue}const s=Aq(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Cq(o)?(r.push(new $j(s,Mq(o))),i+=2):(r.push(new $j(s,{})),i++)}return new qj(r,{})}function Pq(e){const t={};return Fj(e,(e,n)=>{null!==e&&(t[n]=kq(new qj([],{}),0,e))}),t}function Mq(e){const t={};return Fj(e,(e,n)=>t[n]=`${e}`),t}function Oq(e,t,n){return e==n.path&&Oj(t,n.parameters)}const Rq=(e,t,n)=>q(r=>(new Lq(t,r.targetRouterState,r.currentRouterState,n).activate(e),r));class Lq{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),bq(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=hq(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Fj(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=hq(e),i=e.value.component?n.children:t;Fj(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=hq(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new bj(e.value.snapshot))}),e.children.length&&this.forwardEvent(new yj(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(bq(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Fq(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Fq(e){bq(e.value),e.children.forEach(Fq)}function Vq(e){return"function"==typeof e}function Bq(e){return e instanceof jj}class Uq{constructor(e){this.segmentGroup=e||null}}class jq{constructor(e){this.urlTree=e}}function qq(e){return new E(t=>t.error(new Uq(e)))}function $q(e){return new E(t=>t.error(new jq(e)))}function Hq(e){return new E(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class zq{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(ot)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Sj).pipe(q(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(UU(e=>{if(e instanceof jq)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Uq)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Sj).pipe(q(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(UU(e=>{if(e instanceof Uq)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new qj([],{[Sj]:e}):e;return new jj(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(q(e=>new qj([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return fU({});const n=[],r=[],i={};return Fj(e,(e,s)=>{const o=t(s,e).pipe(q(e=>i[s]=e));s===Sj?n.push(o):r.push(o)}),fU.apply(null,n.concat(r)).pipe(EU(),BU(),q(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,s){return fU(...n).pipe(q(o=>{return this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(UU(e=>{if(e instanceof Uq)return fU(null);throw e}))}),EU(),WU(e=>!!e),UU((e,n)=>{if(e instanceof vU||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return fU(new qj([],{}));throw new Uq(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return Qq(r)!==s?qq(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):qq(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?$q(i):this.lineralizeSegments(n,i).pipe(K(n=>{const i=new qj(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Wq(t,r,i);if(!o)return qq(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?$q(l):this.lineralizeSegments(r,l).pipe(K(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(q(e=>(n._loadedConfig=e,new qj(r,{})))):fU(new qj(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Wq(t,n,r);if(!i)return qq(t);const a=r.slice(o);return this.getChildConfig(e,n,r).pipe(K(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:o}=function(e,t,n,r){if(n.length>0&&function(e,t,n){return n.some(n=>Gq(e,t,n)&&Qq(n)!==Sj)}(e,n,r)){return{segmentGroup:Kq(new qj(t,function(e,t){const n={};n[Sj]=t;for(const r of e)""===r.path&&Qq(r)!==Sj&&(n[Qq(r)]=new qj([],{}));return n}(r,new qj(n,e.children)))),slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Gq(e,t,n))}(e,n,r)){return{segmentGroup:Kq(new qj(e.segments,function(e,t,n,r){const i={};for(const s of n)Gq(e,t,s)&&!r[Qq(s)]&&(i[Qq(s)]=new qj([],{}));return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}}return{segmentGroup:e,slicedSegments:n}}(t,s,a,r);if(0===o.length&&i.hasChildren()){return this.expandChildren(n,r,i).pipe(q(e=>new qj(s,e)))}return 0===r.length&&0===o.length?fU(new qj(s,{})):this.expandSegment(n,i,r,o,Sj,!0).pipe(q(e=>new qj(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?fU(new Dj(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?fU(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?W(r).pipe(q(r=>{const i=e.get(r);let s;if(function(e){return e&&Vq(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Vq(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return Vj(s)})).pipe(EU(),function(e,t){return n=>n.lift(new KU(e,t,n))}(e=>!0===e)):fU(!0)}(e.injector,t,n).pipe(K(n=>n?this.configLoader.load(e.injector,t).pipe(q(e=>(t._loadedConfig=e,e))):function(e){return new E(t=>t.error(Ij(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):fU(new Dj([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return fU(n);if(r.numberOfChildren>1||!r.children[Sj])return Hq(e.redirectTo);r=r.children[Sj]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new jj(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Fj(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Fj(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new qj(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Wq(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||Aj)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Kq(e){if(1===e.numberOfChildren&&e.children[Sj]){const t=e.children[Sj];return new qj(e.segments.concat(t.segments),t.children)}return e}function Gq(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function Qq(e){return e.outlet||Sj}function Yq(e,t,n,r){return function(i){return i.pipe(QU(i=>(function(e,t,n,r,i){return new zq(e,t,n,r,i).apply()})(e,t,n,i.extractedUrl,r).pipe(q(e=>Object.assign({},i,{urlAfterRedirects:e})))))}}class Xq{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jq{constructor(e,t){this.component=e,this.route=t}}function Zq(e,t,n){const r=e._root;return t$(r,t?t._root:null,n,[r.value])}function e$(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function t$(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=hq(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Hj(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Hj(e.url,t.url)||!Oj(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_q(e,t)||!Oj(e.queryParams,t.queryParams);case"paramsChange":default:return!_q(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);if(u?i.canActivateChecks.push(new Xq(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?t$(e,t,a?a.children:null,r,i):t$(e,t,n,r,i),u){const e=a&&a.outlet&&a.outlet.component||null;i.canDeactivateChecks.push(new Jq(e,o))}}else o&&n$(t,a,i),i.canActivateChecks.push(new Xq(r)),s.component?t$(e,null,a?a.children:null,r,i):t$(e,null,n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Fj(s,(e,t)=>n$(e,n.getContext(t),i)),i}function n$(e,t,n){const r=hq(e),i=e.value;Fj(r,(e,r)=>{i.component?n$(e,t?t.children.getContext(r):null,n):n$(e,t,n)}),i.component&&t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Jq(t.outlet.component,i)):n.canDeactivateChecks.push(new Jq(null,i))}const r$=Symbol("INITIAL_VALUE");function i$(){return QU(e=>(function(...e){let t=null,n=null;return N(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&c(e[0])&&(e=e[0]),z(e,n).lift(new wU(t))})(...e.map(e=>e.pipe($U(1),function(...e){return t=>{let n=e[e.length-1];N(n)?e.pop():n=null;const r=e.length;return JU(1!==r||n?r>0?z(e,n):pU(n):dU(e[0]),t)}}(r$)))).pipe(ZU((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==r$)return e;if(r===r$&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Bq(r))return r}return e},e)},r$),SU(e=>e!==r$),q(e=>Bq(e)?e:!0===e),$U(1)))}function s$(e,t){return function(n){return n.pipe(K(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?fU(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return W(e).pipe(K(e=>(function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?fU(s.map(s=>{const o=e$(s,t,i);let a;if(function(e){return e&&Vq(e.canDeactivate)}(o))a=Vj(o.canDeactivate(e,t,n,r));else{if(!Vq(o))throw new Error("Invalid CanDeactivate guard");a=Vj(o(e,t,n,r))}return a.pipe(WU())})).pipe(i$()):fU(!0)})(e.component,e.route,n,t,r)),WU(e=>!0!==e,!0))}(o,r,i,e).pipe(K(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return W(t).pipe(nj(t=>W([a$(t.route.parent,r),o$(t.route,r),c$(e,t.path,n),u$(e,t.route,n)]).pipe(EU(),WU(e=>!0!==e,!0))),WU(e=>!0!==e,!0))}(r,s,e,t):fU(n)),q(e=>Object.assign({},n,{guardsResult:e})))}))}}function o$(e,t){return null!==e&&t&&t(new wj(e)),fU(!0)}function a$(e,t){return null!==e&&t&&t(new vj(e)),fU(!0)}function u$(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?fU(r.map(r=>_U(()=>{const i=e$(r,t,n);let s;if(function(e){return e&&Vq(e.canActivate)}(i))s=Vj(i.canActivate(t,e));else{if(!Vq(i))throw new Error("Invalid CanActivate guard");s=Vj(i(t,e))}return s.pipe(WU())}))).pipe(i$()):fU(!0)}function c$(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>_U(()=>{return fU(t.guards.map(i=>{const s=e$(i,t.node,n);let o;if(function(e){return e&&Vq(e.canActivateChild)}(s))o=Vj(s.canActivateChild(r,e));else{if(!Vq(s))throw new Error("Invalid CanActivateChild guard");o=Vj(s(r,e))}return o.pipe(WU())})).pipe(i$())}));return fU(i).pipe(i$())}class l${}class h${constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const e=f$(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Sj),n=new gq([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Sj,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new lq(n,t),i=new vq(this.url,r);return this.inheritParamsAndData(i._root),fU(i)}catch(e){return new E(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=mq(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=zj(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===Sj?-1:t.value.outlet===Sj?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,n,r)}catch(i){if(!(i instanceof l$))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new l$}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new l$;if((e.outlet||Sj)!==r)throw new l$;let i,s=[],o=[];if("**"===e.path){const s=n.length>0?Lj(n).parameters:{};i=new gq(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v$(e),r,e.component,e,p$(t),d$(t)+n.length,y$(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new l$;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||Aj)(n,e,t);if(!r)throw new l$;const i={};Fj(r.posParams,(e,t)=>{i[t]=e.path});const s=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(t,e,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new gq(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v$(e),r,e.component,e,p$(t),d$(t)+s.length,y$(e))}const a=function(e){if(e.children)return e.children;if(e.loadChildren)return e._loadedConfig.routes;return[]}(e),{segmentGroup:u,slicedSegments:c}=f$(t,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return[new lq(i,e)]}if(0===a.length&&0===c.length)return[new lq(i,[])];const l=this.processSegment(a,u,c,Sj);return[new lq(i,l)]}}function p$(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function d$(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function f$(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>m$(e,t,n)&&g$(n)!==Sj)}(e,n,r)){const i=new qj(t,function(e,t,n,r){const i={};i[Sj]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&g$(s)!==Sj){const n=new qj([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[g$(s)]=n}return i}(e,t,r,new qj(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>m$(e,t,n))}(e,n,r)){const s=new qj(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(m$(e,n,a)&&!i[g$(a)]){const n=new qj([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[g$(a)]=n}return Object.assign({},i,o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new qj(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function m$(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function g$(e){return e.outlet||Sj}function v$(e){return e.data||{}}function y$(e){return e.resolve||{}}function w$(e,t,n,r,i){return function(s){return s.pipe(K(s=>(function(e,t,n,r,i="emptyOnly",s="legacy"){return new h$(e,t,n,r,i,s).recognize()})(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(q(e=>Object.assign({},s,{targetSnapshot:e})))))}}function b$(e,t){return function(n){return n.pipe(K(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?W(i).pipe(nj(n=>(function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return fU({});if(1===i.length){const s=i[0];return _$(e[s],t,n,r).pipe(q(e=>({[s]:e})))}const s={};return W(i).pipe(K(i=>_$(e[i],t,n,r).pipe(q(e=>(s[i]=e,e))))).pipe(BU(),q(()=>s))}(e._resolve,e,t,r).pipe(q(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,mq(e,n).resolve),null)))})(n.route,r,e,t)),function(e,t){return arguments.length>=2?function(n){return b(ZU(e,t),AU(1),LU(t))(n)}:function(t){return b(ZU((t,n,r)=>e(t,n,r+1)),AU(1))(t)}}((e,t)=>e),q(e=>n)):fU(n)}))}}function _$(e,t,n,r){const i=e$(e,t,r);return i.resolve?Vj(i.resolve(t,n)):Vj(i(t,n))}function E$(e){return function(t){return t.pipe(QU(t=>{const n=e(t);return n?W(n).pipe(q(()=>t)):W([t])}))}}class S${shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const C$=new Ue("ROUTES");class T${constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(q(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Dj(Rj(r.injector.get(C$)).map(Mj),r)}))}loadModuleFactory(e){return"string"==typeof e?W(this.loader.load(e)):Vj(e()).pipe(K(e=>e instanceof at?fU(e):W(this.compiler.compileModuleAsync(e))))}}class x${shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function I$(e){throw e}function A$(e,t,n){return t.parse("/")}function D$(e,t){return fU(null)}class N${constructor(e,t,n,r,i,s,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=I$,this.malformedUriErrorHandler=A$,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:D$,afterPreactivation:D$},this.urlHandlingStrategy=new x$,this.routeReuseStrategy=new S$,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=i.get(ot),this.console=i.get(mv);const u=i.get(Fv);this.isNgZoneEnabled=u instanceof Fv,this.resetConfig(a),this.currentUrlTree=new jj(new qj([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new T$(s,o,e=>this.triggerEvent(new mj(e)),e=>this.triggerEvent(new gj(e))),this.routerState=dq(this.currentUrlTree,this.rootComponentType),this.transitions=new mU({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(SU(e=>0!==e.id),q(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),QU(e=>{let n=!1,r=!1;return fU(e).pipe(kU(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),QU(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return fU(e).pipe(QU(e=>{const n=this.transitions.getValue();return t.next(new oj(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?hU:[e]}),QU(e=>Promise.resolve(e)),Yq(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),kU(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),w$(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),kU(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),kU(e=>{const n=new lj(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new oj(n,this.serializeUrl(r),i,s);t.next(a);const u=dq(r,this.rootComponentType).snapshot;return fU(Object.assign({},e,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),hU}),E$(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),kU(e=>{const t=new hj(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),q(e=>Object.assign({},e,{guards:Zq(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),s$(this.ngModule.injector,e=>this.triggerEvent(e)),kU(e=>{if(Bq(e.guardsResult)){const t=Ij(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),kU(e=>{const t=new pj(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),SU(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new uj(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),E$(e=>{if(e.guards.canActivateChecks.length)return fU(e).pipe(kU(e=>{const t=new dj(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),b$(this.paramsInheritanceStrategy,this.ngModule.injector),kU(e=>{const t=new fj(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),E$(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),q(e=>{const t=function(e,t,n){const r=Eq(e,t._root,n?n._root:void 0);return new pq(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),kU(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Rq(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),kU({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new rj(e))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new uj(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),UU(n=>{if(r=!0,function(e){return e&&e[xj]}(n)){const r=Bq(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new uj(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new cj(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return hU}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Nj(e),this.config=e.map(Mj),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=t;ys()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let l=null;if(o)switch(o){case"merge":l=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=s?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),Sq(u,this.currentUrlTree,e,l,c)}navigateByUrl(e,t={skipLocationChange:!1}){ys()&&this.isNgZoneEnabled&&!Fv.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Bq(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Bq(e))return Bj(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Bj(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new aj(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let s=null,o=null;const a=new Promise((e,t)=>{s=e,o=t}),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class k${constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){ys()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:M$(this.skipLocationChange),replaceUrl:M$(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:M$(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:M$(this.preserveFragment)})}}k$.decorators=[{type:Gg,args:[{selector:":not(a):not(area)[routerLink]"}]}],k$.ctorParameters=()=>[{type:N$},{type:fq},{type:String,decorators:[{type:be,args:["tabindex"]}]},{type:Np},{type:Tp}],k$.propDecorators={queryParams:[{type:Xg}],fragment:[{type:Xg}],queryParamsHandling:[{type:Xg}],preserveFragment:[{type:Xg}],skipLocationChange:[{type:Xg}],replaceUrl:[{type:Xg}],state:[{type:Xg}],routerLink:[{type:Xg}],preserveQueryParams:[{type:Xg}],onClick:[{type:ev,args:["click"]}]};class P${constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof aj&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){ys()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:M$(this.skipLocationChange),replaceUrl:M$(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:M$(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:M$(this.preserveFragment)})}}function M$(e){return""===e||!!e}P$.decorators=[{type:Gg,args:[{selector:"a[routerLink],area[routerLink]"}]}],P$.ctorParameters=()=>[{type:N$},{type:fq},{type:jR}],P$.propDecorators={target:[{type:Zg,args:["attr.target"]},{type:Xg}],queryParams:[{type:Xg}],fragment:[{type:Xg}],queryParamsHandling:[{type:Xg}],preserveFragment:[{type:Xg}],skipLocationChange:[{type:Xg}],replaceUrl:[{type:Xg}],state:[{type:Xg}],href:[{type:Zg}],routerLink:[{type:Xg}],preserveQueryParams:[{type:Xg}],onClick:[{type:ev,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};class O${constructor(e,t,n,r,i){this.router=e,this.element=t,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof aj&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}O$.decorators=[{type:Gg,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],O$.ctorParameters=()=>[{type:N$},{type:Tp},{type:Np},{type:k$,decorators:[{type:ge}]},{type:P$,decorators:[{type:ge}]}],O$.propDecorators={links:[{type:Ic,args:[k$,{descendants:!0}]}],linksWithHrefs:[{type:Ic,args:[P$,{descendants:!0}]}],routerLinkActiveOptions:[{type:Xg}],routerLinkActive:[{type:Xg}]};class R${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new L$,this.attachRef=null}}class L${constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new R$,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class F${constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Eg,this.deactivateEvents=new Eg,this.name=r||Sj,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=e._futureSnapshot.routeConfig.component,r=(t=t||this.resolver).resolveComponentFactory(n),i=this.parentContexts.getOrCreateContext(this.name).children,s=new V$(e,i,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}F$.decorators=[{type:Gg,args:[{selector:"router-outlet",exportAs:"outlet"}]}],F$.ctorParameters=()=>[{type:L$},{type:Jp},{type:_p},{type:String,decorators:[{type:be,args:["name"]}]},{type:xu}],F$.propDecorators={activateEvents:[{type:Jg,args:["activate"]}],deactivateEvents:[{type:Jg,args:["deactivate"]}]};class V${constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===fq?this.route:e===L$?this.childContexts:this.parent.get(e,t)}}class B${}class U${preload(e,t){return fU(null)}}class j${constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i;this.loader=new T$(t,n,t=>e.triggerEvent(new mj(t)),t=>e.triggerEvent(new gj(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(SU(e=>e instanceof aj),nj(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ot);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return W(n).pipe(X(),q(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{return this.loader.load(e.injector,t).pipe(K(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes))))})}}j$.decorators=[{type:ju}],j$.ctorParameters=()=>[{type:N$},{type:iy},{type:xv},{type:Qu},{type:B$}];class q${constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof oj?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof aj&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _j&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new _j(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const $$=[F$,k$,P$,O$,Ej],H$=new Ue("ROUTER_CONFIGURATION"),z$=new Ue("ROUTER_FORROOT_GUARD"),W$=[$R,{provide:Wj,useClass:Kj},{provide:N$,useFactory:function(e,t,n,r,i,s,o,a,u={},c,l){const h=new N$(null,t,n,r,i,s,o,Rj(a));c&&(h.urlHandlingStrategy=c);l&&(h.routeReuseStrategy=l);u.errorHandler&&(h.errorHandler=u.errorHandler);u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler);if(u.enableTracing){const e=AV();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation);u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy);u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy);u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution);return h},deps:[ny,Wj,L$,$R,Qu,iy,xv,C$,H$,[class{},new ge],[class{},new ge]]},L$,{provide:fq,useFactory:function(e){return e.routerState.root},deps:[N$]},{provide:iy,useClass:cy},j$,U$,class{preload(e,t){return t().pipe(UU(()=>fU(null)))}},{provide:H$,useValue:{enableTracing:!1}}];function K$(){return new Xv("Router",N$)}class G${constructor(e,t){}static forRoot(e,t){return{ngModule:G$,providers:[W$,J$(e),{provide:z$,useFactory:X$,deps:[[N$,new ge,new ye]]},{provide:H$,useValue:t||{}},{provide:jR,useFactory:Y$,deps:[BR,[new me(qR),new ge],H$]},{provide:q$,useFactory:Q$,deps:[N$,TV,H$]},{provide:B$,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:U$},{provide:Xv,multi:!0,useFactory:K$},[Z$,{provide:ov,multi:!0,useFactory:eH,deps:[Z$]},{provide:nH,useFactory:tH,deps:[Z$]},{provide:dv,multi:!0,useExisting:nH}]]}}static forChild(e){return{ngModule:G$,providers:[J$(e)]}}}function Q$(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new q$(e,t,n)}function Y$(e,t,n={}){return n.useHash?new zR(e,t):new WR(e,t)}function X$(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function J$(e){return[{provide:Tc,multi:!0,useValue:e},{provide:C$,multi:!0,useValue:e}]}G$.decorators=[{type:iv,args:[{declarations:$$,exports:$$,entryComponents:[Ej]}]}],G$.ctorParameters=()=>[{type:void 0,decorators:[{type:ge},{type:me,args:[z$]}]},{type:N$,decorators:[{type:ge}]}];class Z${constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new A}appInitializer(){return this.injector.get(UR,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(N$),r=this.injector.get(H$);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?fU(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(H$),n=this.injector.get(j$),r=this.injector.get(q$),i=this.injector.get(N$),s=this.injector.get(ny);e===s.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function eH(e){return e.appInitializer.bind(e)}function tH(e){return e.bootstrapListener.bind(e)}Z$.decorators=[{type:ju}],Z$.ctorParameters=()=>[{type:Qu}];const nH=new Ue("Router Initializer");new Pp("8.2.14");class rH extends d{constructor(e,t){super()}schedule(e,t=0){return this}}class iH extends rH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class sH{constructor(e,t=sH.now){this.SchedulerAction=e,this.now=t}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}sH.now=()=>Date.now();class oH extends sH{constructor(e,t=sH.now){super(e,()=>oH.delegate&&oH.delegate!==this?oH.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return oH.delegate&&oH.delegate!==this?oH.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const aH=new class extends oH{}(class extends iH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),uH=new oH(iH);let cH=1;const lH={};const hH={setImmediate(e){const t=cH++;return lH[t]=e,Promise.resolve().then(()=>(function(e){const t=lH[e];t&&t()})(t)),t},clearImmediate(e){delete lH[e]}};const pH=new class extends oH{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends iH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=hH.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(hH.clearImmediate(t),e.scheduled=void 0)}});function dH(e){return!c(e)&&e-parseFloat(e)+1>=0}class fH extends E{constructor(e,t=0,n=pH){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!dH(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=pH)}static create(e,t=0,n=pH){return new fH(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){const t=this.delayTime,n=this.source;return this.scheduler.schedule(fH.dispatch,t,{source:n,subscriber:e})}}class mH{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new fH(t,this.delay,this.scheduler).subscribe(e)}}function gH({error:e,subscriber:t}){t.error(e)}var vH;!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(vH||(vH={}));class yH{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return fU(this.value);case"E":return e=this.error,new E(t?n=>t.schedule(gH,0,{error:e,subscriber:n}):t=>t.error(e));case"C":return pU()}var e,t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new yH("N",e):yH.undefinedValueNotification}static createError(e){return new yH("E",void 0,e)}static createComplete(){return yH.completeNotification}}function wH(e,t=0){return function(n){return n.lift(new bH(e,t))}}yH.completeNotification=new yH("C"),yH.undefinedValueNotification=new yH("N",void 0);class bH{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new _H(e,this.scheduler,this.delay))}}class _H extends g{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(_H.dispatch,this.delay,new EH(e,this.destination)))}_next(e){this.scheduleMessage(yH.createNext(e))}_error(e){this.scheduleMessage(yH.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(yH.createComplete()),this.unsubscribe()}}class EH{constructor(e,t){this.notification=e,this.destination=t}}new Ue("angularfire2.realtimeDatabaseURL");function SH(){}class CH{constructor(e,t=aH){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule((function(t){r.runGuarded(()=>{e.apply(this,[t])})}),t,n)}}class TH{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",SH,{},SH,SH)),t.pipe(kU(n,n,n)).subscribe(e).add(n)}unscheduleTask(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}class xH{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new CH(Zone.current)),this.insideAngular=e.run(()=>new CH(Zone.current,uH))}}function IH(e,t){return function(n){return CV(t)&&(n=n.lift(new TH(e.ngZone))),n.pipe(function(e,t=0){return function(n){return n.lift(new mH(e,t))}}(e.outsideAngular),wH(e.insideAngular))}}var AH,DH=n("Wcq6"),NH=n.n(DH),kH=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},PH=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},MH=function(e,t){return function(n,r){t(n,r,e)}};const OH=new Ue("angularfire2.app.options"),RH=new Ue("angularfire2.app.nameOrConfig"),LH=OH,FH=RH;const VH=new Pp("5.4.2");function BH(e,t,n){const r="string"==typeof n&&n||"[DEFAULT]",i="object"==typeof n&&n||{};return i.name=i.name||r,NH.a.apps.filter(e=>e&&e.name===i.name)[0]||t.runOutsideAngular(()=>NH.a.initializeApp(e,i))}const UH={provide:class{},useFactory:BH,deps:[LH,Fv,[new ge,FH]]};let jH=AH=class{constructor(e){NH.a.registerVersion&&(NH.a.registerVersion("angularfire",VH.full,e.toString()),NH.a.registerVersion("angular",Mp.full))}static initializeApp(e,t){return{ngModule:AH,providers:[{provide:LH,useValue:e},{provide:FH,useValue:t}]}}};jH=AH=kH([iv({providers:[UH]}),MH(0,me(pv)),PH("design:paramtypes",[Object])],jH);var qH=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$H=function(e,t){return function(n,r){t(n,r,e)}};let HH=class{constructor(e,t,n,r){const i=IH(new xH(r),n);this.auth=r.runOutsideAngular(()=>{return BH(e,r,t).auth()}),this.authState=new E(e=>r.runOutsideAngular(()=>this.auth.onAuthStateChanged(e))).pipe(i),this.user=new E(e=>r.runOutsideAngular(()=>this.auth.onIdTokenChanged(e))).pipe(i),this.idToken=this.user.pipe(QU(e=>e?W(e.getIdToken()):fU(null))),this.idTokenResult=this.user.pipe(QU(e=>e?W(e.getIdTokenResult()):fU(null)))}};function zH(e,t){return function(e,t=uH){return new E(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot(n)}):r=e.onSnapshot(n),function(){null!=r&&r()}})}(e,t)}function WH(e,t){return zH(e,t).pipe(q(e=>({payload:e,type:"query"})))}function KH(e,t){return WH(e,t).pipe(q(e=>e.payload.docChanges().map(e=>({type:e.type,payload:e}))))}function GH(e,t,n){return WH(e,n).pipe(q(e=>e.payload.docChanges()),ZU((e,n)=>(function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":e[t.newIndex]&&e[t.newIndex].doc.ref.isEqual(t.doc.ref)||e.splice(t.newIndex,0,t);break;case"modified":(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref))&&(t.oldIndex!==t.newIndex?(e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t)):e.splice(t.newIndex,1,t));break;case"removed":e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref)&&e.splice(t.oldIndex,1)}return e}(e,t))}),e})(e,n,t),[]),q(e=>e.map(e=>({type:e.type,payload:e}))))}function QH(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}HH=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}([ju(),$H(0,me(LH)),$H(1,ge()),$H(1,me(FH)),$H(2,me(pv)),qH("design:paramtypes",[Object,Object,Object,Fv])],HH);class YH{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){return e&&0!==e.length?KH(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(t=>t.filter(t=>e.indexOf(t.type)>-1)),SU(e=>e.length>0)):KH(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ZU((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=QH(e);return GH(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return WH(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(t=>t.payload.docs.map(t=>e.idField?Object.assign({},t.data(),{[e.idField]:t.id}):t.data())))}get(e){return W(this.query.get(e)).pipe(wH(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new XH(this.ref.doc(e),this.afs)}}class XH{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=hz(n,t);return new YH(r,i,this.afs)}snapshotChanges(){var e,t;return(e=this.ref,t=this.afs.schedulers.outsideAngular,zH(e,t).pipe(q(e=>({payload:e,type:"value"})))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(q(e=>e.payload.data()))}get(e){return W(this.ref.get(e)).pipe(wH(this.afs.schedulers.insideAngular))}}class JH{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?KH(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(t=>t.filter(t=>e.indexOf(t.type)>-1)),SU(e=>e.length>0)):KH(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ZU((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=QH(e);return GH(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return WH(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,q(e=>e.payload.docs.map(e=>e.data())))}get(e){return W(this.query.get(e)).pipe(wH(this.afs.schedulers.insideAngular))}}var ZH=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},ez=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},tz=function(e,t){return function(n,r){t(n,r,e)}};const nz=new Ue("angularfire2.enableFirestorePersistence"),rz=new Ue("angularfire2.firestore.persistenceSettings"),iz=new Ue("angularfire2.firestore.settings"),sz=nz,oz=rz,az=iz,uz=parseInt(NH.a.SDK_VERSION.split(".")[0]),cz=parseInt(NH.a.SDK_VERSION.split(".")[1]),lz=uz<5||5==uz&&cz<8?{timestampsInSnapshots:!0}:{};function hz(e,t=(e=>e)){return{query:t(e),ref:e}}let pz=class{constructor(e,t,n,r,i,s,o){if(this.schedulers=new xH(s),this.keepUnstableUntilFirst=IH(this.schedulers,i),this.firestore=s.runOutsideAngular(()=>{const n=BH(e,s,t).firestore();return n.settings(r||lz),n}),n&&!CV(i)){const e=()=>{try{return W(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return fU(!1)}};this.persistenceEnabled$=s.runOutsideAngular(e)}else this.persistenceEnabled$=fU(!1)}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=hz(n,t);return new YH(r,i,this)}collectionGroup(e,t){if(uz<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new JH(n(r),this)}doc(e){let t;return t="string"==typeof e?this.firestore.doc(e):e,new XH(t,this)}createId(){return this.firestore.collection("_").doc().id}};pz=ZH([ju(),tz(0,me(LH)),tz(1,ge()),tz(1,me(FH)),tz(2,ge()),tz(2,me(sz)),tz(3,ge()),tz(3,me(az)),tz(4,me(pv)),tz(6,ge()),tz(6,me(oz)),ez("design:paramtypes",[Object,Object,Object,Object,Object,Fv,Object])],pz);let dz=class{constructor(e,t,n,r){this.afs=e,this.afAuth=t,this.router=n,this.ngZone=r,this.afAuth.authState.subscribe(e=>{e?(this.userData=e,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}canActivate(e,t){throw new Error("Method not implemented.")}SignIn(e,t){return r.__awaiter(this,void 0,void 0,(function*(){try{const n=yield this.afAuth.auth.signInWithEmailAndPassword(e,t);this.ngZone.run(()=>{this.router.navigate(["createcontent"])}),this.SetUserData(n.user)}catch(n){window.alert(n.message)}}))}SignUp(e,t){return this.afAuth.auth.createUserWithEmailAndPassword(e,t).then(e=>{this.SendVerificationMail(),this.SetUserData(e.user)}).catch(e=>{window.alert(e.message)})}SendVerificationMail(){return this.afAuth.auth.currentUser.sendEmailVerification().then(()=>{this.router.navigate(["home"])})}ForgotPassword(e){return this.afAuth.auth.sendPasswordResetEmail(e).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(e=>{window.alert(e)})}get isLoggedIn(){const e=JSON.parse(localStorage.getItem("user"));return null!==e&&!1!==e.emailVerified}GoogleAuth(){return this.AuthLogin(new DH.auth.GoogleAuthProvider)}AuthLogin(e){return this.afAuth.auth.signInWithPopup(e).then(e=>{this.ngZone.run(()=>{this.router.navigate(["createcontent"])}),this.SetUserData(e.user)}).catch(e=>{window.alert(e)})}SetUserData(e){const t=this.afs.doc(`users/${e.uid}`),n={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified};return t.set(n,{merge:!0})}SignOut(){return this.afAuth.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["home"])})}};dz.ctorParameters=()=>[{type:pz},{type:HH},{type:N$},{type:Fv}],dz=r.__decorate([ju({providedIn:"root"})],dz);let fz=class{constructor(e){this.authService=e}ngOnInit(){}};fz.ctorParameters=()=>[{type:dz}],fz=r.__decorate([Qg({selector:"app-login",template:r.__importDefault(n("in5m")).default,styles:[r.__importDefault(n("ZTFi")).default]})],fz);let mz=class{constructor(){}ngOnInit(){}};mz=r.__decorate([Qg({selector:"app-home",template:r.__importDefault(n("Gd4t")).default,styles:[r.__importDefault(n("bdh1")).default]})],mz);let gz=class{constructor(){}ngOnInit(){}};gz=r.__decorate([Qg({selector:"app-contact",template:r.__importDefault(n("BGiY")).default,styles:[r.__importDefault(n("Np+I")).default]})],gz);let vz=class{constructor(){}ngOnInit(){}};vz=r.__decorate([Qg({selector:"app-explore",template:r.__importDefault(n("zOze")).default,styles:[r.__importDefault(n("FSU2")).default]})],vz);let yz=class{constructor(){}ngOnInit(){}};yz=r.__decorate([Qg({selector:"app-events",template:r.__importDefault(n("GZ7V")).default,styles:[r.__importDefault(n("MOSE")).default]})],yz);let wz=class{constructor(){}ngOnInit(){}};wz=r.__decorate([Qg({selector:"app-createcontent",template:r.__importDefault(n("0rsU")).default,styles:[r.__importDefault(n("OLY+")).default]})],wz);let bz=class{constructor(e,t){this.authService=e,this.router=t}canActivate(e,t){return!0!==this.authService.isLoggedIn&&this.router.navigate([""]),!0}};bz.ctorParameters=()=>[{type:dz},{type:N$}];const _z=[{path:"home",component:mz},{path:"explore",component:vz},{path:"events",component:yz},{path:"contact",component:gz},{path:"login",component:fz},{path:"createcontent",component:wz,canActivate:[bz=r.__decorate([ju({providedIn:"root"})],bz)]},{path:"",redirectTo:"/home",pathMatch:"full"}];let Ez=class{};Ez=r.__decorate([iv({imports:[G$.forRoot(_z)],exports:[G$]})],Ez);let Sz=class{constructor(){this.title="musicx"}};Sz=r.__decorate([Qg({selector:"app-root",template:r.__importDefault(n("VzVu")).default,styles:[r.__importDefault(n("ynWL")).default]})],Sz);class Cz{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const Tz={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function xz(e,t=Tz){const n=(e||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(e=>e.split(":")).map(e=>{const n=t[e[0]]||e;return new Cz(n[0],n[1])}),i=r.filter(e=>e.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}const Iz="undefined"!=typeof window&&window||{},Az=Iz.document;Iz.location,Iz.gc,Iz.performance&&Iz.performance,Iz.Event,Iz.MouseEvent,Iz.KeyboardEvent,Iz.EventTarget,Iz.History,Iz.Location,Iz.EventListener;let Dz;function Nz(){return void 0===Iz||(void 0===Iz.__theme?Dz?"bs3"===Dz:"bs3"===(Dz=function(){if("undefined"==typeof document)return null;const e=document.createElement("span");e.innerText="test bs version",document.body.appendChild(e),e.classList.add("d-none");const t=e.getBoundingClientRect();return document.body.removeChild(e),t&&0===t.top?"bs4":"bs3"}()):"bs4"!==Iz.__theme)}class kz{static reflow(e){(e=>e)(e.offsetHeight)}static getStyles(e){let t=e.ownerDocument.defaultView;return t&&t.opener||(t=Iz),t.getComputedStyle(e)}}const Pz={},Mz="undefined"==typeof console||!("warn"in console);function Oz(e){!ys()||Mz||e in Pz||(Pz[e]=!0,console.warn(e))}Object.prototype.toString;function Rz(e,t,n,r){return i(n)&&(r=n,n=void 0),r?Rz(e,t,n).pipe(q(e=>c(e)?r(...e):r(e))):new E(r=>{!function e(t,n,r,i,s){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,r,s),o=()=>e.removeEventListener(n,r,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,r),o=()=>e.off(n,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,r),o=()=>e.removeListener(n,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],n,r,i,s)}i.add(o)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)})}const Lz=new class extends oH{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends iH{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});function Fz(e,t){if(1!==e.nodeType)return[];const n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Vz(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Bz(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:t,overflowX:n,overflowY:r}=Fz(e);return/(auto|scroll|overlay)/.test(String(t)+String(r)+String(n))?e:Bz(Vz(e))}const Uz="undefined"!=typeof window&&"undefined"!=typeof document,jz=Uz&&!(!window.MSInputMethodContext||!document.documentMode),qz=Uz&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function $z(e){return 11===e?jz:10===e?qz:jz||qz}function Hz(e){if(!e)return document.documentElement;const t=$z(10)?document.body:null;let n,r=e.offsetParent||null;for(;r===t&&e.nextElementSibling&&n!==e.nextElementSibling;)r=(n=e.nextElementSibling).offsetParent;const i=r&&r.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===Fz(r,"position")?Hz(r):r:n?n.ownerDocument.documentElement:document.documentElement}function zz(e){return null!==e.parentNode?zz(e.parentNode):e}function Wz(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;const n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);const{commonAncestorContainer:o}=s;if(e!==o&&t!==o||r.contains(i))return function(e){const{nodeName:t}=e;return"BODY"!==t&&("HTML"===t||Hz(e.firstElementChild)===e)}(o)?o:Hz(o);const a=zz(e);return a.host?Wz(a.host,t):Wz(e,zz(t).host)}function Kz(e,t){const n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e[`border${n}Width`])+parseFloat(e[`border${r}Width`])}function Gz(e,t,n,r){return Math.max(t[`offset${e}`],t[`scroll${e}`],n[`client${e}`],n[`offset${e}`],n[`scroll${e}`],$z(10)?parseInt(n[`offset${e}`],10)+parseInt(r[`margin${"Height"===e?"Top":"Left"}`],10)+parseInt(r[`margin${"Height"===e?"Bottom":"Right"}`],10):0)}function Qz(e){const t=e.body,n=e.documentElement,r=$z(10)&&getComputedStyle(n);return{height:Gz("Height",t,n,r),width:Gz("Width",t,n,r)}}function Yz(e,t="top"){const n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){const t=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||t)[n]}return e[n]}function Xz(e){return Object.assign({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Jz(e){let t={};try{if($z(10)){t=e.getBoundingClientRect();const n=Yz(e,"top"),r=Yz(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(u){return}const n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?Qz(e.ownerDocument):{},i=r.width||e.clientWidth||n.right-n.left,s=r.height||e.clientHeight||n.bottom-n.top;let o=e.offsetWidth-i,a=e.offsetHeight-s;if(o||a){const t=Fz(e);o-=Kz(t,"x"),a-=Kz(t,"y"),n.width-=o,n.height-=a}return Xz(n)}function Zz(e,t,n=!1){const r=$z(10),i="HTML"===t.nodeName,s=Jz(e),o=Jz(t),a=Bz(e),u=Fz(t),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));let h=Xz({top:s.top-o.top-c,left:s.left-o.left-l,width:s.width,height:s.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){const e=parseFloat(u.marginTop),t=parseFloat(u.marginLeft);h.top-=c-e,h.bottom-=c-e,h.left-=l-t,h.right-=l-t,h.marginTop=e,h.marginLeft=t}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(h=function(e,t,n=!1){const r=Yz(t,"top"),i=Yz(t,"left"),s=n?-1:1;return e.top+=r*s,e.bottom+=r*s,e.left+=i*s,e.right+=i*s,e}(h,t)),h}function eW(e){if(!e||!e.parentElement||$z())return document.documentElement;let t=e.parentElement;for(;t&&"none"===Fz(t,"transform");)t=t.parentElement;return t||document.documentElement}function tW(e,t,n=0,r,i=!1){let s={top:0,left:0};const o=i?eW(e):Wz(e,t);if("viewport"===r)s=function(e,t=!1){const n=e.ownerDocument.documentElement,r=Zz(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:Yz(n),a=t?0:Yz(n,"left");return Xz({top:o-Number(r.top)+Number(r.marginTop),left:a-Number(r.left)+Number(r.marginLeft),width:i,height:s})}(o,i);else{let n;"scrollParent"===r?"BODY"===(n=Bz(Vz(t))).nodeName&&(n=e.ownerDocument.documentElement):n="window"===r?e.ownerDocument.documentElement:r;const a=Zz(n,o,i);if("HTML"!==n.nodeName||function e(t){const n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===Fz(t,"position")||e(Vz(t)))}(o))s=a;else{const{height:t,width:n}=Qz(e.ownerDocument);s.top+=a.top-a.marginTop,s.bottom=Number(t)+Number(a.top),s.left+=a.left-a.marginLeft,s.right=Number(n)+Number(a.left)}}return s.left+=n,s.top+=n,s.right-=n,s.bottom-=n,s}function nW({width:e,height:t}){return e*t}function rW(e,t,n,r,i=["top","bottom","right","left"],s="viewport",o=0){if(-1===e.indexOf("auto"))return e;const a=tW(n,r,o,s),u={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(u).map(e=>Object.assign({key:e},u[e],{area:nW(u[e])})).sort((e,t)=>t.area-e.area);let l=c.filter(({width:e,height:t})=>e>=n.clientWidth&&t>=n.clientHeight);const h=(l=l.filter(e=>i.some(t=>t===e.key))).length>0?l[0].key:c[0].key,p=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${h}`),h+(p?`-${p}`:"")}function iW(e){const t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:Number(e.offsetWidth)+r,height:Number(e.offsetHeight)+n}}function sW(e,t,n=null){return Zz(t,n?eW(e):Wz(e,t),n)}function oW(e,t,n){const r=n.split(" ")[0],i=iW(e),s={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(r),a=o?"top":"left",u=o?"left":"top",c=o?"height":"width",l=o?"width":"height";return s[a]=t[a]+t[c]/2-i[c]/2,s[u]=r===u?t[u]-i[l]:t[function(e){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,e=>t[e])}(u)],s}function aW(e,t){return e&&e.modifiers&&e.modifiers[t]&&e.modifiers[t].enabled}function uW(e,t,n){Object.keys(t).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}(t[r])&&(i="px"),n?n.setStyle(e,r,`${String(t[r])}${i}`):e.style[r]=String(t[r])+i})}function cW(e){let t=e.offsets.target;const n=e.instance.target.querySelector(".arrow");if(!n)return e;const r=-1!==["left","right"].indexOf(e.placement),i=r?"height":"width",s=r?"Top":"Left",o=s.toLowerCase(),a=r?"left":"top",u=r?"bottom":"right",c=iW(n)[i];e.offsets.host[u]-c<t[o]&&(t[o]-=t[o]-(e.offsets.host[u]-c)),Number(e.offsets.host[o])+Number(c)>t[u]&&(t[o]+=Number(e.offsets.host[o])+Number(c)-Number(t[u])),t=Xz(t);const l=Number(e.offsets.host[o])+Number(e.offsets.host[i]/2-c/2),h=Fz(e.instance.target),p=parseFloat(h[`margin${s}`]),d=parseFloat(h[`border${s}Width`]);let f=l-t[o]-p-d;return f=Math.max(Math.min(t[i]-c,f),0),e.offsets.arrow={[o]:Math.round(f),[a]:""},e.instance.arrow=n,e}function lW(e){if(e.offsets.target=Xz(e.offsets.target),!aW(e.options,"flip"))return e.offsets.target=Object.assign({},e.offsets.target,oW(e.instance.target,e.offsets.host,e.placement)),e;const t=tW(e.instance.target,e.instance.host,0,"viewport",!1);let n=e.placement.split(" ")[0],r=e.placement.split(" ")[1]||"";const i=rW("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),s=[n,i];return s.forEach((i,o)=>{if(n!==i||s.length===o+1)return e;const a="left"===(n=e.placement.split(" ")[0])&&Math.floor(e.offsets.target.right)>Math.floor(e.offsets.host.left)||"right"===n&&Math.floor(e.offsets.target.left)<Math.floor(e.offsets.host.right)||"top"===n&&Math.floor(e.offsets.target.bottom)>Math.floor(e.offsets.host.top)||"bottom"===n&&Math.floor(e.offsets.target.top)<Math.floor(e.offsets.host.bottom),u=Math.floor(e.offsets.target.left)<Math.floor(t.left),c=Math.floor(e.offsets.target.right)>Math.floor(t.right),l=Math.floor(e.offsets.target.top)<Math.floor(t.top),h=Math.floor(e.offsets.target.bottom)>Math.floor(t.bottom),p="left"===n&&u||"right"===n&&c||"top"===n&&l||"bottom"===n&&h,d=-1!==["top","bottom"].indexOf(n),f=d&&"left"===r&&u||d&&"right"===r&&c||!d&&"left"===r&&l||!d&&"right"===r&&h;(a||p||f)&&((a||p)&&(n=s[o+1]),f&&(r=function(e){return"right"===e?"left":"left"===e?"right":e}(r)),e.placement=n+(r?` ${r}`:""),e.offsets.target=Object.assign({},e.offsets.target,oW(e.instance.target,e.offsets.host,e.placement)))}),e}function hW(e){if(!aW(e.options,"preventOverflow"))return e;const t="transform",n=e.instance.target.style,{top:r,left:i,[t]:s}=n;n.top="",n.left="",n[t]="";const o=tW(e.instance.target,e.instance.host,0,"scrollParent",!1);n.top=r,n.left=i,n[t]=s;const a={primary(t){let n=e.offsets.target[t];return e.offsets.target[t]<o[t]&&(n=Math.max(e.offsets.target[t],o[t])),{[t]:n}},secondary(t){const n="right"===t?"left":"top";let r=e.offsets.target[n];return e.offsets.target[t]>o[t]&&(r=Math.min(e.offsets.target[n],o[t]-("right"===t?e.offsets.target.width:e.offsets.target.height))),{[n]:r}}};let u;return["left","right","top","bottom"].forEach(t=>{u=-1!==["left","top"].indexOf(t)?"primary":"secondary",e.offsets.target=Object.assign({},e.offsets.target,a[u](t))}),e}function pW(e){const t=e.placement,n=t.split(" ")[0],r=t.split(" ")[1];if(r){const{host:t,target:i}=e.offsets,s=-1!==["bottom","top"].indexOf(n),o=s?"left":"top",a=s?"width":"height",u={start:{[o]:t[o]},end:{[o]:t[o]+t[a]-i[a]}};e.offsets.target=Object.assign({},i,u[r])}return e}const dW=new class{position(e,t,n=!0){return this.offset(e,t,!1)}offset(e,t,n=!0){return sW(t,e)}positionElements(e,t,n,r,i){return[lW,pW,hW,cW].reduce((e,t)=>t(e),function(e,t,n,r){const i=sW(e,t);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*\s*(start|end)*$/)||(n="auto");const s=!!n.match(/auto/g);let o=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n;return{options:r,instance:{target:e,host:t,arrow:null},offsets:{target:oW(e,i,o),host:i,arrow:null},positionFixed:!1,placement:o=rW(o,i,e,t,r?r.allowedPositions:void 0),placementAuto:s}}(t,e,n,i))}};function fW(e,t,n,r,i,s){const o=dW.positionElements(e,t,n,r,i),a=function(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left),top:Math.round(e.offsets.target.top),bottom:Math.round(e.offsets.target.bottom),right:Math.floor(e.offsets.target.right)}}(o);uW(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&uW(o.instance.arrow,o.offsets.arrow,s),function(e,t){const n=e.instance.target;let r=n.className;e.placementAuto&&(-1!==(r=(r=(r=r.replace(/bs-popover-auto/g,`bs-popover-${e.placement}`)).replace(/bs-tooltip-auto/g,`bs-tooltip-${e.placement}`)).replace(/\sauto/g,` ${e.placement}`)).indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom/g,`${e.placement.split(" ")[0]}`),t?t.setAttribute(n,"class",r):n.className=r}(o,s)}class mW{constructor(e,t,n){this.update$$=new A,this.positionElements=new Map,this.isDisabled=!1,function(e){return e===EV}(n)&&e.runOutsideAngular(()=>{this.triggerEvent$=J(Rz(window,"scroll",{passive:!0}),Rz(window,"resize",{passive:!0}),fU(0,Lz),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(e=>{fW(gW(e.target),gW(e.element),e.attachment,e.appendToBody,this.options,t.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(gW(e.element),e)}calcPosition(){this.update$$.next()}deletePositionElement(e){this.positionElements.delete(gW(e))}setOptions(e){this.options=e}}function gW(e){return"string"==typeof e?document.querySelector(e):e instanceof Tp?e.nativeElement:e}mW.decorators=[{type:ju}],mW.ctorParameters=()=>[{type:Fv},{type:Ap},{type:Number,decorators:[{type:me,args:[pv]}]}];class vW{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}class yW{constructor(e,t,n,r,i,s,o,a){this._viewContainerRef=e,this._renderer=t,this._elementRef=n,this._injector=r,this._componentFactoryResolver=i,this._ngZone=s,this._applicationRef=o,this._posService=a,this.onBeforeShow=new Eg,this.onShown=new Eg,this.onBeforeHide=new Eg,this.onHidden=new Eg,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=Qu.create({providers:this._providers,parent:this._injector});if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof Tp&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){(document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector)).appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef.nativeElement;const t=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),n=this._listenOpts.show=t=>{e.show?e.show(t):this.show(t),t()};return this._unregisterListenersFn=function(e,t){const n=xz(t.triggers),r=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],s=[],o=()=>{s.forEach(e=>i.push(e())),s.length=0};return n.forEach(n=>{const a=n.open===n.close,u=a?t.toggle:t.show;a||s.push(()=>e.listen(r,n.close,t.hide)),i.push(e.listen(r,n.open,()=>u(o)))}),()=>{i.forEach(e=>e())}}(this._renderer,{target:e.target,triggers:e.triggers,show:n,hide:t,toggle:e=>{this.isShown?t():n(e)}}),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=null)}attachInline(e,t){return this._inlineViewRef=e.createEmbeddedView(t),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._globalListener=function(e,t){return t.outsideClick?e.listen("document","click",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide()})})}if(this._listenOpts.outsideEsc){const n=this._componentRef.location.nativeElement;this._globalListener=(e=this._renderer,(t={targets:[n,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide()}).outsideEsc?e.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(t=>t.contains(e.target))||t.hide()}):Function.prototype)}var e,t}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}_getContentRef(e,t,n){if(!e)return new vW([]);if(e instanceof Yp){if(this._viewContainerRef){const n=this._viewContainerRef.createEmbeddedView(e,t);return n.markForCheck(),new vW([n.rootNodes],n)}const n=e.createEmbeddedView({});return this._applicationRef.attachView(n),new vW([n.rootNodes],n)}if("function"==typeof e){const t=this._componentFactoryResolver.resolveComponentFactory(e),r=Qu.create({providers:this._providers,parent:this._injector}),i=t.create(r);return Object.assign(i.instance,n),this._applicationRef.attachView(i.hostView),new vW([[i.location.nativeElement]],i.hostView,i)}return new vW([[this._renderer.createText(`${e}`)]])}}class wW{constructor(e,t,n,r,i){this._componentFactoryResolver=e,this._ngZone=t,this._injector=n,this._posService=r,this._applicationRef=i}createLoader(e,t,n){return new yW(t,n,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}wW.decorators=[{type:ju}],wW.ctorParameters=()=>[{type:_p},{type:Fv},{type:Qu},{type:mW},{type:ny}];class bW{}function _W(e){return{type:6,styles:e,offset:null}}class EW{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1}}EW.decorators=[{type:ju}];class SW{constructor(){this.direction="down",this.isOpenChange=new Eg,this.isDisabledChange=new Eg,this.toggleClick=new Eg,this.dropdownMenu=new Promise(e=>{this.resolveDropdownMenu=e})}}SW.decorators=[{type:ju}],SW.ctorParameters=()=>[];const CW=[_W({height:0,overflow:"hidden"}),function(e,t=null){return{type:4,styles:t,timings:e}}("220ms cubic-bezier(0, 0, 0.2, 1)",_W({height:"*",overflow:"hidden"}))];class TW{constructor(e,t,n,r,i){this._state=e,this.cd=t,this._renderer=n,this._element=r,this.isOpen=!1,this._factoryDropDownAnimation=i.build(CW),this._subscription=e.isOpenChange.subscribe(e=>{this.isOpen=e;const t=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),t&&!Nz()&&(this._renderer.addClass(t,"show"),t.classList.contains("dropdown-menu-right")&&(this._renderer.setStyle(t,"left","auto"),this._renderer.setStyle(t,"right","0")),"up"===this.direction&&(this._renderer.setStyle(t,"top","auto"),this._renderer.setStyle(t,"transform","translateY(-101%)"))),t&&this._state.isAnimated&&this._factoryDropDownAnimation.create(t).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(e){return this._element.nativeElement.contains(e)}ngOnDestroy(){this._subscription.unsubscribe()}}TW.decorators=[{type:Qg,args:[{selector:"bs-dropdown-container",changeDetection:mt.OnPush,host:{style:"display:block;position: absolute;"},template:'\n    <div [class.dropup]="direction === \'up\'"\n         [class.dropdown]="direction === \'down\'"\n         [class.show]="isOpen"\n         [class.open]="isOpen"><ng-content></ng-content>\n    </div>\n  '}]}],TW.ctorParameters=()=>[{type:SW},{type:xu},{type:Np},{type:Tp},{type:bW}];class xW{constructor(e,t,n,r,i,s,o){this._elementRef=e,this._renderer=t,this._viewContainerRef=n,this._cis=r,this._state=i,this._config=s,this._isInlineOpen=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._factoryDropDownAnimation=o.build(CW),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:SW,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(e){this._state.autoClose=e}get autoClose(){return this._state.autoClose}set isAnimated(e){this._state.isAnimated=e}get isAnimated(){return this._state.isAnimated}set insideClick(e){this._state.insideClick=e}get insideClick(){return this._state.insideClick}set isDisabled(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(e){e?this.show():this.hide()}get isBs4(){return!Nz()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(e=>this.toggle(e))),this._subscriptions.push(this._state.isDisabledChange.pipe(SU(e=>e)).subscribe(e=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled)return this._showInline?(this._inlinedMenu||this._state.dropdownMenu.then(e=>{this._dropdown.attachInline(e.viewContainer,e.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation()):void this._state.dropdownMenu.then(e=>{const t=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=t?"up":"down";const n=this.placement||(t?"top start":"bottom start");this._dropdown.attach(TW).to(this.container).position({attachment:n}).show({content:e.templateRef,placement:n}),this._state.isOpenChange.emit(!0)}).catch()}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(e){return this.isOpen||!e?this.hide():this.show()}_contains(e){return this._elementRef.nativeElement.contains(e.target)||this._dropdown.instance&&this._dropdown.instance._contains(e.target)}ngOnDestroy(){for(const e of this._subscriptions)e.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){Nz()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}xW.decorators=[{type:Gg,args:[{selector:"[bsDropdown],[dropdown]",exportAs:"bs-dropdown",providers:[SW],host:{"[class.dropup]":"dropup","[class.open]":"isOpen","[class.show]":"isOpen && isBs4"}}]}],xW.ctorParameters=()=>[{type:Tp},{type:Np},{type:Jp},{type:wW},{type:SW},{type:EW},{type:bW}],xW.propDecorators={placement:[{type:Xg}],triggers:[{type:Xg}],container:[{type:Xg}],dropup:[{type:Xg}],autoClose:[{type:Xg}],isAnimated:[{type:Xg}],insideClick:[{type:Xg}],isDisabled:[{type:Xg}],isOpen:[{type:Xg}],isOpenChange:[{type:Jg}],onShown:[{type:Jg}],onHidden:[{type:Jg}]};class IW{constructor(e,t,n){e.resolveDropdownMenu({templateRef:n,viewContainer:t})}}IW.decorators=[{type:Gg,args:[{selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:"bs-dropdown-menu"}]}],IW.ctorParameters=()=>[{type:SW},{type:Jp},{type:Yp}];class AW{constructor(e,t,n,r,i){this._changeDetectorRef=e,this._dropdown=t,this._element=n,this._renderer=r,this._state=i,this.isDisabled=null,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(e=>{this.isOpen=e,e?(this._documentClickListener=this._renderer.listen("document","click",e=>{!this._state.autoClose||2===e.button||this._element.nativeElement.contains(e.target)||this._state.insideClick&&this._dropdown._contains(e)||(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener(),this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(e=>this.isDisabled=e||null))}onClick(){this.isDisabled||this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const e of this._subscriptions)e.unsubscribe()}}AW.decorators=[{type:Gg,args:[{selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:"bs-dropdown-toggle",host:{"[attr.aria-haspopup]":"true"}}]}],AW.ctorParameters=()=>[{type:xu},{type:xW},{type:Tp},{type:Np},{type:SW}],AW.propDecorators={isDisabled:[{type:Zg,args:["attr.disabled"]}],isOpen:[{type:Zg,args:["attr.aria-expanded"]}],onClick:[{type:ev,args:["click",[]]}]};class DW{static forRoot(e){return{ngModule:DW,providers:[wW,mW,SW,{provide:EW,useValue:e||{autoClose:!0,insideClick:!1}}]}}}function NW(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}DW.decorators=[{type:iv,args:[{declarations:[IW,AW,TW,xW],exports:[IW,AW,xW],entryComponents:[TW]}]}];class kW{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}kW.decorators=[{type:ju}];class PW{constructor(e){Object.assign(this,e)}get isBs3(){return Nz()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.classMap[this.placement]=!0,this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}PW.decorators=[{type:Qg,args:[{selector:"bs-tooltip-container",changeDetection:mt.OnPush,host:{"[class]":'"tooltip in tooltip-" + placement + " " + "bs-tooltip-" + placement + " " + placement + " " + containerClass',"[class.show]":"!isBs3","[class.bs3]":"isBs3","[attr.id]":"this.id",role:"tooltip"},template:'\n    <div class="tooltip-arrow arrow"></div>\n    <div class="tooltip-inner"><ng-content></ng-content></div>\n    ',styles:["\n    :host.tooltip {\n      display: block;\n      pointer-events: none;\n    }\n    :host.bs3.tooltip.top>.arrow {\n      margin-left: -2px;\n    }\n    :host.bs3.tooltip.bottom {\n      margin-top: 0px;\n    }\n    :host.bs3.bs-tooltip-left, :host.bs3.bs-tooltip-right{\n      margin: 0px;\n    }\n    :host.bs3.bs-tooltip-right .arrow, :host.bs3.bs-tooltip-left .arrow {\n      margin: .3rem 0;\n    }\n  "]}]}],PW.ctorParameters=()=>[{type:kW}];let MW=0;class OW{constructor(e,t,n,r,i,s){this._elementRef=r,this._renderer=i,this._positionService=s,this.tooltipId=MW++,this.tooltipChange=new Eg,this.containerClass="",this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.ariaDescribedby=`tooltip-${this.tooltipId}`,this.tooltipStateChanged=new Eg,this._tooltip=t.createLoader(this._elementRef,e,this._renderer).provide({provide:kW,useValue:n}),Object.assign(this,n),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(e){e?this.show():this.hide()}set htmlContent(e){Oz("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=e}set _placement(e){Oz("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=e}set _isOpen(e){Oz("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=e}get _isOpen(){return Oz("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(e){Oz("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!e}get _enable(){return Oz("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(e){Oz('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=e?"body":this.container}get _appendToBody(){return Oz('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(e){Oz("tooltipClass deprecated")}set _tooltipContext(e){Oz("tooltipContext deprecated")}set _tooltipPopupDelay(e){Oz("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=e}get _tooltipTrigger(){return Oz("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(e){Oz("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(e||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(e=>{e||this._tooltip.hide()})}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const e=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(PW).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:this.ariaDescribedby})},t=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};if(this.delay){const n=function(e=0,t,n){let r=-1;return dH(t)?r=Number(t)<1?1:Number(t):N(t)&&(n=t),N(n)||(n=uH),new E(t=>{const i=dH(e)?e:+e-n.now();return n.schedule(NW,i,{index:0,period:r,subscriber:t})})}(this.delay).subscribe(()=>{e(),t()});this.triggers&&xz(this.triggers).forEach(e=>{this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,e.close,()=>{n.unsubscribe(),t()})})}else e()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance.classMap.in=!1,setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose()}}OW.decorators=[{type:Gg,args:[{selector:"[tooltip], [tooltipHtml]",exportAs:"bs-tooltip"}]}],OW.ctorParameters=()=>[{type:Jp},{type:wW},{type:kW},{type:Tp},{type:Np},{type:mW}],OW.propDecorators={adaptivePosition:[{type:Xg}],tooltip:[{type:Xg}],tooltipChange:[{type:Jg}],placement:[{type:Xg}],triggers:[{type:Xg}],container:[{type:Xg}],containerClass:[{type:Xg}],isOpen:[{type:Xg}],isDisabled:[{type:Xg}],delay:[{type:Xg}],onShown:[{type:Jg}],onHidden:[{type:Jg}],htmlContent:[{type:Xg,args:["tooltipHtml"]}],_placement:[{type:Xg,args:["tooltipPlacement"]}],_isOpen:[{type:Xg,args:["tooltipIsOpen"]}],_enable:[{type:Xg,args:["tooltipEnable"]}],_appendToBody:[{type:Xg,args:["tooltipAppendToBody"]}],tooltipAnimation:[{type:Xg}],_popupClass:[{type:Xg,args:["tooltipClass"]}],_tooltipContext:[{type:Xg,args:["tooltipContext"]}],_tooltipPopupDelay:[{type:Xg,args:["tooltipPopupDelay"]}],tooltipFadeDuration:[{type:Xg}],_tooltipTrigger:[{type:Xg,args:["tooltipTrigger"]}],ariaDescribedby:[{type:Zg,args:["attr.aria-describedby"]}],tooltipStateChanged:[{type:Jg}]},Object(r.__decorate)([function(e,t){const n=` __${t}Value`;Object.defineProperty(e,t,{get(){return this[n]},set(e){const r=this[n];this[n]=e,r!==e&&this[t+"Change"]&&this[t+"Change"].emit(e)}})},Object(r.__metadata)("design:type",Object)],OW.prototype,"tooltip",void 0);class RW{static forRoot(){return{ngModule:RW,providers:[kW,wW,mW]}}}RW.decorators=[{type:iv,args:[{imports:[wV],declarations:[OW,PW],exports:[OW],entryComponents:[PW]}]}];class LW{constructor(){this.hide=Function,this.setClass=Function}}LW.decorators=[{type:ju}];class FW{}FW.decorators=[{type:ju}];const VW={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},BW={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"},UW={MODAL:300,BACKDROP:150},jW={BACKRDOP:"backdrop-click",ESC:"esc"};class qW{constructor(e,t,n){this._element=t,this._renderer=n,this.isShown=!1,this.isModalHiding=!1,this.config=Object.assign({},e)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,BW.FADE),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Nz()?BW.IN:BW.SHOW)},this.isAnimated?UW.BACKDROP:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,BW.OPEN)),this._element.nativeElement&&this._element.nativeElement.focus()}onClick(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||(this.bsModalService.setDismissReason(jW.BACKRDOP),this.hide())}onEsc(e){this.isShown&&(27!==e.keyCode&&"Escape"!==e.key||e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason(jW.ESC),this.hide()))}ngOnDestroy(){this.isShown&&this.hide()}hide(){!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Nz()?BW.IN:BW.SHOW),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService.getModalsCount()&&this._renderer.removeClass(document.body,BW.OPEN),this.bsModalService.hide(this.level),this.isModalHiding=!1},this.isAnimated?UW.MODAL:0))}}qW.decorators=[{type:Qg,args:[{selector:"modal-container",template:"\n    <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\n      <div class=\"modal-content\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  ",host:{class:"modal",role:"dialog",tabindex:"-1","[attr.aria-modal]":"true"}}]}],qW.ctorParameters=()=>[{type:FW},{type:Tp},{type:Np}],qW.propDecorators={onClick:[{type:ev,args:["click",["$event"]]}],onEsc:[{type:ev,args:["window:keydown.esc",["$event"]]}]};class $W{constructor(e,t){this._isShown=!1,this.element=e,this.renderer=t}get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,`${BW.IN}`):this.renderer.removeClass(this.element.nativeElement,`${BW.IN}`),Nz()||(e?this.renderer.addClass(this.element.nativeElement,`${BW.SHOW}`):this.renderer.removeClass(this.element.nativeElement,`${BW.SHOW}`))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,`${BW.FADE}`),kz.reflow(this.element.nativeElement)),this.isShown=!0}}$W.decorators=[{type:Qg,args:[{selector:"bs-modal-backdrop",template:" ",host:{class:BW.BACKDROP}}]}],$W.ctorParameters=()=>[{type:Tp},{type:Np}];const HW=300,zW=150;class WW{constructor(e,t,n,r){this._element=e,this._renderer=n,this.onShow=new Eg,this.onShown=new Eg,this.onHide=new Eg,this.onHidden=new Eg,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this._backdrop=r.createLoader(e,t,n)}set config(e){this._config=this.getConfig(e)}get config(){return this._config}get isShown(){return this._isShown}onClick(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||(this.dismissReason=jW.BACKRDOP,this.hide(e))}onEsc(e){this._isShown&&(27!==e.keyCode&&"Escape"!==e.key||e.preventDefault(),this.config.keyboard&&(this.dismissReason=jW.ESC,this.hide()))}ngOnDestroy(){this.config=void 0,this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=null,this.onShow.emit(this),this._isShown||(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),Az&&Az.body&&(Az.body.classList.contains(BW.OPEN)?this.isNested=!0:this._renderer.addClass(Az.body,BW.OPEN)),this.showBackdrop(()=>{this.showElement()}))}hide(e){e&&e.preventDefault(),this.onHide.emit(this),this._isShown&&(Iz.clearTimeout(this.timerHideModal),Iz.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,BW.IN),Nz()||this._renderer.removeClass(this._element.nativeElement,BW.SHOW),this._config.animated?this.timerHideModal=Iz.setTimeout(()=>this.hideModal(),HW):this.hideModal())}getConfig(e){return Object.assign({},VW,e)}showElement(){this._element.nativeElement.parentNode&&this._element.nativeElement.parentNode.nodeType===Node.ELEMENT_NODE||Az&&Az.body&&Az.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&kz.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,BW.IN),Nz()||this._renderer.addClass(this._element.nativeElement,BW.SHOW);const e=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(e,HW):e()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(Az&&Az.body&&this._renderer.removeClass(Az.body,BW.OPEN),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(e){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const t=()=>{this.removeBackdrop(),e&&e()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=Iz.setTimeout(t,zW):t()}else e&&e();else{if(this.removeBackdrop(),this._backdrop.attach($W).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!e)return;if(!this._config.animated)return void e();setTimeout(e,zW)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const e=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");e.length&&e[e.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=Az.body.clientWidth<Iz.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){Az&&(this.originalBodyPadding=parseInt(Iz.getComputedStyle(Az.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(Az.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){Az.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.addClass(e,BW.SCROLLBAR_MEASURER),this._renderer.appendChild(Az.body,e);const t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(Az.body,e),t}}WW.decorators=[{type:Gg,args:[{selector:"[bsModal]",exportAs:"bs-modal"}]}],WW.ctorParameters=()=>[{type:Tp},{type:Jp},{type:Np},{type:wW}],WW.propDecorators={config:[{type:Xg}],onShow:[{type:Jg}],onShown:[{type:Jg}],onHide:[{type:Jg}],onHidden:[{type:Jg}],onClick:[{type:ev,args:["click",["$event"]]}],onEsc:[{type:ev,args:["keydown.esc",["$event"]]}]};class KW{constructor(e,t){this.clf=t,this.config=VW,this.onShow=new Eg,this.onShown=new Eg,this.onHide=new Eg,this.onHidden=new Eg,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason="",this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=e.createRenderer(null,null)}show(e,t){return this.modalsCount++,this._createLoaders(),this.config=Object.assign({},VW,t),this._showBackdrop(),this.lastDismissReason=null,this._showModal(e)}hide(e){1===this.modalsCount&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?UW.BACKDROP:0)}_showBackdrop(){const e=this.config.backdrop||"static"===this.config.backdrop,t=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&t&&(this._backdropLoader.attach($W).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){if(!this.backdropRef)return;this.backdropRef.instance.isShown=!1;const e=this.config.animated?UW.BACKDROP:0;setTimeout(()=>this.removeBackdrop(),e)}_showModal(e){const t=this.loaders[this.loaders.length-1],n=new LW,r=t.provide({provide:FW,useValue:this.config}).provide({provide:LW,useValue:n}).attach(qW).to("body").show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this});return r.instance.level=this.getModalsCount(),n.hide=()=>{r.instance.hide()},n.content=t.getInnerComponent()||null,n.setClass=e=>{r.instance.config.class=e},n}_hideModal(e){const t=this.loaders[e-1];t&&t.hide()}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._backdropLoader.hide(),this.backdropRef=null}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.addClass(e,BW.SCROLLBAR_MEASURER),this._renderer.appendChild(document.body,e);const t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(document.body,e),t}_createLoaders(){const e=this.clf.createLoader(null,null,null);this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){this.loaders.splice(e-1,1),this.loaders.forEach((e,t)=>{e.instance.level=t+1})}copyEvent(e,t){e.subscribe(()=>{t.emit(this.lastDismissReason)})}}KW.decorators=[{type:ju}],KW.ctorParameters=()=>[{type:Ap},{type:wW}];class GW{static forRoot(){return{ngModule:GW,providers:[KW,wW,mW]}}}GW.decorators=[{type:iv,args:[{declarations:[$W,WW,qW],exports:[$W,WW],entryComponents:[$W,qW]}]}];var QW;n("6Joi");let YW=QW=class{static enablePersistence(e){return{ngModule:QW,providers:[{provide:nz,useValue:!0},{provide:rz,useValue:e}]}}};YW=QW=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}([iv({providers:[pz]})],YW);var XW=n("wj3C"),JW=n.n(XW);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];o in i||(i[o]={}),i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function s(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=n.setTimeout;r.prototype.c=function(e){o(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new r;return t.prototype.o=function(e){var t=this.f();e.La(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){s(n)}}:t}var i,s,o=new t((function(e,t){i=e,s=t}));return this.La(r(e,i),r(n,s)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.La=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=s,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),o=r.next();!o.done;o=r.next())s(o.value).La(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?s([]):new t((function(e,t){function i(t){return function(n){o[t]=n,0==--a&&e(o)}}var o=[],a=0;do{o.push(void 0),a++,s(r.value).La(i(o.length-1),t),r=n.next()}while(!r.done)}))},t}));var s=s||{},o=this||self;function a(e){return"string"==typeof e}function u(e){return"boolean"==typeof e}var c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(){}function p(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function d(e){return null===e}function f(e){return"array"==p(e)}function m(e){var t=p(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==p(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var y="closure_uid_"+(1e9*Math.random()>>>0),w=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var C=Date.now||function(){return+new Date};function T(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function x(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function I(e){if(Error.captureStackTrace)Error.captureStackTrace(this,I);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function A(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");I.call(this,n+e[r])}function D(e,t){throw new A("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function N(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function k(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function P(){this.b=this.a=null}T(I,Error),I.prototype.name="CustomError",T(A,I),A.prototype.name="AssertionError",N.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var M=new N((function(){return new R}),(function(e){e.reset()}));function O(){var e=qe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function R(){this.next=this.b=this.a=null}function L(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||o).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var s=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){s="<object could not be stringified>"}else s=void 0===e?"undefined":null===e?"null":typeof e;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,s)}}P.prototype.add=function(e,t){var n=M.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},R.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},R.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(a(e))return a(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},V=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=a(e)?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};var B=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=a(e)?e.split(""):e,s=0;s<n;s++)s in i&&(r[s]=t.call(void 0,i[s],s,e));return r},U=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function j(e,t){return 0<=F(e,t)}function q(e,t){var n;return(n=0<=(t=F(e,t)))&&Array.prototype.splice.call(e,t,1),n}function $(e,t){!function(e,t){for(var n=a(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function H(e){return Array.prototype.concat.apply([],arguments)}function z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function W(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function K(e){for(var t in e)return!1;return!0}function G(e){var t,n={};for(t in e)n[t]=e[t];return n}var Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<Q.length;s++)n=Q[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function X(e,t){this.a=e===ee&&t||"",this.b=Z}function J(e){return e instanceof X&&e.constructor===X&&e.b===Z?e.a:(D("expected object of type Const, got '"+e+"'"),"type_error:Const")}X.prototype.qa=!0,X.prototype.pa=function(){return this.a},X.prototype.toString=function(){return"Const{"+this.a+"}"};var Z={},ee={},te=new X(ee,"");function ne(){this.a="",this.b=ae}function re(e){return e instanceof ne&&e.constructor===ne&&e.b===ae?e.a:(D("expected object of type TrustedResourceUrl, got '"+e+"' of type "+p(e)),"type_error:TrustedResourceUrl")}function ie(e,t){var n=J(e);if(!oe.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ue(e=n.replace(se,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof X?J(e):encodeURIComponent(String(e))})))}ne.prototype.qa=!0,ne.prototype.pa=function(){return this.a.toString()},ne.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var se=/%{(\w+)}/g,oe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ae={};function ue(e){var t=new ne;return t.a=e,t}var ce=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},le=/&/g,he=/</g,pe=/>/g,de=/"/g,fe=/'/g,me=/\x00/g,ge=/[\x00&<>"']/;function ve(e,t){return-1!=e.indexOf(t)}function ye(e,t){return e<t?-1:e>t?1:0}function we(){this.a="",this.b=Ce}function be(e){return e instanceof we&&e.constructor===we&&e.b===Ce?e.a:(D("expected object of type SafeUrl, got '"+e+"' of type "+p(e)),"type_error:SafeUrl")}we.prototype.qa=!0,we.prototype.pa=function(){return this.a.toString()},we.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var _e=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ee(e){return e instanceof we?e:(e="object"==typeof e&&e.qa?e.pa():String(e),_e.test(e)||(e="about:invalid#zClosurez"),Te(e))}var Se,Ce={};function Te(e){var t=new we;return t.a=e,t}Te("about:blank");e:{var xe=o.navigator;if(xe){var Ie=xe.userAgent;if(Ie){Se=Ie;break e}}Se=""}function Ae(e){return ve(Se,e)}function De(){this.a="",this.b=ke}function Ne(e){return e instanceof De&&e.constructor===De&&e.b===ke?e.a:(D("expected object of type SafeHtml, got '"+e+"' of type "+p(e)),"type_error:SafeHtml")}De.prototype.qa=!0,De.prototype.pa=function(){return this.a.toString()},De.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ke={};function Pe(e){var t=new De;return t.a=e,t}Pe("<!DOCTYPE html>");var Me,Oe,Re=Pe("");function Le(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Fe(e){return ge.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(le,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(he,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(pe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(de,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(fe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(me,"&#0;"))),e}function Ve(e){o.setTimeout((function(){throw e}),0)}function Be(){var e=o.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ae("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=ue(J(te));L(e,"HTMLIFrameElement"),e.src=re(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(Ne(Re)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!Ae("Trident")&&!Ae("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){o.setTimeout(e,0)}}function Ue(e,t){Oe||function(){if(o.Promise&&o.Promise.resolve){var e=o.Promise.resolve(void 0);Oe=function(){e.then($e)}}else Oe=function(){var e=$e;!g(o.setImmediate)||o.Window&&o.Window.prototype&&!Ae("Edge")&&o.Window.prototype.setImmediate==o.setImmediate?(Me||(Me=Be()),Me(e)):o.setImmediate(e)}}(),je||(Oe(),je=!0),qe.add(e,t)}Pe("<br>");var je=!1,qe=new P;function $e(){for(var e;e=O();){try{e.a.call(e.b)}catch(t){Ve(t)}k(M,e)}je=!1}function He(e,t){if(this.a=ze,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){rt(n,We,e)}),(function(e){if(!(e instanceof lt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}rt(n,Ke,e)}))}catch(r){rt(this,Ke,r)}}var ze=0,We=2,Ke=3;function Ge(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ge.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Qe=new N((function(){return new Ge}),(function(e){e.reset()}));function Ye(e,t,n){var r=Qe.get();return r.g=e,r.b=t,r.f=n,r}function Xe(e){if(e instanceof He)return e;var t=new He(h);return rt(t,We,e),t}function Je(e){return new He((function(t,n){n(e)}))}function Ze(e,t,n){it(e,t,n,null)||Ue(S(t,e))}function et(e){return new He((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,s){n--,r[e]=i?{Gb:!0,value:s}:{Gb:!1,reason:s},0==n&&t(r)},s=0;s<e.length;s++)Ze(e[s],S(i,s,!0),S(i,s,!1));else t(r)}))}function tt(e,t){e.b||e.a!=We&&e.a!=Ke||st(e),e.f?e.f.next=t:e.b=t,e.f=t}function nt(e,t,n,r){var i=Ye(null,null,null);return i.a=new He((function(e,s){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(o){s(o)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof lt?s(t):e(i)}catch(o){s(o)}}:s})),i.a.c=e,tt(e,i),i.a}function rt(e,t,n){e.a==ze&&(e===n&&(t=Ke,n=new TypeError("Promise cannot resolve to itself")),e.a=1,it(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,st(e),t!=Ke||n instanceof lt||function(e,t){e.g=!0,Ue((function(){e.g&&ct.call(null,t)}))}(e,n)))}function it(e,t,n,r){if(e instanceof He)return tt(e,Ye(t||h,n||null,r)),!0;if(x(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(g(i))return function(e,t,n,r,i){function s(e){o||(o=!0,r.call(i,e))}var o=!1;try{t.call(e,(function(e){o||(o=!0,n.call(i,e))}),s)}catch(a){s(a)}}(e,i,t,n,r),!0}catch(s){return n.call(r,s),!0}return!1}function st(e){e.h||(e.h=!0,Ue(e.Zb,e))}function ot(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function at(e,t,n,r){if(n==Ke&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,ut(t,n,r);else try{t.c?t.g.call(t.f):ut(t,n,r)}catch(i){ct.call(null,i)}k(Qe,t)}function ut(e,t,n){t==We?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}He.prototype.then=function(e,t,n){return nt(this,g(e)?e:null,g(t)?t:null,n)},He.prototype.$goog_Thenable=!0,(e=He.prototype).ka=function(e,t){return(e=Ye(e,e,t)).c=!0,tt(this,e),this},e.s=function(e,t){return nt(this,null,e,t)},e.cancel=function(e){this.a==ze&&Ue((function(){!function e(t,n){if(t.a==ze)if(t.c){var r=t.c;if(r.b){for(var i=0,s=null,o=null,a=r.b;a&&(a.c||(i++,a.a==t&&(s=a),!(s&&1<i)));a=a.next)s||(o=a);s&&(r.a==ze&&1==i?e(r,n):(o?((i=o).next==r.f&&(r.f=i),i.next=i.next.next):ot(r),at(r,s,Ke,n)))}t.c=null}else rt(t,Ke,n)}(this,new lt(e))}),this)},e.Oc=function(e){this.a=ze,rt(this,We,e)},e.Pc=function(e){this.a=ze,rt(this,Ke,e)},e.Zb=function(){for(var e;e=ot(this);)at(this,e,this.a,this.i);this.h=!1};var ct=Ve;function lt(e){I.call(this,e)}function ht(){0!=pt&&(dt[this[y]||(this[y]=++w)]=this),this.va=this.va,this.la=this.la}T(lt,I),lt.prototype.name="cancel";var pt=0,dt={};function ft(e){if(!e.va&&(e.va=!0,e.za(),0!=pt)){var t=e[y]||(e[y]=++w);if(0!=pt&&e.la&&0<e.la.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete dt[t]}}function mt(e){return mt[" "](e),e}ht.prototype.va=!1,ht.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},mt[" "]=h;var gt,vt,yt=Ae("Opera"),wt=Ae("Trident")||Ae("MSIE"),bt=Ae("Edge"),_t=bt||wt,Et=Ae("Gecko")&&!(ve(Se.toLowerCase(),"webkit")&&!Ae("Edge"))&&!(Ae("Trident")||Ae("MSIE"))&&!Ae("Edge"),St=ve(Se.toLowerCase(),"webkit")&&!Ae("Edge");function Ct(){var e=o.document;return e?e.documentMode:void 0}e:{var Tt="",xt=(vt=Se,Et?/rv:([^\);]+)(\)|;)/.exec(vt):bt?/Edge\/([\d\.]+)/.exec(vt):wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(vt):St?/WebKit\/(\S+)/.exec(vt):yt?/(?:Version)[ \/]?(\S+)/.exec(vt):void 0);if(xt&&(Tt=xt?xt[1]:""),wt){var It=Ct();if(null!=It&&It>parseFloat(Tt)){gt=String(It);break e}}gt=Tt}var At,Dt={};function Nt(e){return function(e,t){var n=Dt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ce(String(gt)).split("."),r=ce(String(e)).split("."),i=Math.max(n.length,r.length),s=0;0==t&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=ye(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ye(0==o[2].length,0==a[2].length)||ye(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}At=o.document&&wt?Ct():void 0;var kt=Object.freeze||function(e){return e},Pt=!wt||9<=Number(At),Mt=wt&&!Nt("9"),Ot=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{o.addEventListener("test",h,t),o.removeEventListener("test",h,t)}catch(n){}return e}();function Rt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Lt(e,t){if(Rt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Et){e:{try{mt(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=a(e.pointerType)?e.pointerType:Ft[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Rt.prototype.preventDefault=function(){this.Mb=!1},T(Lt,Rt);var Ft=kt({2:"touch",3:"pen",4:"mouse"});Lt.prototype.preventDefault=function(){Lt.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Mt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Lt.prototype.f=function(){return this.a};var Vt="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function Ut(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Pa=i,this.key=++Bt,this.ta=this.Ka=!1}function jt(e){e.ta=!0,e.listener=null,e.proxy=null,e.src=null,e.Pa=null}function qt(e){this.src=e,this.a={},this.b=0}function $t(e,t){var n=t.type;n in e.a&&q(e.a[n],t)&&(jt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Ht(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ta&&s.listener==t&&s.capture==!!n&&s.Pa==r)return i}return-1}qt.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.a[s])||(e=this.a[s]=[],this.b++);var o=Ht(e,t,r,i);return-1<o?(t=e[o],n||(t.Ka=!1)):((t=new Ut(t,this.src,s,!!r,i)).Ka=n,e.push(t)),t};var zt="closure_lm_"+(1e6*Math.random()|0),Wt={};function Kt(e,t,n,r,i){if(r&&r.once)Qt(e,t,n,r,i);else if(f(t))for(var s=0;s<t.length;s++)Kt(e,t[s],n,r,i);else n=sn(n),e&&e[Vt]?an(e,t,n,v(r)?!!r.capture:!!r,i):Gt(e,t,n,!1,r,i)}function Gt(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=v(i)?!!i.capture:!!i,a=nn(e);if(a||(e[zt]=a=new qt(e)),!(n=a.add(t,n,r,o,s)).proxy){if(r=function(){var e=tn,t=Pt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ot||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function Qt(e,t,n,r,i){if(f(t))for(var s=0;s<t.length;s++)Qt(e,t[s],n,r,i);else n=sn(n),e&&e[Vt]?un(e,t,n,v(r)?!!r.capture:!!r,i):Gt(e,t,n,!0,r,i)}function Yt(e,t,n,r,i){if(f(t))for(var s=0;s<t.length;s++)Yt(e,t[s],n,r,i);else r=v(r)?!!r.capture:!!r,n=sn(n),e&&e[Vt]?(e=e.u,(t=String(t).toString())in e.a&&(-1<(n=Ht(s=e.a[t],n,r,i))&&(jt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.a[t],e.b--)))):e&&(e=nn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Ht(t,n,r,i)),(n=-1<e?t[e]:null)&&Xt(n))}function Xt(e){if("number"!=typeof e&&e&&!e.ta){var t=e.src;if(t&&t[Vt])$t(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nn(t))?($t(n,e),0==n.b&&(n.src=null,t[zt]=null)):jt(e)}}}function Jt(e){return e in Wt?Wt[e]:Wt[e]="on"+e}function Zt(e,t,n,r){var i=!0;if((e=nn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var s=t[e];s&&s.capture==n&&!s.ta&&(s=en(s,r),i=i&&!1!==s)}return i}function en(e,t){var n=e.listener,r=e.Pa||e.src;return e.Ka&&Xt(e),n.call(r,t)}function tn(e,t){if(e.ta)return!0;if(!Pt){if(!t)e:{t=["window","event"];for(var n=o,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Lt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var s=Zt(r[i],e,!0,t);n=n&&s}for(i=0;i<r.length;i++)t.b=r[i],s=Zt(r[i],e,!1,t),n=n&&s}return n}return en(e,new Lt(t,this))}function nn(e){return(e=e[zt])instanceof qt?e:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(e){return g(e)?e:(e[rn]||(e[rn]=function(t){return e.handleEvent(t)}),e[rn])}function on(){ht.call(this),this.u=new qt(this),this.Sb=this,this.Xa=null}function an(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function un(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function cn(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ta&&o.capture==n){var a=o.listener,u=o.Pa||o.src;o.Ka&&$t(e.u,o),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Mb}function ln(e,t,n){if(g(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function hn(e){var t=null;return new He((function(n,r){-1==(t=ln((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw o.clearTimeout(t),e}))}function pn(e){if(e.U&&"function"==typeof e.U)return e.U();if(a(e))return e.split("");if(m(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function dn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(m(e)||a(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function fn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fn)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function mn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];gn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)gn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function gn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(on,ht),on.prototype[Vt]=!0,on.prototype.addEventListener=function(e,t,n,r){Kt(this,e,t,n,r)},on.prototype.removeEventListener=function(e,t,n,r){Yt(this,e,t,n,r)},on.prototype.dispatchEvent=function(e){var t,n=this.Xa;if(n)for(t=[];n;n=n.Xa)t.push(n);n=this.Sb;var r=e.type||e;if(a(e))e=new Rt(e,n);else if(e instanceof Rt)e.target=e.target||n;else{var i=e;Y(e=new Rt(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.b=t[s];i=cn(o,r,!0,e)&&i}if(i=cn(o=e.b=n,r,!0,e)&&i,i=cn(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=cn(o=e.b=t[s],r,!1,e)&&i;return i},on.prototype.za=function(){if(on.qb.za.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)jt(n[r]);delete t.a[e],t.b--}}this.Xa=null},(e=fn.prototype).U=function(){mn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.X=function(){return mn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return gn(this.b,e)?this.b[e]:t},e.set=function(e,t){gn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var vn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof yn?(this.h=void 0!==t?t:e.h,wn(this,e.f),this.i=e.i,this.b=e.b,bn(this,e.l),this.c=e.c,_n(this,Un(e.a)),this.g=e.g):e&&(n=String(e).match(vn))?(this.h=!!t,wn(this,n[1]||"",!0),this.i=xn(n[2]||""),this.b=xn(n[3]||"",!0),bn(this,n[4]),this.c=xn(n[5]||"",!0),_n(this,n[6]||"",!0),this.g=xn(n[7]||"")):(this.h=!!t,this.a=new On(null,this.h))}function wn(e,t,n){e.f=n?xn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function bn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.l=t}else e.l=null}function _n(e,t,n){t instanceof On?(e.a=t,function(e,t){t&&!e.f&&(Rn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Fn(this,t),Bn(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=In(t,Pn)),e.a=new On(t,e.h))}function En(e,t,n){e.a.set(t,n)}function Sn(e,t){return e.a.get(t)}function Cn(e){return e instanceof yn?new yn(e):new yn(e,void 0)}function Tn(e,t){var n=new yn(null,void 0);return wn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function xn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function In(e,t,n){return a(e)?(e=encodeURI(e).replace(t,An),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function An(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(In(t,Dn,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.i)&&e.push(In(t,Dn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(In(n,"/"==n.charAt(0)?kn:Nn,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",In(n,Mn)),e.join("")},yn.prototype.resolve=function(e){var t=new yn(this),n=!!e.f;n?wn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)bn(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ve(i,"./")||ve(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var s=[],o=0;o<i.length;){var a=i[o++];"."==a?r&&o==i.length&&s.push(""):".."==a?((1<s.length||1==s.length&&""!=s[0])&&s.pop(),r&&o==i.length&&s.push("")):(s.push(a),r=!0)}r=s.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?_n(t,Un(e.a)):n=!!e.g,n&&(t.g=e.g),t};var Dn=/[#\/\?@]/g,Nn=/[#\?:]/g,kn=/[#\?]/g,Pn=/[#\?@]/g,Mn=/#/g;function On(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Rn(e){e.a||(e.a=new fn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ln(e){var t=dn(e);if(void 0===t)throw Error("Keys are undefined");var n=new On(null,void 0);e=pn(e);for(var r=0;r<t.length;r++){var i=t[r],s=e[r];f(s)?Bn(n,i,s):n.add(i,s)}return n}function Fn(e,t){Rn(e),t=jn(e,t),gn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,gn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&mn(e)))}function Vn(e,t){return Rn(e),t=jn(e,t),gn(e.a.b,t)}function Bn(e,t,n){Fn(e,t),0<n.length&&(e.c=null,e.a.set(jn(e,t),z(n)),e.b+=n.length)}function Un(e){var t=new On;return t.c=e.c,e.a&&(t.a=new fn(e.a),t.b=e.b),t}function jn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(e=On.prototype).add=function(e,t){Rn(this),this.c=null,e=jn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Rn(this),this.a.forEach((function(n,r){V(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.X=function(){Rn(this);for(var e=this.a.U(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},e.U=function(e){Rn(this);var t=[];if(a(e))Vn(this,e)&&(t=H(t,this.a.get(jn(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=H(t,e[n])}return t},e.set=function(e,t){return Rn(this),this.c=null,Vn(this,e=jn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.U(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.c=e.join("&")};var qn=!wt||9<=Number(At);function $n(e){var t=document;return a(e)?t.getElementById(e):e}function Hn(e,t){W(t,(function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:zn.hasOwnProperty(n)?e.setAttribute(zn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var zn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Wn(e,t,n){var r=arguments,i=document,s=String(r[0]),o=r[1];if(!qn&&o&&(o.name||o.type)){if(s=["<",s],o.name&&s.push(' name="',Fe(o.name),'"'),o.type){s.push(' type="',Fe(o.type),'"');var u={};Y(u,o),delete u.type,o=u}s.push(">"),s=s.join("")}return s=i.createElement(s),o&&(a(o)?s.className=o:f(o)?s.className=o.join(" "):Hn(s,o)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(a(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var s=n[i];!m(s)||v(s)&&0<s.nodeType?r(s):V(Kn(s)?z(s):s,r)}}(i,s,r),s}function Kn(e){if(e&&"number"==typeof e.length){if(v(e))return"function"==typeof e.item||"string"==typeof e.item;if(g(e))return"function"==typeof e.item}return!1}function Gn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(f(n)){var i=n;n=i.length,r.push("[");for(var s="",o=0;o<n;o++)r.push(s),e(t,i[o],r),s=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),s="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(o=n[i])&&(r.push(s),Jn(i,r),r.push(":"),e(t,o,r),s=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Jn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,e,t),t.join("")}function Qn(){}var Yn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Xn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Jn(e,t){t.push('"',e.replace(Xn,(function(e){var t=Yn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Yn[e]=t),t})),'"')}function Zn(){var e=yr();return wt&&!!At&&11==At||/Edge\/\d+/.test(e)}function er(){return o.window&&o.window.location.href||self&&self.location&&self.location.href||""}function tr(e,t){t=t||o.window;var n="about:blank";e&&(n=be(Ee(e)).toString()),t.location.href=n}function nr(e){return!!((e=(e||yr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function rr(e){e=e||o.window;try{e.close()}catch(t){}}function ir(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,s=(window.screen.availWidth-t)/2;for(o in t={width:t,height:n,top:0<i?i:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=yr().toLowerCase(),r&&(t.target=r,ve(n,"crios/")&&(t.target="_blank")),mr(yr())==dr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof we?n:Ee(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(e[o]?1:0))}var o=i.join(",");if((Ae("iPhone")&&!Ae("iPod")&&!Ae("iPad")||Ae("iPad")||Ae("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(L(o=r.document.createElement("A"),"HTMLAnchorElement"),t instanceof we||t instanceof we||(t="object"==typeof t&&t.qa?t.pa():String(t),_e.test(t)||(t="about:invalid#zClosurez"),t=Te(t)),o.href=be(t),o.setAttribute("target",n),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),o.dispatchEvent(e),o={}):e.noreferrer?(o=r.open("",n,o),e=be(t).toString(),o&&(_t&&ve(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),o.opener=null,e=Pe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Fe(e)+'">'),o.document.write(Ne(e)),o.document.close())):(o=r.open(be(t).toString(),n,o))&&e.noopener&&(o.opener=null),o)try{o.focus()}catch(a){}return o}var sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,or=/^[^@]+@[^@]+$/;function ar(){var e=null;return new He((function(t){"complete"==o.document.readyState?t():(e=function(){t()},Qt(window,"load",e))})).s((function(t){throw Yt(window,"load",e),t}))}function ur(e){return e=e||yr(),!("file:"!==Sr()&&"ionic:"!==Sr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function cr(){var e=o.window;try{return!(!e||e==e.top)}catch(t){return!1}}function lr(){return void 0!==o.WorkerGlobalScope&&"function"==typeof o.importScripts}function hr(){return JW.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":JW.a.INTERNAL.hasOwnProperty("node")?"Node":lr()?"Worker":"Browser"}function pr(){var e=hr();return"ReactNative"===e||"Node"===e}var dr="Firefox",fr="Chrome";function mr(e){var t=e.toLowerCase();return ve(t,"opera/")||ve(t,"opr/")||ve(t,"opios/")?"Opera":ve(t,"iemobile")?"IEMobile":ve(t,"msie")||ve(t,"trident/")?"IE":ve(t,"edge/")?"Edge":ve(t,"firefox/")?dr:ve(t,"silk/")?"Silk":ve(t,"blackberry")?"Blackberry":ve(t,"webos")?"Webos":!ve(t,"safari/")||ve(t,"chrome/")||ve(t,"crios/")||ve(t,"android")?!ve(t,"chrome/")&&!ve(t,"crios/")||ve(t,"edge/")?ve(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":fr:"Safari"}var gr={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function vr(e,t){t=t||[];var n,r=[],i={};for(n in gr)i[gr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=hr())?r=mr(i=yr()):"Worker"===r&&(r=mr(i=yr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function yr(){return o.navigator&&o.navigator.userAgent||""}function wr(e,t){e=e.split("."),t=t||o;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function br(){try{var e=o.localStorage,t=Ar();if(e)return e.setItem(t,"1"),e.removeItem(t),!Zn()||!!o.indexedDB}catch(n){return lr()&&!!o.indexedDB}return!1}function _r(){return(Er()||"chrome-extension:"===Sr()||ur())&&!pr()&&br()&&!lr()}function Er(){return"http:"===Sr()||"https:"===Sr()}function Sr(){return o.location&&o.location.protocol||null}function Cr(e){return!nr(e=e||yr())&&mr(e)!=dr}function Tr(e){return void 0===e?null:Gn(e)}function xr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ir(e){if(null!==e)return JSON.parse(e)}function Ar(e){return e||Math.floor(1e9*Math.random()).toString()}function Dr(e){return"Safari"!=mr(e=e||yr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Nr(){var e=o.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function kr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=yr(),t=hr(),this.b=nr(e)||"ReactNative"===t}function Pr(){var e=o.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Mr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Or(){return!(!wr("fireauth.oauthhelper",o)&&!wr("fireauth.iframe",o))}kr.prototype.get=function(){var e=o.navigator;return!e||"boolean"!=typeof e.onLine||!Er()&&"chrome-extension:"!==Sr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Rr,Lr={};function Fr(e){Lr[e]||(Lr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Vr={};Object.defineProperty(Vr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Vr,"abcd",{configurable:!0,enumerable:!0,value:2}),Rr=2==Vr.abcd}catch(vt){Rr=!1}function Br(e,t,n){Rr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Ur(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Br(e,n,t[n])}function jr(e){var t={};return Ur(t,e),t}function qr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Br(t,n,qr(e[n]));return t}function $r(e){var t={},n=e[zr],r=e[Wr];if(!(e=e[Kr])||e!=Hr&&!n)throw Error("Invalid provider user info!");t[Qr]=r||null,t[Gr]=n||null,Br(this,Xr,e),Br(this,Yr,qr(t))}var Hr="EMAIL_SIGNIN",zr="email",Wr="newEmail",Kr="requestType",Gr="email",Qr="fromEmail",Yr="data",Xr="operation";function Jr(e,t){this.code=ei+e,this.message=t||ti[e]||""}function Zr(e){var t=e&&e.code;return t?new Jr(t.substring(ei.length),e.message):null}T(Jr,Error),Jr.prototype.A=function(){return{code:this.code,message:this.message}},Jr.prototype.toJSON=function(){return this.A()};var ei="auth/",ti={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ni(e){var t=Sn(e=Cn(e),ri)||null,n=Sn(e,ii)||null,r=Sn(e,ai)||null;if(r=r&&ci[r]||null,!t||!n||!r)throw new Jr("argument-error",ri+", "+ii+"and "+ai+" are required in a valid action code URL.");Ur(this,{apiKey:t,operation:r,code:n,continueUrl:Sn(e,si)||null,languageCode:Sn(e,oi)||null,tenantId:Sn(e,ui)||null})}var ri="apiKey",ii="oobCode",si="continueUrl",oi="languageCode",ai="mode",ui="tenantId",ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Hr,verifyEmail:"VERIFY_EMAIL"};function li(e){try{return new ni(e)}catch(t){return null}}function hi(e){var t=e[gi];if(void 0===t)throw new Jr("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Jr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[pi];if(n&&"object"==typeof n){t=n[wi];var r=n[vi];if(n=n[yi],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new Jr("argument-error",vi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Jr("argument-error",yi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new Jr("argument-error",wi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Jr("missing-android-pkg-name")}}else if(void 0!==n)throw new Jr("argument-error",pi+" property must be a non null object when specified.");if(this.f=null,(t=e[mi])&&"object"==typeof t){if("string"==typeof(t=t[bi])&&t.length)this.f=t;else if(void 0!==t)throw new Jr("argument-error",bi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new Jr("argument-error",mi+" property must be a non null object when specified.");if(void 0!==(t=e[fi])&&"boolean"!=typeof t)throw new Jr("argument-error",fi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[di])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new Jr("argument-error",di+" property must be a non empty string when specified.");this.i=e||null}var pi="android",di="dynamicLinkDomain",fi="handleCodeInApp",mi="iOS",gi="url",vi="installApp",yi="minimumVersion",wi="packageName",bi="bundleId";function _i(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ei=null,Si=null;function Ci(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Si[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ei){Ei={},Si={};for(var e=0;65>e;e++)Ei[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Si[Ei[e]]=e,62<=e&&(Si["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),s=n(0),o=n(64),a=n(64);if(64===a&&-1===i)break;t(i<<2|s>>4),64!=o&&(t(s<<4&240|o>>2),64!=a&&t(o<<6&192|a))}}(e,(function(e){t+=String.fromCharCode(e)})),t}function Ti(e){this.f=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function xi(e){return(e=Ii(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Ti(e):null}function Ii(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Ci(e))}catch(r){}return null}Ti.prototype.R=function(){return this.c},Ti.prototype.g=function(){return this.b};var Ai,Di={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Ni(e){for(var t in Di)if(Di[t].id===e)return{firebaseEndpoint:(e=Di[t]).cb,secureTokenEndpoint:e.ib};return null}Ai=Ni("__EID__")?"__EID__":void 0;var ki="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Pi=["client_id","response_type","scope","redirect_uri","state"],Mi={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Pi},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Pi},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Pi},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:ki},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Oi(e){for(var t in Mi)if(Mi[t].Fa==e)return Mi[t];return null}function Ri(e){var t={};t["facebook.com"]=Ui,t["google.com"]=qi,t["github.com"]=ji,t["twitter.com"]=$i;var n=e&&e[Fi];try{if(n)return t[n]?new t[n](e):new Bi(e);if(void 0!==e[Li])return new Vi(e)}catch(r){}return null}var Li="idToken",Fi="providerId";function Vi(e){var t=e[Fi];if(!t&&e[Li]){var n=xi(e[Li]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Br(this,"providerId",t),Br(this,"isNewUser",n)}function Bi(e){Vi.call(this,e),Br(this,"profile",qr((e=Ir(e.rawUserInfo||"{}"))||{}))}function Ui(e){if(Bi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ji(e){if(Bi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",this.profile&&this.profile.login||null)}function qi(e){if(Bi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(e){if(Bi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Br(this,"username",e.screenName||null)}function Hi(e){var t=Cn(e),n=Sn(t,"link"),r=Sn(Cn(n),"link");return t=Sn(t,"deep_link_id"),Sn(Cn(t),"link")||t||r||n||e}function zi(){}function Wi(e,t){return e.then((function(e){if(e[Oo]){var n=xi(e[Oo]);if(!n||t!=n.f)throw new Jr("user-mismatch");return e}throw new Jr("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==ei+"user-not-found"?new Jr("user-mismatch"):e}))}function Ki(e,t){if(!t)throw new Jr("internal-error","failed to construct a credential");this.a=t,Br(this,"providerId",e),Br(this,"signInMethod",e)}function Gi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function Qi(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Ki(e.providerId,e.pendingToken)}catch(t){}return null}function Yi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Br(this,"idToken",t.idToken),t.accessToken&&Br(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Br(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Jr("internal-error","failed to construct a credential");Br(this,"accessToken",t.oauthToken),Br(this,"secret",t.oauthTokenSecret)}Br(this,"providerId",e),Br(this,"signInMethod",n)}function Xi(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Ln(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Ji(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Yi(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Zi(e,t){this.Fc=t||[],Ur(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.eb=(Oi(e)||{}).Ea||null,this.bb=null}function es(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new Jr("argument-error",'SAML provider IDs must be prefixed with "saml."');Zi.call(this,e,[])}function ts(e){Zi.call(this,e,Pi),this.a=[]}function ns(){ts.call(this,"facebook.com")}function rs(e){if(!e)throw new Jr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new ns).credential({accessToken:t})}function is(){ts.call(this,"github.com")}function ss(e){if(!e)throw new Jr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new is).credential({accessToken:t})}function os(){ts.call(this,"google.com"),this.ya("profile")}function as(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new os).credential({idToken:n,accessToken:t})}function us(){Zi.call(this,"twitter.com",ki)}function cs(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Jr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Yi("twitter.com",n,"twitter.com")}function ls(e,t,n){this.a=e,this.c=t,Br(this,"providerId","password"),Br(this,"signInMethod",n===ps.EMAIL_LINK_SIGN_IN_METHOD?ps.EMAIL_LINK_SIGN_IN_METHOD:ps.EMAIL_PASSWORD_SIGN_IN_METHOD)}function hs(e){return e&&e.email&&e.password?new ls(e.email,e.password,e.signInMethod):null}function ps(){Ur(this,{providerId:"password",isOAuthProvider:!1})}function ds(e,t){if(!(t=fs(t)))throw new Jr("argument-error","Invalid email link!");return new ls(e,t.code,ps.EMAIL_LINK_SIGN_IN_METHOD)}function fs(e){return(e=li(e=Hi(e)))&&e.operation===Hr?e:null}function ms(e){if(!(e.Va&&e.Ua||e.Ha&&e.ba))throw new Jr("internal-error");this.a=e,Br(this,"providerId","phone"),Br(this,"signInMethod","phone")}function gs(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new ms(t)}return null}function vs(e){return e.a.Ha&&e.a.ba?{temporaryProof:e.a.Ha,phoneNumber:e.a.ba}:{sessionInfo:e.a.Va,code:e.a.Ua}}function ys(e){try{this.a=e||JW.a.auth()}catch(t){throw new Jr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ur(this,{providerId:"phone",isOAuthProvider:!1})}function ws(e,t){if(!e)throw new Jr("missing-verification-id");if(!t)throw new Jr("missing-verification-code");return new ms({Va:e,Ua:t})}function bs(e){if(e.temporaryProof&&e.phoneNumber)return new ms({Ha:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,s=e&&e.oauthIdToken,o=e&&e.pendingToken;try{switch(t){case"google.com":return as(s,n);case"facebook.com":return rs(n);case"github.com":return ss(n);case"twitter.com":return cs(n,r);default:return n||r||s||o?o?0==t.indexOf("saml.")?new Ki(t,o):new Yi(t,{pendingToken:o,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new ts(t).credential({idToken:s,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function _s(e){if(!e.isOAuthProvider)throw new Jr("invalid-oauth-provider")}function Es(e,t,n,r,i,s,o){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=s||null,this.h=o||null,this.a=i||null,!this.g&&!this.a)throw new Jr("invalid-auth-event");if(this.g&&this.a)throw new Jr("invalid-auth-event");if(this.g&&!this.f)throw new Jr("invalid-auth-event")}function Ss(e){return(e=e||{}).type?new Es(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Zr(e.error),e.postBody,e.tenantId):null}function Cs(){this.b=null,this.a=[]}T(Bi,Vi),T(Ui,Bi),T(ji,Bi),T(qi,Bi),T($i,Bi),Ki.prototype.na=function(e){return Jo(e,Gi(this))},Ki.prototype.b=function(e,t){var n=Gi(this);return n.idToken=t,Zo(e,n)},Ki.prototype.f=function(e,t){return Wi(ea(e,Gi(this)),t)},Ki.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Yi.prototype.na=function(e){return Jo(e,Xi(this))},Yi.prototype.b=function(e,t){var n=Xi(this);return n.idToken=t,Zo(e,n)},Yi.prototype.f=function(e,t){return Wi(ea(e,Xi(this)),t)},Yi.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Zi.prototype.Ga=function(e){return this.zb=G(e),this},T(es,Zi),T(ts,Zi),ts.prototype.ya=function(e){return j(this.a,e)||this.a.push(e),this},ts.prototype.Hb=function(){return z(this.a)},ts.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Jr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Yi(this.providerId,n,this.providerId)},T(ns,ts),Br(ns,"PROVIDER_ID","facebook.com"),Br(ns,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(is,ts),Br(is,"PROVIDER_ID","github.com"),Br(is,"GITHUB_SIGN_IN_METHOD","github.com"),T(os,ts),Br(os,"PROVIDER_ID","google.com"),Br(os,"GOOGLE_SIGN_IN_METHOD","google.com"),T(us,Zi),Br(us,"PROVIDER_ID","twitter.com"),Br(us,"TWITTER_SIGN_IN_METHOD","twitter.com"),ls.prototype.na=function(e){return this.signInMethod==ps.EMAIL_LINK_SIGN_IN_METHOD?Da(e,ua,{email:this.a,oobCode:this.c}):Da(e,Ta,{email:this.a,password:this.c})},ls.prototype.b=function(e,t){return this.signInMethod==ps.EMAIL_LINK_SIGN_IN_METHOD?Da(e,ca,{idToken:t,email:this.a,oobCode:this.c}):Da(e,wa,{idToken:t,email:this.a,password:this.c})},ls.prototype.f=function(e,t){return Wi(this.na(e),t)},ls.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Ur(ps,{PROVIDER_ID:"password"}),Ur(ps,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ur(ps,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ms.prototype.na=function(e){return e.Wa(vs(this))},ms.prototype.b=function(e,t){var n=vs(this);return n.idToken=t,Da(e,Ia,n)},ms.prototype.f=function(e,t){var n=vs(this);return n.operation="REAUTH",Wi(e=Da(e,Aa,n),t)},ms.prototype.A=function(){var e={providerId:"phone"};return this.a.Va&&(e.verificationId=this.a.Va),this.a.Ua&&(e.verificationCode=this.a.Ua),this.a.Ha&&(e.temporaryProof=this.a.Ha),this.a.ba&&(e.phoneNumber=this.a.ba),e},ys.prototype.Wa=function(e,t){var n=this.a.b;return Xe(t.verify()).then((function(r){if(!a(r))throw new Jr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return Da(e,va,t)}(n,{phoneNumber:e,recaptchaToken:r}).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new Jr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Ur(ys,{PROVIDER_ID:"phone"}),Ur(ys,{PHONE_SIGN_IN_METHOD:"phone"}),Es.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Es.prototype.R=function(){return this.h},Es.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Ts,xs=null;function Is(e){var t="unauthorized-domain",n=void 0,r=Cn(e);e=r.b,"chrome-extension"==(r=r.f)?n=Le("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Le("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Jr.call(this,t,n)}function As(e,t,n){Jr.call(this,e,n),(e=t||{}).Ab&&Br(this,"email",e.Ab),e.ba&&Br(this,"phoneNumber",e.ba),e.credential&&Br(this,"credential",e.credential),e.Qb&&Br(this,"tenantId",e.Qb)}function Ds(e){if(e.code){var t=e.code||"";0==t.indexOf(ei)&&(t=t.substring(ei.length));var n={credential:bs(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new Jr(t,e.message||void 0);return new As(t,n,e.message)}return null}function Ns(){}function ks(e){return e.c||(e.c=e.b())}function Ps(){}function Ms(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Os(){}function Rs(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.fc,this),this.a.onerror=E(this.Ib,this),this.a.onprogress=E(this.gc,this),this.a.ontimeout=E(this.kc,this)}function Ls(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Fs(e,t,n){this.reset(e,t,n,void 0,void 0)}T(Is,Jr),T(As,Jr),As.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&Y(e,t),e},As.prototype.toJSON=function(){return this.A()},Ns.prototype.c=null,T(Ps,Ns),Ps.prototype.a=function(){var e=Ms(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ps.prototype.b=function(){var e={};return Ms(this)&&(e[0]=!0,e[1]=!0),e},Ts=new Ps,T(Os,Ns),Os.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Rs;throw Error("Unsupported browser")},Os.prototype.b=function(){return{}},(e=Rs.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ls(this,4)},e.Ib=function(){this.status=500,this.response=this.responseText="",Ls(this,4)},e.kc=function(){this.Ib()},e.gc=function(){this.status=200,Ls(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Fs.prototype.a=null;function Vs(e){this.f=e,this.b=this.c=this.a=null}function Bs(e,t){this.name=e,this.value=t}Fs.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||C(),delete this.a},Bs.prototype.toString=function(){return this.name};var Us=new Bs("SEVERE",1e3),js=new Bs("WARNING",900),qs=new Bs("CONFIG",700),$s=new Bs("FINE",500);Vs.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(D("Root logger has no level set."),null)}(this).value)for(g(t)&&(t=t()),e=new Fs(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Hs={},zs=null;function Ws(e){var t;if(zs||(zs=new Vs(""),Hs[""]=zs,zs.c=qs),!(t=Hs[e])){t=new Vs(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Ws(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,Hs[e]=t}return t}function Ks(e,t){e&&e.log($s,t,void 0)}function Gs(e){this.f=e}function Qs(e){on.call(this),this.o=e,this.readyState=Ys,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Ws("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Gs,Ns),Gs.prototype.a=function(){return new Qs(this.f)},Gs.prototype.b=function(e){return function(){return e}}({}),T(Qs,on);var Ys=0;function Xs(e){e.c.read().then(e.ec.bind(e)).catch(e.Oa.bind(e))}function Js(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,Zs(e)}function Zs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function eo(e){on.call(this),this.headers=new fn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=to,this.v=this.P=!1}(e=Qs.prototype).open=function(e,t){if(this.readyState!=Ys)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,Zs(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Oa.bind(this))},e.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Js(this,!1)),this.readyState=Ys},e.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,Zs(this)),this.a&&(this.readyState=3,Zs(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==o.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,Xs(this)):e.text().then(this.ic.bind(this),this.Oa.bind(this)))))},e.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Js(this,!0):Zs(this),3==this.readyState&&Xs(this)}},e.ic=function(e){this.a&&(this.response=this.responseText=e,Js(this,!0))},e.hc=function(e){this.a&&(this.response=e,Js(this,!0))},e.Oa=function(e){var t=this.h;t&&t.log(js,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Js(this,!0)},e.setRequestHeader=function(e,t){this.i.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(js,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(js,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},T(eo,on);var to="";eo.prototype.b=Ws("goog.net.XhrIo");var no=/^https?$/i,ro=["POST","PUT"];function io(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():Ts.a(),e.w=e.B?ks(e.B):ks(Ts),e.a.onreadystatechange=E(e.Lb,e);try{Ks(e.b,fo(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(u){return Ks(e.b,fo(e,"Error opening Xhr: "+u.message)),void oo(e,u)}t=r||"";var s=new fn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||a(e))V(e,t,void 0);else for(var n=dn(e),r=pn(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(i,(function(e,t){s.set(t,e)})),i=function(e){e:{for(var t=so,n=e.length,r=a(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:a(e)?e.charAt(t):e[t]}(s.X()),r=o.FormData&&t instanceof o.FormData,!j(ro,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{lo(e),0<e.g&&(e.v=function(e){return wt&&Nt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Ks(e.b,fo(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ia,e)):e.o=ln(e.Ia,e.g,e)),Ks(e.b,fo(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(u){Ks(e.b,fo(e,"Send error: "+u.message)),oo(e,u)}}function so(e){return"content-type"==e.toLowerCase()}function oo(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ao(e),co(e)}function ao(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function uo(e){if(e.c&&void 0!==s)if(e.w[1]&&4==ho(e)&&2==po(e))Ks(e.b,fo(e,"Local request error detected and ignored"));else if(e.i&&4==ho(e))ln(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==ho(e)){Ks(e.b,fo(e,"Request complete")),e.c=!1;try{var t,n=po(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.l).match(vn)[1]||null;if(!a&&o.self&&o.self.location){var u=o.self.location.protocol;a=u.substr(0,u.length-1)}i=!no.test(a?a.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<ho(e)?e.a.statusText:""}catch(l){Ks(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+po(e)+"]",ao(e)}}finally{co(e)}}}function co(e,t){if(e.a){lo(e);var n=e.a,r=e.w[0]?h:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(Us,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function lo(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(o.clearTimeout(e.o),e.o=null)}function ho(e){return e.a?e.a.readyState:0}function po(e){try{return 2<ho(e)?e.a.status:-1}catch(t){return-1}}function fo(e,t){return t+" ["+e.O+" "+e.l+" "+po(e)+"]"}function mo(e){var t=xo;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function go(e,t,n){e.a=!0,e.c=n,e.f=!t,bo(e)}function vo(e){if(e.a){if(!e.u)throw new _o(e);e.u=!1}}function yo(e,t,n,r){e.g.push([t,n,r]),e.a&&bo(e)}function wo(e){return U(e.g,(function(e){return g(e[1])}))}function bo(e){if(e.h&&e.a&&wo(e)){var t=e.h,n=Co[t];n&&(o.clearTimeout(n.a),delete Co[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),s=i[0],a=i[1];if(i=i[2],s=e.f?a:s)try{var u=s.call(i||e.o,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(x(t)||"function"==typeof o.Promise&&t instanceof o.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,wo(e)||(n=!0)}}e.c=t,r&&(u=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof mo?(yo(t,u,r),t.w=!0):t.then(u,r)),n&&(t=new So(t),Co[t.a]=t,e.h=t.a)}function _o(){I.call(this)}function Eo(){I.call(this)}function So(e){this.a=o.setTimeout(E(this.c,this),0),this.b=e}(e=eo.prototype).Ia=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ks(this.b,fo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Ks(this.b,fo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),co(this))},e.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),co(this,!0)),eo.qb.za.call(this)},e.Lb=function(){this.va||(this.J||this.i||this.f?uo(this):this.yc())},e.yc=function(){uo(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case to:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Us,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Ks(this.b,"Can not get response: "+t.message),null}},mo.prototype.cancel=function(e){if(this.a)this.c instanceof mo&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new Eo(this),vo(this),go(this,!1,e))}},mo.prototype.m=function(e,t){this.i=!1,go(this,e,t)},mo.prototype.then=function(e,t,n){var r,i,s=new He((function(e,t){r=e,i=t}));return yo(this,r,(function(e){e instanceof Eo?s.cancel():i(e)})),s.then(e,t,n)},mo.prototype.$goog_Thenable=!0,T(_o,I),_o.prototype.message="Deferred has already fired",_o.prototype.name="AlreadyCalledError",T(Eo,I),Eo.prototype.message="Deferred was canceled",Eo.prototype.name="CanceledError",So.prototype.c=function(){throw delete Co[this.a],this.b};var Co={};function To(e){var t={},n=t.document||document,r=re(e).toString(),i=document.createElement("SCRIPT"),s={Nb:i,Ia:void 0},a=new mo(s),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Io(i,!0);var e=new No(Do,"Timeout reached for loading script "+r);vo(a),go(a,!1,e)}),h),s.Ia=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Io(i,t.gd||!1,u),vo(a),go(a,!0,null))},i.onerror=function(){Io(i,!0,u);var e=new No(Ao,"Error while loading script "+r);vo(a),go(a,!1,e)},Y(s=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Hn(i,s),function(e,t){L(e,"HTMLScriptElement"),e.src=re(t),null===l&&(l=(t=(t=o.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""),(t=l)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function xo(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Io(e,!0,this.Ia)}}function Io(e,t,n){null!=n&&o.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ao=0,Do=1;function No(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),I.call(this,n),this.code=e}function ko(e){this.f=e}function Po(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||Ro,this.g=G(e.secureTokenHeaders||Lo),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Fo,this.a=G(e.firebaseHeaders||Vo),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==hr(),!(n=o.XMLHttpRequest||n&&JW.a.INTERNAL.node&&JW.a.INTERNAL.node.XMLHttpRequest)&&!lr())throw new Jr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,lr()?this.f=new Gs(self):pr()?this.f=new ko(n):this.f=new Os,this.b=null}T(No,I),T(ko,Ns),ko.prototype.a=function(){return new this.f},ko.prototype.b=function(){return{}};var Mo,Oo="idToken",Ro=new kr(3e4,6e4),Lo={"Content-Type":"application/x-www-form-urlencoded"},Fo=new kr(3e4,6e4),Vo={"Content-Type":"application/json"};function Bo(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Uo(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function jo(e,t,n,r,i,s,a){(function(){var e=yr();return!((e=mr(e)!=fr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!wt||!At||9<At)})()||lr()?e=E(e.o,e):(Mo||(Mo=new He((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{o[$o]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){yo(e,null,t,void 0)}(To(ie(qo,{onload:$o})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=E(e.m,e)),e(t,n,r,i,s,a)}Po.prototype.R=function(){return this.b},Po.prototype.o=function(e,t,n,r,i,s){if(lr()&&(void 0===o.fetch||void 0===o.Headers||void 0===o.Request))throw new Jr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new eo(this.f);if(s){a.g=Math.max(0,s);var u=setTimeout((function(){a.dispatchEvent("timeout")}),s)}an(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return Ks(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),un(a,"ready",(function(){u&&clearTimeout(u),ft(this)})),un(a,"timeout",(function(){u&&clearTimeout(u),ft(this),t&&t(null)})),io(a,e,n,r,i)};var qo=new X(ee,"https://apis.google.com/js/client.js?onload=%{onload}"),$o="__fcb"+Math.floor(1e6*Math.random()).toString();function Ho(e){if(!a(e=e.email)||!or.test(e))throw new Jr("invalid-email")}function zo(e){"email"in e&&Ho(e)}function Wo(e){if(!e[Oo])throw new Jr("internal-error")}function Ko(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Jr("internal-error")}else{if(!e.sessionInfo)throw new Jr("missing-verification-id");if(!e.code)throw new Jr("missing-verification-code")}}Po.prototype.m=function(e,t,n,r,i){var s=this;Mo.then((function(){window.gapi.client.setApiKey(s.c);var o=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(o),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Po.prototype.ob=function(){return Da(this,ba,{})},Po.prototype.rb=function(e,t){return Da(this,ya,{idToken:e,email:t})},Po.prototype.sb=function(e,t){return Da(this,wa,{idToken:e,password:t})};var Go={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Qo(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Jr("internal-error")}function Yo(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Vn(e=new On(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Xo(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ds(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ds(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ds(e)):e.errorMessage&&(t=Na(e.errorMessage)),t)throw t;if(!e[Oo])throw new Jr("internal-error")}function Jo(e,t){return t.returnIdpCredential=!0,Da(e,_a,t)}function Zo(e,t){return t.returnIdpCredential=!0,Da(e,Sa,t)}function ea(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Da(e,Ea,t)}function ta(e){if(!e.oobCode)throw new Jr("invalid-action-code")}(e=Po.prototype).tb=function(e,t){var n={idToken:e},r=[];return W(Go,(function(e,i){var s=t[i];null===s?r.push(e):i in t&&(n[i]=s)})),r.length&&(n.deleteAttribute=r),Da(this,ya,n)},e.kb=function(e,t){return Y(e={requestType:"PASSWORD_RESET",email:e},t),Da(this,da,e)},e.lb=function(e,t){return Y(e={requestType:"EMAIL_SIGNIN",email:e},t),Da(this,ha,e)},e.jb=function(e,t){return Y(e={requestType:"VERIFY_EMAIL",idToken:e},t),Da(this,pa,e)},e.Wa=function(e){return Da(this,xa,e)},e.ab=function(e,t){return Da(this,ga,{oobCode:e,newPassword:t})},e.Ma=function(e){return Da(this,ra,{oobCode:e})},e.Ya=function(e){return Da(this,na,{oobCode:e})};var na={endpoint:"setAccountInfo",D:ta,fa:"email",F:!0},ra={endpoint:"resetPassword",D:ta,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Jr("internal-error")},F:!0},ia={endpoint:"signupNewUser",D:function(e){if(Ho(e),!e.password)throw new Jr("weak-password")},K:Wo,T:!0,F:!0},sa={endpoint:"createAuthUri",F:!0},oa={endpoint:"deleteAccount",V:["idToken"]},aa={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!f(e.deleteProvider))throw new Jr("internal-error")}},ua={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Ho,K:Wo,T:!0,F:!0},ca={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Ho,K:Wo,T:!0},la={endpoint:"getAccountInfo"},ha={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Jr("internal-error");Ho(e)},fa:"email",F:!0},pa={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Jr("internal-error")},fa:"email",F:!0},da={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Jr("internal-error");Ho(e)},fa:"email",F:!0},fa={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ma={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new Jr("internal-error")}},ga={endpoint:"resetPassword",D:ta,fa:"email",F:!0},va={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ya={endpoint:"setAccountInfo",V:["idToken"],D:zo,T:!0},wa={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(zo(e),!e.password)throw new Jr("weak-password")},K:Wo,T:!0},ba={endpoint:"signupNewUser",K:Wo,T:!0,F:!0},_a={endpoint:"verifyAssertion",D:Qo,Ra:Yo,K:Xo,T:!0,F:!0},Ea={endpoint:"verifyAssertion",D:Qo,Ra:Yo,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Jr("user-not-found");if(e.errorMessage)throw Na(e.errorMessage);if(!e[Oo])throw new Jr("internal-error")},T:!0,F:!0},Sa={endpoint:"verifyAssertion",D:function(e){if(Qo(e),!e.idToken)throw new Jr("internal-error")},Ra:Yo,K:Xo,T:!0},Ca={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Jr("invalid-custom-token")},K:Wo,T:!0,F:!0},Ta={endpoint:"verifyPassword",D:function(e){if(Ho(e),!e.password)throw new Jr("wrong-password")},K:Wo,T:!0,F:!0},xa={endpoint:"verifyPhoneNumber",D:Ko,K:Wo,F:!0},Ia={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Jr("internal-error");Ko(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ds(e);Wo(e)}},Aa={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ko,K:Wo,F:!0};function Da(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.V))return Je(new Jr("internal-error"));var r,i=t.Kb||"POST";return Xe(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,s){var o=Cn(e.h+t);En(o,"key",e.c),s&&En(o,"cb",C().toString());var a="GET"==n;if(a)for(var u in r)r.hasOwnProperty(u)&&En(o,u,r[u]);return new He((function(t,s){jo(e,o.toString(),(function(e){e?e.error?s(ka(e,i||{})):t(e):s(new Jr("network-request-failed"))}),n,a?void 0:Gn(xr(r)),e.a,e.i.get())}))}(e,t.endpoint,i,n,t.Yb,t.wb||!1)})).then((function(e){return r=e,t.Ra?t.Ra(n,r):r})).then(t.K).then((function(){if(!t.fa)return r;if(!(t.fa in r))throw new Jr("internal-error");return r[t.fa]}))}function Na(e){return ka({error:{errors:[{message:e}],code:400,message:e}})}function ka(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Jr(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",Y(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new Jr(r[i],t);return!t&&e&&(t=Tr(e)),new Jr("internal-error",t)}function Pa(e){this.b=e,this.a=null,this.gb=function(e){return(La||(La=new He((function(e,t){function n(){Nr(),wr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Nr(),t(Error("Network Error"))},timeout:Oa.get()})}if(wr("gapi.iframes.Iframe"))e();else if(wr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();o[r]=function(){wr("gapi.load")?n():t(Error("Network Error"))},Xe(To(r=ie(Ma,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw La=null,e})))).then((function(){return new He((function(t,n){wr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(s),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var s=setTimeout((function(){n(Error("Network Error"))}),Ra.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Ma=new X(ee,"https://apis.google.com/js/api.js?onload=%{onload}"),Oa=new kr(3e4,6e4),Ra=new kr(5e3,15e3),La=null;function Fa(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Tn(this.i,"/__/auth/iframe"),En(this.a,"apiKey",this.g),En(this.a,"appName",this.h),this.b=null,this.c=[]}function Va(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Ba(e){try{return JW.a.app(e).auth().Ca()}catch(t){return[]}}function Ua(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function ja(e){var t=er();return function(e){return Da(e,fa,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Cn(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var s=e[i],o=n,a=r;if(0==s.indexOf("chrome-extension://")?o=Cn(s).b==o&&"chrome-extension"==a:"http"!=a&&"https"!=a?o=!1:sr.test(s)?o=o==s:(s=s.split(".").join("\\."),o=new RegExp("^(.+\\."+s+"|"+s+")$","i").test(o)),o){e=!0;break e}}e=!1}if(!e)throw new Is(er())}))}function qa(e){return e.l?e.l:(e.l=ar().then((function(){if(!e.o){var t=e.c,n=e.h,r=Ba(e.b),i=new Fa(e.u,e.f,e.b);i.f=t,i.b=n,i.c=z(r||[]),e.o=i.toString()}e.i=new Pa(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.gb.then((function(){e.a.register("authEvent",t,wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ss(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Xe(n)}return n.status="ERROR",Xe(n)}))}(e)})),e.l)}function $a(e){return e.m||(e.v=e.c?vr(e.c,Ba(e.b)):null,e.m=new Po(e.f,Ni(e.h),e.v)),e.m}function Ha(e,t,n,r,i,s,o,a,u,c,l){return(e=new Va(e,t,n,r,i)).l=s,e.g=o,e.i=a,e.b=G(u||null),e.f=c,e.nb(l).toString()}function za(e){if(this.a=e||JW.a.INTERNAL.reactNative&&JW.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Jr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Wa(e){this.b=e,this.a={},this.f=E(this.c,this)}Fa.prototype.toString=function(){return this.f?En(this.a,"v",this.f):Fn(this.a.a,"v"),this.b?En(this.a,"eid",this.b):Fn(this.a.a,"eid"),this.c.length?En(this.a,"fw",this.c.join(",")):Fn(this.a.a,"fw"),this.a.toString()},Va.prototype.nb=function(e){return this.h=e,this},Va.prototype.toString=function(){var e=Tn(this.o,"/__/auth/handler");if(En(e,"apiKey",this.m),En(e,"appName",this.c),En(e,"authType",this.u),this.a.isOAuthProvider){var t=this.a;try{var n=JW.a.app(this.c).auth().ha()}catch(a){n=null}for(var r in t.bb=n,En(e,"providerId",this.a.providerId),n=xr((t=this.a).zb))n[r]=n[r].toString();r=t.Fc,n=G(n);for(var i=0;i<r.length;i++){var s=r[i];s in n&&delete n[s]}t.eb&&t.bb&&!n[t.eb]&&(n[t.eb]=t.bb),K(n)||En(e,"customParameters",Tr(n))}if("function"==typeof this.a.Hb&&((t=this.a.Hb()).length&&En(e,"scopes",t.join(","))),this.l?En(e,"redirectUrl",this.l):Fn(e.a,"redirectUrl"),this.g?En(e,"eventId",this.g):Fn(e.a,"eventId"),this.i?En(e,"v",this.i):Fn(e.a,"v"),this.b)for(var o in this.b)this.b.hasOwnProperty(o)&&!Sn(e,o)&&En(e,o,this.b[o]);return this.h?En(e,"tid",this.h):Fn(e.a,"tid"),this.f?En(e,"eid",this.f):Fn(e.a,"eid"),(o=Ba(this.c)).length&&En(e,"fw",o.join(",")),e.toString()},(e=Ua.prototype).Fb=function(e,t,n){var r=new Jr("popup-closed-by-user"),i=new Jr("web-storage-unsupported"),s=this,o=!1;return this.ia().then((function(){(function(e){var t={type:"webStorageSupport"};return qa(e).then((function(){return function(e,t){return e.gb.then((function(){return new He((function(n){e.a.send(t.type,t,n,wr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(s).then((function(n){n||(e&&rr(e),t(i),o=!0)}))})).s((function(){})).then((function(){if(!o)return function(e){return new He((function(t){return function n(){hn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!o)return hn(n).then((function(){t(r)}))}))},e.Ob=function(){var e=yr();return!Cr(e)&&!Dr(e)},e.Jb=function(){return!1},e.Db=function(e,t,n,r,i,s,o,a){if(!e)return Je(new Jr("popup-blocked"));if(o&&!Cr())return this.ia().s((function(t){rr(e),i(t)})),r(),Xe();this.a||(this.a=ja($a(this)));var u=this;return this.a.then((function(){var t=u.ia().s((function(t){throw rr(e),i(t),t}));return r(),t})).then((function(){(_s(n),o)||tr(Ha(u.u,u.f,u.b,t,n,null,s,u.c,void 0,u.h,a),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Eb=function(e,t,n,r){this.a||(this.a=ja($a(this)));var i=this;return this.a.then((function(){_s(t),tr(Ha(i.u,i.f,i.b,e,t,er(),n,i.c,void 0,i.h,r))})).s((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ia=function(){var e=this;return qa(this).then((function(){return e.i.gb})).s((function(){throw e.a=null,new Jr("network-request-failed")}))},e.Rb=function(){return!0},e.Aa=function(e){this.g.push(e)},e.Na=function(e){$(this.g,(function(t){return t==e}))},(e=za.prototype).get=function(e){return Xe(this.a.getItem(e)).then((function(e){return e&&Ir(e)}))},e.set=function(e,t){return Xe(this.a.setItem(e,Tr(t)))},e.S=function(e){return Xe(this.a.removeItem(e))},e.$=function(){},e.ea=function(){};var Ka,Ga=[];function Qa(e,t,n){K(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Ya(e){this.a=e}function Xa(e){this.c=e,this.b=!1,this.a=[]}function Ja(e,t,n,r){var i,s,o,a,u=n||{},c=null;if(e.b)return Je(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new He((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),o=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:s=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(o),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(a),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(o),clearTimeout(a),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",s),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Za(e,c),t})).s((function(t){throw Za(e,c),t}))}function Za(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(e.a,(function(e){return e==t}))}}function eu(){if(!ru())throw new Jr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=o.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;lr()&&self?(this.l=function(){var e=lr()?self:null;if(V(Ga,(function(n){n.b==e&&(t=n)})),!t){var t=new Wa(e);Ga.push(t)}return t}(),Qa(this.l,"keyChanged",(function(t,n){return uu(e).then((function(t){return 0<t.length&&V(e.a,(function(e){e(t)})),{keyProcessed:j(t,n.key)}}))})),Qa(this.l,"ping",(function(){return Xe(["keyChanged"])}))):function(){var e=o.navigator;return e&&e.serviceWorker?Xe().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):Xe(null)}().then((function(t){(e.h=t)&&(e.g=new Xa(new Ya(t)),Ja(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&j(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function tu(e){return new He((function(t,n){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new He((function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return tu(e)})).then((function(e){t(e)})).s((function(e){n(e)}))}}))}function nu(e){return e.m||(e.m=tu(e)),e.m}function ru(){try{return!!o.indexedDB}catch(vt){return!1}}function iu(e){return e.objectStore("firebaseLocalStorage")}function su(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function ou(e){return new He((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function au(e,t){return e.g&&e.h&&function(){var e=o.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Ja(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):Xe()}function uu(e){return nu(e).then((function(e){var t=iu(su(e,!1));return t.getAll?ou(t.getAll()):new He((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function cu(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function lu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Xe().then((function(){if(ru()){var e=Ar(),r="__sak"+e;return Ka||(Ka=new eu),(n=Ka).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.$((function(e){V(t.a,(function(t){t(e)}))})),e}))}function hu(){this.a={},this.type="inMemory"}function pu(){if(!function(){var e="Node"==hr();if(!(e=du()||e&&JW.a.INTERNAL.node&&JW.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hr())throw new Jr("internal-error","The LocalStorage compatibility library was not found.");throw new Jr("web-storage-unsupported")}this.a=du()||JW.a.INTERNAL.node.localStorage,this.type="localStorage"}function du(){try{var e=o.localStorage,t=Ar();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function fu(){this.type="nullStorage"}function mu(){if(!function(){var e="Node"==hr();if(!(e=gu()||e&&JW.a.INTERNAL.node&&JW.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==hr())throw new Jr("internal-error","The SessionStorage compatibility library was not found.");throw new Jr("web-storage-unsupported")}this.a=gu()||JW.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function gu(){try{var e=o.sessionStorage,t=Ar();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function vu(){var e={};e.Browser=bu,e.Node=_u,e.ReactNative=Eu,e.Worker=Su,this.a=e[hr()]}Wa.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];V(r,(function(t){i.push(Xe().then((function(){return t(e.origin,e.data.data)})))})),et(i).then((function(r){var i=[];V(r,(function(e){i.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),V(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Ya.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Xa.prototype.close=function(){for(;0<this.a.length;)Za(this,this.a[0]);this.b=!0},(e=eu.prototype).set=function(e,t){var n,r=!1,i=this;return nu(this).then((function(t){return ou((t=iu(su(n=t,!0))).get(e))})).then((function(s){var o=iu(su(n,!0));return s?(s.value=t,ou(o.put(s))):(i.b++,r=!0,(s={}).fbase_key=e,s.value=t,ou(o.add(s)))})).then((function(){return i.c[e]=t,au(i,e)})).ka((function(){r&&i.b--}))},e.get=function(e){return nu(this).then((function(t){return ou(iu(su(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.S=function(e){var t=!1,n=this;return nu(this).then((function(r){return t=!0,n.b++,ou(iu(su(r,!0)).delete(e))})).then((function(){return delete n.c[e],au(n,e)})).ka((function(){t&&n.b--}))},e.$=function(e){0==this.a.length&&function(e){cu(e),function t(){e.f=setTimeout((function(){e.i=uu(e).then((function(t){0<t.length&&V(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ea=function(e){$(this.a,(function(t){return t==e})),0==this.a.length&&cu(this)},(e=lu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.S=function(e){return this.b.then((function(t){return t.S(e)}))},e.$=function(e){this.a.push(e)},e.ea=function(e){$(this.a,(function(t){return t==e}))},(e=hu.prototype).get=function(e){return Xe(this.a[e])},e.set=function(e,t){return this.a[e]=t,Xe()},e.S=function(e){return delete this.a[e],Xe()},e.$=function(){},e.ea=function(){},(e=pu.prototype).get=function(e){var t=this;return Xe().then((function(){return Ir(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Xe().then((function(){var r=Tr(t);null===r?n.S(e):n.a.setItem(e,r)}))},e.S=function(e){var t=this;return Xe().then((function(){t.a.removeItem(e)}))},e.$=function(e){o.window&&Kt(o.window,"storage",e)},e.ea=function(e){o.window&&Yt(o.window,"storage",e)},(e=fu.prototype).get=function(){return Xe(null)},e.set=function(){return Xe()},e.S=function(){return Xe()},e.$=function(){},e.ea=function(){},(e=mu.prototype).get=function(e){var t=this;return Xe().then((function(){return Ir(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Xe().then((function(){var r=Tr(t);null===r?n.S(e):n.a.setItem(e,r)}))},e.S=function(e){var t=this;return Xe().then((function(){t.a.removeItem(e)}))},e.$=function(){},e.ea=function(){};var yu,wu,bu={C:pu,Ta:mu},_u={C:pu,Ta:mu},Eu={C:za,Ta:fu},Su={C:pu,Ta:fu},Cu={ad:"local",NONE:"none",cd:"session"};function Tu(){var e=!(Dr(yr())||!cr()),t=Cr(),n=br();this.m=e,this.h=t,this.l=n,this.a={},yu||(yu=new vu),e=yu;try{this.g=!Zn()&&Or()||!o.indexedDB?new e.a.C:new lu(lr()?new hu:new e.a.C)}catch(r){this.g=new hu,this.h=!0}try{this.i=new e.a.Ta}catch(r){this.i=new hu}this.u=new hu,this.f=E(this.Pb,this),this.b={}}function xu(){return wu||(wu=new Tu),wu}function Iu(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function Au(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Du(e,t,n){return n=Au(t,n),"local"==t.C&&(e.b[n]=null),Iu(e,t.C).S(n)}function Nu(e){e.c&&(clearInterval(e.c),e.c=null)}function ku(e){this.a=e,this.b=xu()}(e=Tu.prototype).get=function(e,t){return Iu(this,e.C).get(Au(e,t))},e.set=function(e,t,n){var r=Au(e,n),i=this,s=Iu(this,e.C);return s.set(r,t).then((function(){return s.get(r)})).then((function(t){"local"==e.C&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=Au(e,t),this.l&&(this.b[e]=o.localStorage.getItem(e)),K(this.a)&&(Iu(this,"local").$(this.f),this.h||(Zn()||!Or())&&o.indexedDB||!this.l||function(e){Nu(e),e.c=setInterval((function(){for(var t in e.a){var n=o.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Lt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Pb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Au(e,t),this.a[e]&&($(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),K(this.a)&&(Iu(this,"local").ea(this.f),Nu(this))},e.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=o.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.$a(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Iu(this,"local").ea(this.f):Nu(this),this.m)if(n=o.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?o.localStorage.setItem(t,r):o.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var s=this;n=function(){void 0===e.a.a&&s.b[t]===o.localStorage.getItem(t)||(s.b[t]=o.localStorage.getItem(t),s.$a(t))},wt&&At&&10==At&&o.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else V(e,E(this.$a,this))},e.$a=function(e){this.a[e]&&V(this.a[e],(function(e){e()}))};var Pu,Mu={name:"authEvent",C:"local"};function Ou(){this.a=xu()}function Ru(e,t){this.b=Lu,this.f=o.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=o.Int32Array?new Int32Array(64):Array(64),void 0!==Pu||(Pu=o.Int32Array?new Int32Array($u):$u),this.reset()}T(Ru,(function(){this.b=-1}));for(var Lu=64,Fu=Lu-1,Vu=[],Bu=0;Bu<Fu;Bu++)Vu[Bu]=0;var Uu=H(128,Vu);function ju(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var s=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,o=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=s+o|0}r=0|e.a[0],i=0|e.a[1];var a=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(s=0|e.a[7],t=0;64>t;t++){var p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;o=(s=s+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((o=(o=c&l^~c&h)+(0|Pu[t])|0)+(0|n[t])|0)|0,s=h,h=l,l=c,c=u+o|0,u=a,a=i,i=r,r=o+p|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+a|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+s|0}function qu(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(a(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(ju(e),i=0);else{if(!m(t))throw Error("message must be string or array");for(;r<n;){var s=t[r++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");e.f[i++]=s,i==e.b&&(ju(e),i=0)}}e.c=i,e.g+=n}Ru.prototype.reset=function(){this.g=this.c=0,this.a=o.Int32Array?new Int32Array(this.h):z(this.h)};var $u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Hu(){Ru.call(this,8,zu)}T(Hu,Ru);var zu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Wu(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=i||null,this.h=t+":"+n,this.v=new Ou,this.g=new ku(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ku(e){return new Jr("invalid-cordova-configuration",e)}function Gu(e){var t=new Hu;qu(t,e),e=[];var n=8*t.g;56>t.c?qu(t,Uu,56-t.c):qu(t,Uu,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(ju(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return B(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Qu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Yu(e){return e.f||(e.f=e.ia().then((function(){return new He((function(t){e.Aa((function n(r){return t(r),e.Na(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Xu(e).then((function(r){var i=n;if(r&&t&&t.url){var s=null;-1!=(i=Hi(t.url)).indexOf("/__/auth/callback")&&(s=(s="object"==typeof(s=Ir(Sn(s=Cn(i),"firebaseError")||null))?Zr(s):null)?new Es(r.c,r.b,null,null,s,null,r.R()):new Es(r.c,r.b,i,r.f,null,null,r.R())),i=s||n}Qu(e,i)}))}var n=new Es("unknown",null,null,null,new Jr("no-auth-event")),r=!1,i=hn(500).then((function(){return Xu(e).then((function(){r||Qu(e,n)}))})),s=o.handleOpenURL;o.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(wr("BuildInfo.packageName",o).toLowerCase()+"://")&&t({url:e}),"function"==typeof s)try{s(e)}catch(n){console.error(n)}},xs||(xs=new Cs),function(e){var t=xs;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=wr("universalLinks.subscribe",o))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Xu(e){var t=null;return function(e){return e.b.get(Mu,e.a).then((function(e){return Ss(e)}))}(e.g).then((function(n){return t=n,Du((n=e.g).b,Mu,n.a)})).then((function(){return t}))}function Ju(e){this.a=e,this.b=xu()}(e=Wu.prototype).ia=function(){return this.Da?this.Da:this.Da=(ur(void 0)?ar().then((function(){return new He((function(e,t){var n=o.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Je(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof wr("universalLinks.subscribe",o))throw Ku("cordova-universal-links-plugin-fix is not installed");if(void 0===wr("BuildInfo.packageName",o))throw Ku("cordova-plugin-buildinfo is not installed");if("function"!=typeof wr("cordova.plugins.browsertab.openUrl",o))throw Ku("cordova-plugin-browsertab is not installed");if("function"!=typeof wr("cordova.InAppBrowser.open",o))throw Ku("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Jr("cordova-not-ready")}))},e.Fb=function(e,t){return t(new Jr("operation-not-supported-in-this-environment")),Xe()},e.Db=function(){return Je(new Jr("operation-not-supported-in-this-environment"))},e.Rb=function(){return!1},e.Ob=function(){return!0},e.Jb=function(){return!0},e.Eb=function(e,t,n,r){if(this.c)return Je(new Jr("redirect-operation-pending"));var i=this,s=o.document,a=null,u=null,c=null,l=null;return this.c=Xe().then((function(){return _s(t),Yu(i)})).then((function(){return function(e,t,n,r,i){var s=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Es(t,r,null,s,new Jr("no-auth-event"),null,i),u=wr("BuildInfo.packageName",o);if("string"!=typeof u)throw new Jr("invalid-cordova-configuration");var c=wr("BuildInfo.displayName",o),l={};if(yr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!yr().toLowerCase().match(/android/))return Je(new Jr("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),s=Gu(s),l.sessionId=s;var h=Ha(e.u,e.i,e.l,t,n,null,r,e.m,l,e.o,i);return e.ia().then((function(){var t=e.h;return e.v.a.set(Mu,a.A(),t)})).then((function(){var t=wr("cordova.plugins.browsertab.isAvailable",o);if("function"!=typeof t)throw new Jr("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=wr("cordova.plugins.browsertab.openUrl",o)))throw new Jr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=wr("cordova.InAppBrowser.open",o)))throw new Jr("invalid-cordova-configuration");t=yr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new He((function(e,t){u=function(){var t=wr("cordova.plugins.browsertab.close",o);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Aa(u),c=function(){a||(a=hn(2e3).then((function(){t(new Jr("redirect-cancelled-by-user"))})))},l=function(){Pr()&&c()},s.addEventListener("resume",c,!1),yr().toLowerCase().match(/android/)||s.addEventListener("visibilitychange",l,!1)})).s((function(e){return Xu(i).then((function(){throw e}))}))})).ka((function(){c&&s.removeEventListener("resume",c,!1),l&&s.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Na(u),i.c=null}))},e.Aa=function(e){this.b.push(e),Yu(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Es("unknown",null,null,null,new Jr("no-auth-event")),e(t))}))},e.Na=function(e){$(this.b,(function(t){return t==e}))};var Zu={name:"pendingRedirect",C:"session"};function ec(e){return Du(e.b,Zu,e.a)}function tc(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=E(this.o,this),this.b=new mc,this.w=new bc,this.g=new Ju(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=nc(this.B,this.u,this.m,Ai)}function nc(e,t,n,r){var i=JW.a.SDK_VERSION||null;return ur()?new Wu(e,t,n,i,r):new Ua(e,t,n,i,r)}function rc(e){e.f||(e.f=!0,e.a.Aa(e.l));var t=e.a;return e.a.ia().s((function(n){throw e.a==t&&e.reset(),n}))}function ic(e){e.a.Ob()&&rc(e).s((function(t){var n=new Es("unknown",null,null,null,new Jr("operation-not-supported-in-this-environment"));lc(t)&&e.o(n)})),e.a.Jb()||gc(e.b)}function sc(e,t){j(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Zu,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?ec(e.g).then((function(){rc(e).s((function(t){var n=new Es("unknown",null,null,null,new Jr("operation-not-supported-in-this-environment"));lc(t)&&e.o(n)}))})):ic(e)})).s((function(){ic(e)}))}function oc(e,t){$(e.h,(function(e){return e==t}))}tc.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=nc(this.B,this.u,this.m),this.i={}},tc.prototype.o=function(e){if(!e)throw new Jr("invalid-auth-event");if(6e5<=C()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=C())),t=!0;break}}return gc(this.b),t};var ac=new kr(2e3,1e4),uc=new kr(3e4,6e4);function cc(e,t,n,r,i,s,o){return e.a.Db(t,n,r,(function(){e.f||(e.f=!0,e.a.Aa(e.l))}),(function(){e.reset()}),i,s,o)}function lc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function hc(e,t,n,r,i){var s;return function(e){return e.b.set(Zu,"pending",e.a)}(e.g).then((function(){return e.a.Eb(t,n,r,i).s((function(t){if(lc(t))throw new Jr("operation-not-supported-in-this-environment");return s=t,ec(e.g).then((function(){throw s}))})).then((function(){return e.a.Rb()?new He((function(){})):ec(e.g).then((function(){return e.oa()})).then((function(){})).s((function(){}))}))}))}function pc(e,t,n,r,i){return e.a.Fb(r,(function(e){t.ja(n,null,e,i)}),ac.get())}tc.prototype.oa=function(){return this.b.oa()};var dc={};function fc(e,t,n){var r=t+":"+n;return dc[r]||(dc[r]=new tc(e,t,n)),dc[r]}function mc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function gc(e){e.g||(e.g=!0,wc(e,!1,null,null))}function vc(e){e.g&&!e.i&&wc(e,!1,null,null)}function yc(e,t){if(e.b=function(){return Xe(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function wc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Je(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):yc(e,n):yc(e,{user:null}),e.f=[],e.c=[]}function bc(){}function _c(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function Ec(e,t){this.a=t,Br(this,"verificationId",e)}function Sc(e,t,n,r){return new ys(e).Wa(t,n).then((function(e){return new Ec(e,r)}))}function Cc(e){var t=Ii(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Jr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ur(this,{token:e,expirationTime:Mr(1e3*t.exp),authTime:Mr(1e3*t.auth_time),issuedAtTime:Mr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function Tc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function xc(e){this.f=e,this.b=this.a=null,this.c=0}function Ic(e,t){var n=t[Oo],r=t.refreshToken;t=Ac(t.expiresIn),e.b=n,e.c=t,e.a=r}function Ac(e){return C()+1e3*parseInt(e,10)}function Dc(e,t){return function(e,t){return new He((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?jo(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(ka(e)):e.access_token&&e.refresh_token?n(e):r(new Jr("internal-error")):r(new Jr("network-request-failed"))}),"POST",Ln(t).toString(),e.g,e.u.get()):r(new Jr("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=Ac(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Nc(e,t){this.a=e||null,this.b=t||null,Ur(this,{lastSignInTime:Mr(t||null),creationTime:Mr(e||null)})}function kc(e,t,n,r,i,s){Ur(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:s||null,providerId:t})}function Pc(e,t){for(var n in Rt.call(this,e),t)this[n]=t[n]}function Mc(e,t,n){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=JW.a.SDK_VERSION?vr(JW.a.SDK_VERSION):null,this.a=new Po(this.l,Ni(Ai),e),this.b=new xc(this.a),Uc(this,t[Oo]),Ic(this.b,t),Br(this,"refreshToken",this.b.a),$c(this,n||{}),on.call(this),this.J=!1,this.o&&_r()&&(this.i=fc(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new Tc((function(){return e.G(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-C()-3e5;return 0<t?t:0}))}(this),this.W=E(this.Ja,this);var r=this;this.ga=null,this.xa=function(e){r.ua(e.g)},this.Z=null,this.P=[],this.wa=function(e){Rc(r,e.c)},this.Y=null}function Oc(e,t){e.Z&&Yt(e.Z,"languageCodeChanged",e.xa),(e.Z=t)&&Kt(t,"languageCodeChanged",e.xa)}function Rc(e,t){e.P=t,Uo(e.a,JW.a.SDK_VERSION?vr(JW.a.SDK_VERSION,e.P):null)}function Lc(e,t){e.Y&&Yt(e.Y,"frameworkChanged",e.wa),(e.Y=t)&&Kt(t,"frameworkChanged",e.wa)}function Fc(e){try{return JW.a.app(e.m).auth()}catch(t){throw new Jr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Vc(e){e.B||e.w.b||(e.w.start(),Yt(e,"tokenChanged",e.W),Kt(e,"tokenChanged",e.W))}function Bc(e){Yt(e,"tokenChanged",e.W),e.w.stop()}function Uc(e,t){e.ma=t,Br(e,"_lat",t)}function jc(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return et(t).then((function(){return e}))}function qc(e){e.i&&!e.J&&(e.J=!0,sc(e.i,e))}function $c(e,t){Ur(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Nc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Hc(){}function zc(e){return Xe().then((function(){if(e.B)throw new Jr("app-deleted")}))}function Wc(e){return B(e.providerData,(function(e){return e.providerId}))}function Kc(e,t){t&&(Gc(e,t.providerId),e.providerData.push(t))}function Gc(e,t){$(e.providerData,(function(e){return e.providerId==t}))}function Qc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Br(e,t,n)}function Yc(e,t){e!=t&&(Ur(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Br(e,"metadata",function(e){return new Nc(e.a,e.b)}(t.metadata)):Br(e,"metadata",new Nc),V(t.providerData,(function(t){Kc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Br(e,"refreshToken",e.b.a))}function Xc(e){return e.G().then((function(t){var n=e.isAnonymous;return function(e,t){return Da(e.a,la,{idToken:t}).then(E(e.zc,e))}(e,t).then((function(){return n||Qc(e,"isAnonymous",!1),t}))}))}function Jc(e,t){t[Oo]&&e.ma!=t[Oo]&&(Ic(e.b,t),e.dispatchEvent(new Pc("tokenChanged")),Uc(e,t[Oo]),Qc(e,"refreshToken",e.b.a))}function Zc(e,t){return Xc(e).then((function(){if(j(Wc(e),t))return jc(e).then((function(){throw new Jr("provider-already-linked")}))}))}function el(e,t,n){return jr({user:e,credential:bs(t),additionalUserInfo:t=Ri(t),operationType:n})}function tl(e,t){return Jc(e,t),e.reload().then((function(){return e}))}function nl(e,t,n,r,i){if(!_r())return Je(new Jr("operation-not-supported-in-this-environment"));if(e.h&&!i)return Je(e.h);var s=Oi(n.providerId),o=Ar(e.uid+":::"),a=null;(!Cr()||cr())&&e.o&&n.isOAuthProvider&&(a=Ha(e.o,e.l,e.m,t,n,null,o,JW.a.SDK_VERSION||null,null,null,e.tenantId));var u=ir(a,s&&s.sa,s&&s.ra);return r=r().then((function(){if(il(e),!i)return e.G().then((function(){}))})).then((function(){return cc(e.i,u,t,n,o,!!a,e.tenantId)})).then((function(){return new He((function(n,r){e.ja(t,null,new Jr("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=o,e.c=pc(e.i,e,t,u,o)}))})).then((function(e){return u&&rr(u),e?jr(e):null})).s((function(e){throw u&&rr(u),e})),sl(e,r,i)}function rl(e,t,n,r,i){if(!_r())return Je(new Jr("operation-not-supported-in-this-environment"));if(e.h&&!i)return Je(e.h);var s=null,o=Ar(e.uid+":::");return r=r().then((function(){if(il(e),!i)return e.G().then((function(){}))})).then((function(){return e.ca=o,jc(e)})).then((function(t){return e.da&&(t=(t=e.da).b.set(ul,e.A(),t.a)),t})).then((function(){return hc(e.i,t,n,o,e.tenantId)})).s((function(t){if(s=t,e.da)return cl(e.da);throw s})).then((function(){if(s)throw s})),sl(e,r,i)}function il(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new Jr("internal-error");throw new Jr("auth-domain-config-required")}}function sl(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Je(e.h)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Pc("userInvalidated")),e.h=t),t}))}(e,t,n);return e.I.push(r),r.ka((function(){q(e.I,r)})),r}function ol(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Oo]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-C())/1e3;var r=new Mc(t,n,e);return e.providerData&&V(e.providerData,(function(e){e&&Kc(r,jr(e))})),e.redirectEventId&&(r.ca=e.redirectEventId),r}function al(e){this.a=e,this.b=xu()}mc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},mc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,s=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!s),"unknown"!=n||i||s?e.a?(wc(this,!0,null,e.a),Xe()):t.Ba(n,r)?function(e,t,n){n=n.Ba(t.c,t.b);var r=t.g,i=t.f,s=t.i,o=t.R(),a=!!t.c.match(/Redirect$/);n(r,i,o,s).then((function(t){wc(e,a,t,null)})).s((function(t){wc(e,a,null,t)}))}(this,e,t):Je(new Jr("invalid-auth-event")):(wc(this,!1,null,null),Xe())}else Je(new Jr("invalid-auth-event"))},mc.prototype.oa=function(){var e=this;return new He((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Jr("timeout");e.a&&e.a.cancel(),e.a=hn(uc.get()).then((function(){e.b||(e.g=!0,wc(e,!0,null,t))}))}(e))}))},bc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Xe()):t.Ba(n,r)?function(e,t){var n=e.b,r=e.c;t.Ba(r,n)(e.g,e.f,e.R(),e.i).then((function(e){t.ja(r,e,null,n)})).s((function(e){t.ja(r,null,e,n)}))}(e,t):Je(new Jr("invalid-auth-event"))}else Je(new Jr("invalid-auth-event"))},Ec.prototype.confirm=function(e){return e=ws(this.verificationId,e),this.a(e)},Tc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop();t.b=hn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=o.document,t=null;return Pr()||!e?Xe():new He((function(n){t=function(){Pr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},Tc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},xc.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},xc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Je(new Jr("user-token-expired")):e||!this.b||C()>this.c-3e4?this.a?Dc(this,{grant_type:"refresh_token",refresh_token:this.a}):Xe(null):Xe({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Nc.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Pc,Rt),T(Mc,on),Mc.prototype.ua=function(e){this.ga=e,Bo(this.a,e)},Mc.prototype.ha=function(){return this.ga},Mc.prototype.Ca=function(){return z(this.P)},Mc.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Br(Mc.prototype,"providerId","firebase"),(e=Mc.prototype).reload=function(){var e=this;return sl(this,zc(this).then((function(){return Xc(e).then((function(){return jc(e)})).then(Hc)})))},e.dc=function(e){return this.G(e).then((function(e){return new Cc(e)}))},e.G=function(e){var t=this;return sl(this,zc(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new Jr("internal-error");return e.accessToken!=t.ma&&(Uc(t,e.accessToken),t.dispatchEvent(new Pc("tokenChanged"))),Qc(t,"refreshToken",e.refreshToken),e.accessToken})))},e.zc=function(e){if(!(e=e.users)||!e.length)throw new Jr("internal-error");$c(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?B(e,(function(e){return new kc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Kc(this,t[n]);Qc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},e.Ac=function(e){return Fr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(e)},e.hb=function(e){var t=this,n=null;return sl(this,e.f(this.a,this.uid).then((function(e){return Jc(t,e),n=el(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.rc=function(e){return Fr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(e)},e.fb=function(e){var t=this,n=null;return sl(this,Zc(this,e.providerId).then((function(){return t.G()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=el(t,e,"link"),tl(t,e)})).then((function(){return n})))},e.sc=function(e,t){var n=this;return sl(this,Zc(this,"phone").then((function(){return Sc(Fc(n),e,t,E(n.fb,n))})))},e.Bc=function(e,t){var n=this;return sl(this,Xe().then((function(){return Sc(Fc(n),e,t,E(n.hb,n))})),!0)},e.rb=function(e){var t=this;return sl(this,this.G().then((function(n){return t.a.rb(n,e)})).then((function(e){return Jc(t,e),t.reload()})))},e.Sc=function(e){var t=this;return sl(this,this.G().then((function(n){return e.b(t.a,n)})).then((function(e){return Jc(t,e),t.reload()})))},e.sb=function(e){var t=this;return sl(this,this.G().then((function(n){return t.a.sb(n,e)})).then((function(e){return Jc(t,e),t.reload()})))},e.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return zc(this);var t=this;return sl(this,this.G().then((function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Jc(t,e),Qc(t,"displayName",e.displayName||null),Qc(t,"photoURL",e.photoUrl||null),V(t.providerData,(function(e){"password"===e.providerId&&(Br(e,"displayName",t.displayName),Br(e,"photoURL",t.photoURL))})),jc(t)})).then(Hc))},e.Qc=function(e){var t=this;return sl(this,Xc(this).then((function(n){return j(Wc(t),e)?function(e,t,n){return Da(e,aa,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return V(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),V(Wc(t),(function(e){n[e]||Gc(t,e)})),n[ys.PROVIDER_ID]||Br(t,"phoneNumber",null),jc(t)})):jc(t).then((function(){throw new Jr("no-such-provider")}))})))},e.delete=function(){var e=this;return sl(this,this.G().then((function(t){return Da(e.a,oa,{idToken:t})})).then((function(){e.dispatchEvent(new Pc("userDeleted"))}))).then((function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Oc(e,null),Lc(e,null),e.I=[],e.B=!0,Bc(e),Br(e,"refreshToken",null),e.i&&oc(e.i,e)}))},e.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},e.ja=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?E(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?E(this.Cb,this):null},e.tc=function(e){var t=this;return nl(this,"linkViaPopup",e,(function(){return Zc(t,e.providerId).then((function(){return jc(t)}))}),!1)},e.Cc=function(e){return nl(this,"reauthViaPopup",e,(function(){return Xe()}),!0)},e.uc=function(e){var t=this;return rl(this,"linkViaRedirect",e,(function(){return Zc(t,e.providerId)}),!1)},e.Dc=function(e){return rl(this,"reauthViaRedirect",e,(function(){return Xe()}),!0)},e.Bb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return sl(this,this.G().then((function(n){return Zo(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return s=el(i,e,"link"),tl(i,e)})).then((function(){return s})))},e.Cb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var s=null;return sl(this,Xe().then((function(){return Wi(ea(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return s=el(i,e,"reauthenticate"),Jc(i,e),i.h=null,i.reload()})).then((function(){return s})),!0)},e.jb=function(e){var t=this,n=null;return sl(this,this.G().then((function(t){return n=t,void 0===e||K(e)?{}:_i(new hi(e))})).then((function(e){return t.a.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.toJSON=function(){return this.A()},e.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&Y(e,this.metadata.A()),V(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var ul={name:"redirectUser",C:"session"};function cl(e){return Du(e.b,ul,e.a)}function ll(e){this.a=e,this.b=xu(),this.c=null,this.f=function(e){var t=dl("local"),n=dl("session"),r=dl("none");return function(e,t,n){var r=Au(t,n),i=Iu(e,t.C);return e.get(t,n).then((function(s){var a=null;try{a=Ir(o.localStorage.getItem(r))}catch(u){}if(a&&!s)return o.localStorage.removeItem(r),e.set(t,a,n);a&&s&&"localStorage"!=i.type&&o.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(pl,e.a).then((function(e){return e?dl(e):t}))}))}))})).then((function(t){return e.c=t,hl(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(dl("local"),this.a,E(this.g,this))}function hl(e,t){var n,r=[];for(n in Cu)Cu[n]!==t&&r.push(Du(e.b,dl(Cu[n]),e.a));return r.push(Du(e.b,pl,e.a)),function(e){return new He((function(t,n){var r=e.length,i=[];if(r)for(var s=function(e,n){r--,i[e]=n,0==r&&t(i)},o=function(e){n(e)},a=0;a<e.length;a++)Ze(e[a],S(s,a),o);else t(i)}))}(r)}ll.prototype.g=function(){var e=this,t=dl("local");vl(this,(function(){return Xe().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return hl(e,"local").then((function(){e.c=t}))}))}))};var pl={name:"persistence",C:"session"};function dl(e){return{name:"authUser",C:e}}function fl(e,t){return vl(e,(function(){return e.b.set(e.c,t.A(),e.a)}))}function ml(e){return vl(e,(function(){return Du(e.b,e.c,e.a)}))}function gl(e,t){return vl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),ol(e||{})}))}))}function vl(e,t){return e.f=e.f.then(t,t),e.f}function yl(e){if(this.l=!1,Br(this,"settings",new _c),Br(this,"app",e),!xl(this).options||!xl(this).options.apiKey)throw new Jr("invalid-api-key");e=JW.a.SDK_VERSION?vr(JW.a.SDK_VERSION):null,this.b=new Po(xl(this).options&&xl(this).options.apiKey,Ni(Ai),e),this.O=[],this.m=[],this.J=[],this.Ub=JW.a.INTERNAL.createSubscribe(E(this.oc,this)),this.W=void 0,this.Vb=JW.a.INTERNAL.createSubscribe(E(this.pc,this)),Cl(this,null),this.h=new ll(xl(this).options.apiKey+":"+xl(this).name),this.w=new al(xl(this).options.apiKey+":"+xl(this).name),this.Y=Nl(this,function(e){var t=xl(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(ul,e.a).then((function(e){return e&&t&&(e.authDomain=t),ol(e||{})}))}(e.w,xl(e).options.authDomain).then((function(t){return(e.B=t)&&(t.da=e.w),cl(e.w)}));return Nl(e,t)}(e).then((function(){return gl(e.h,t)})).then((function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return fl(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:ml(e.h)}))):null})).then((function(t){Cl(e,t||null)}));return Nl(e,n)}(this)),this.i=Nl(this,function(e){return e.Y.then((function(){return El(e)})).s((function(){})).then((function(){if(!e.l)return e.ma()})).s((function(){})).then((function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(dl("local"),t.a,e.ma)}}))}(this)),this.ga=!1,this.ma=E(this.Nc,this),this.ub=E(this.aa,this),this.wa=E(this.bc,this),this.xa=E(this.mc,this),this.Ja=E(this.nc,this),this.a=null,function(e){var t=xl(e).options.authDomain,n=xl(e).options.apiKey;t&&_r()&&(e.Tb=e.Y.then((function(){if(!e.l){if(e.a=fc(t,n,xl(e).name),sc(e.a,e),Il(e)&&qc(Il(e)),e.B){qc(e.B);var r=e.B;r.ua(e.ha()),Oc(r,e),Rc(r=e.B,e.I),Lc(r,e),e.B=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.vc,this),this.o=0,on.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.ua(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function wl(e){Rt.call(this,"languageCodeChanged"),this.g=e}function bl(e){Rt.call(this,"frameworkChanged"),this.c=e}function _l(e){return e.Tb||Je(new Jr("auth-domain-config-required"))}function El(e){if(!_r())return Je(new Jr("operation-not-supported-in-this-environment"));var t=_l(e).then((function(){return e.a.oa()})).then((function(e){return e?jr(e):null}));return Nl(e,t)}function Sl(e,t){var n={};return n.apiKey=xl(e).options.apiKey,n.authDomain=xl(e).options.authDomain,n.appName=xl(e).name,e.Y.then((function(){return function(e,t,n,r){var i=new Mc(e,t);return n&&(i.da=n),r&&Rc(i,r),i.reload().then((function(){return i}))}(n,t,e.w,e.Ca())})).then((function(t){return Il(e)&&t.uid==Il(e).uid?(Yc(Il(e),t),e.aa(t)):(Cl(e,t),qc(t),e.aa(t))})).then((function(){Dl(e)}))}function Cl(e,t){Il(e)&&(function(e,t){$(e.O,(function(e){return e==t}))}(Il(e),e.ub),Yt(Il(e),"tokenChanged",e.wa),Yt(Il(e),"userDeleted",e.xa),Yt(Il(e),"userInvalidated",e.Ja),Bc(Il(e))),t&&(t.O.push(e.ub),Kt(t,"tokenChanged",e.wa),Kt(t,"userDeleted",e.xa),Kt(t,"userInvalidated",e.Ja),0<e.o&&Vc(t)),Br(e,"currentUser",t),t&&(t.ua(e.ha()),Oc(t,e),Rc(t,e.I),Lc(t,e))}function Tl(e,t){var n=null,r=null;return Nl(e,t.then((function(t){return n=bs(t),r=Ri(t),Sl(e,t)})).then((function(){return jr({user:Il(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function xl(e){return e.app}function Il(e){return e.currentUser}function Al(e){return Il(e)&&Il(e)._lat||null}function Dl(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](Al(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](Al(e))}}function Nl(e,t){return e.O.push(t),t.ka((function(){q(e.O,t)})),t}function kl(){}function Pl(){this.a={},this.b=1e12}ll.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new Jr("invalid-persistence-type"),n=new Jr("unsupported-persistence-type");e:{for(r in Cu)if(Cu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(hr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!br()&&"none"!==e)throw n}}(e),vl(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(r){return t=r,hl(n,e)})).then((function(){if(n.c=dl(e),t)return n.b.set(n.c,t,n.a)})):Xe()}))},T(yl,on),T(wl,Rt),T(bl,Rt),(e=yl.prototype).mb=function(e){return Nl(this,e=this.h.mb(e))},e.ua=function(e){this.Z===e||this.l||(this.Z=e,Bo(this.b,this.Z),this.dispatchEvent(new wl(this.ha())))},e.ha=function(){return this.Z},e.Tc=function(){var e=o.navigator;this.ua(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.vc=function(e){this.I.push(e),Uo(this.b,JW.a.SDK_VERSION?vr(JW.a.SDK_VERSION,this.I):null),this.dispatchEvent(new bl(this.I))},e.Ca=function(){return z(this.I)},e.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},e.R=function(){return this.P},e.toJSON=function(){return{apiKey:xl(this).options.apiKey,authDomain:xl(this).options.authDomain,appName:xl(this).name,currentUser:Il(this)&&Il(this).A()}},e.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ja=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.Ba=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ac,this):null},e.ac=function(e,t,n,r){var i=this;e={requestUri:e,postBody:r,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var s=null,o=null,a=Jo(i.b,e).then((function(e){return s=bs(e),o=Ri(e),e}));return Nl(this,e=i.Y.then((function(){return a})).then((function(e){return Sl(i,e)})).then((function(){return jr({user:Il(i),credential:s,additionalUserInfo:o,operationType:"signIn"})})))},e.Lc=function(e){if(!_r())return Je(new Jr("operation-not-supported-in-this-environment"));var t=this,n=Oi(e.providerId),r=Ar(),i=null;(!Cr()||cr())&&xl(this).options.authDomain&&e.isOAuthProvider&&(i=Ha(xl(this).options.authDomain,xl(this).options.apiKey,xl(this).name,"signInViaPopup",e,null,r,JW.a.SDK_VERSION||null,null,null,this.R()));var s=ir(i,n&&n.sa,n&&n.ra);return Nl(this,n=_l(this).then((function(n){return cc(n,s,"signInViaPopup",e,r,!!i,t.R())})).then((function(){return new He((function(e,n){t.ja("signInViaPopup",null,new Jr("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=r,t.c=pc(t.a,t,"signInViaPopup",s,r)}))})).then((function(e){return s&&rr(s),e?jr(e):null})).s((function(e){throw s&&rr(s),e})))},e.Mc=function(e){if(!_r())return Je(new Jr("operation-not-supported-in-this-environment"));var t=this;return Nl(this,_l(this).then((function(){return function(e){return vl(e,(function(){return e.b.set(pl,e.c.C,e.a)}))}(t.h)})).then((function(){return hc(t.a,"signInViaRedirect",e,void 0,t.R())})))},e.oa=function(){var e=this;return El(this).then((function(t){return e.a&&vc(e.a.b),t})).s((function(t){throw e.a&&vc(e.a.b),t}))},e.Rc=function(e){if(!e)return Je(new Jr("null-user"));if(this.P!=e.tenantId)return Je(new Jr("tenant-id-mismatch"));var t=this,n={};n.apiKey=xl(this).options.apiKey,n.authDomain=xl(this).options.authDomain,n.appName=xl(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var i=e.b,s={};return s[Oo]=i.b,s.refreshToken=i.a,s.expiresIn=(i.c-C())/1e3,t=new Mc(t,s),n&&(t.da=n),r&&Rc(t,r),Yc(t,e),t}(e,n,t.w,t.Ca());return Nl(this,this.i.then((function(){if(xl(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Il(t)&&e.uid==Il(t).uid?(Yc(Il(t),e),t.aa(e)):(Cl(t,r),qc(r),t.aa(r))})).then((function(){Dl(t)})))},e.pb=function(){var e=this;return Nl(this,this.i.then((function(){return e.a&&vc(e.a.b),Il(e)?(Cl(e,null),ml(e.h).then((function(){Dl(e)}))):Xe()})))},e.Nc=function(){var e=this;return gl(this.h,xl(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Il(e)&&t){n=Il(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Yc(Il(e),t),Il(e).G();(Il(e)||t)&&(Cl(e,t),t&&(qc(t),t.da=e.w),e.a&&sc(e.a,e),Dl(e))}}))},e.aa=function(e){return fl(this.h,e)},e.bc=function(){Dl(this),this.aa(Il(this))},e.mc=function(){this.pb()},e.nc=function(){this.pb()},e.oc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Il(t))}))},e.pc=function(e){var t=this;!function(e,t){e.J.push(t),Nl(e,e.i.then((function(){!e.l&&j(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Al(e)))})))}(this,(function(){e.next(Il(t))}))},e.xc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){g(e)?e(Il(r)):g(e.next)&&e.next(Il(r))})),this.Ub(e,t,n)},e.wc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),g(e)?e(Il(r)):g(e.next)&&e.next(Il(r))})),this.Vb(e,t,n)},e.cc=function(e){var t=this;return Nl(this,this.i.then((function(){return Il(t)?Il(t).G(e).then((function(e){return{accessToken:e}})):null})))},e.Hc=function(e){var t=this;return this.i.then((function(){return Tl(t,Da(t.b,Ca,{token:e}))})).then((function(e){var n=e.user;return Qc(n,"isAnonymous",!1),t.aa(n),e}))},e.Ic=function(e,t){var n=this;return this.i.then((function(){return Tl(n,Da(n.b,Ta,{email:e,password:t}))}))},e.Xb=function(e,t){var n=this;return this.i.then((function(){return Tl(n,Da(n.b,ia,{email:e,password:t}))}))},e.Sa=function(e){var t=this;return this.i.then((function(){return Tl(t,e.na(t.b))}))},e.Gc=function(e){return Fr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(e)},e.ob=function(){var e=this;return this.i.then((function(){var t=Il(e);if(t&&t.isAnonymous){var n=jr({providerId:null,isNewUser:!1});return jr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Tl(e,e.b.ob()).then((function(t){var n=t.user;return Qc(n,"isAnonymous",!0),e.aa(n),t}))}))},e.getUid=function(){return Il(this)&&Il(this).uid||null},e.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&Il(this)&&Vc(Il(this))},e.Ec=function(e){var t=this;V(this.m,(function(n){n==e&&t.o--})),0>this.o&&(this.o=0),0==this.o&&Il(this)&&Bc(Il(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.m.push(e),Nl(this,this.i.then((function(){t.l||j(t.m,e)&&e(Al(t))})))},e.removeAuthTokenListener=function(e){$(this.m,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(dl("local"),e.a,this.ma),this.a&&(oc(this.a,this),vc(this.a.b)),Promise.resolve()},e.$b=function(e){return Nl(this,function(e,t){return Da(e,sa,{identifier:t,continueUri:Er()?er():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},e.qc=function(e){return!!fs(e)},e.lb=function(e,t){var n=this;return Nl(this,Xe().then((function(){var e=new hi(t);if(!e.c)throw new Jr("argument-error",fi+" must be true when sending sign in link to email");return _i(e)})).then((function(t){return n.b.lb(e,t)})).then((function(){})))},e.Uc=function(e){return this.Ma(e).then((function(e){return e.data.email}))},e.ab=function(e,t){return Nl(this,this.b.ab(e,t).then((function(){})))},e.Ma=function(e){return Nl(this,this.b.Ma(e).then((function(e){return new $r(e)})))},e.Ya=function(e){return Nl(this,this.b.Ya(e).then((function(){})))},e.kb=function(e,t){var n=this;return Nl(this,Xe().then((function(){return void 0===t||K(t)?{}:_i(new hi(t))})).then((function(t){return n.b.kb(e,t)})).then((function(){})))},e.Kc=function(e,t){return Nl(this,Sc(this,e,t,E(this.Sa,this)))},e.Jc=function(e,t){var n=this;return Nl(this,Xe().then((function(){var r=t||er(),i=ds(e,r);if(!(r=fs(r)))throw new Jr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Jr("tenant-id-mismatch");return n.Sa(i)})))},kl.prototype.render=function(){},kl.prototype.reset=function(){},kl.prototype.getResponse=function(){},kl.prototype.execute=function(){};var Ml=null;function Ol(e,t){return(t=Rl(t))&&e.a[t]||null}function Rl(e){return(e=void 0===e?1e12:e)?e.toString():null}function Ll(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=$n(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Kt(this.f,"click",this.i)}function Fl(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Vl(){}Pl.prototype.render=function(e,t){return this.a[this.b.toString()]=new Ll(e,t),this.b++},Pl.prototype.reset=function(e){var t=Ol(this,e);e=Rl(e),t&&e&&(t.delete(),delete this.a[e])},Pl.prototype.getResponse=function(e){return(e=Ol(this,e))?e.getResponse():null},Pl.prototype.execute=function(e){(e=Ol(this,e))&&e.execute()},Ll.prototype.getResponse=function(){return Fl(this),this.b},Ll.prototype.execute=function(){Fl(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Ll.prototype.delete=function(){Fl(this),this.g=!0,clearTimeout(this.a),this.a=null,Yt(this.f,"click",this.i)},Vl.prototype.g=function(){return Ml||(Ml=new Pl),Xe(Ml)},Vl.prototype.c=function(){};var Bl=null;function Ul(){this.b=o.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var jl=new X(ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ql=new kr(3e4,6e4);Ul.prototype.g=function(e){var t=this;return new He((function(n,r){var i=setTimeout((function(){r(new Jr("network-request-failed"))}),ql.get());!o.grecaptcha||e!==t.f&&!t.b?(o[t.a]=function(){if(o.grecaptcha){t.f=e;var s=o.grecaptcha.render;o.grecaptcha.render=function(e,n){return e=s(e,n),t.b++,e},clearTimeout(i),n(o.grecaptcha)}else clearTimeout(i),r(new Jr("internal-error"));delete o[t.a]},Xe(To(ie(jl,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new Jr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(o.grecaptcha))}))},Ul.prototype.c=function(){this.b--};var $l=null;function Hl(e,t,n,r,i,s,a){if(Br(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,a?(Bl||(Bl=new Vl),a=Bl):($l||($l=new Ul),a=$l),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Kl])throw new Jr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Gl],!o.document)throw new Jr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!$n(t)||!this.i&&$n(t).hasChildNodes())throw new Jr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Po(e,s||null,i||null),this.v=r||function(){return null};var u=this;this.l=[];var c=this.a[zl];this.a[zl]=function(e){if(Ql(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=wr(c,o);"function"==typeof t&&t(e)}};var l=this.a[Wl];this.a[Wl]=function(){if(Ql(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=wr(l,o);"function"==typeof e&&e()}}}var zl="callback",Wl="expired-callback",Kl="sitekey",Gl="size";function Ql(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Yl(e,t){return e.h.push(t),t.ka((function(){q(e.h,t)})),t}function Xl(e){if(e.B)throw new Jr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Jl(e,t,n){var r=!1;try{this.b=n||JW.a.app()}catch(o){throw new Jr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Jr("invalid-api-key");n=this.b.options.apiKey;var i=this,s=null;try{s=this.b.auth().Ca()}catch(o){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(o){}s=JW.a.SDK_VERSION?vr(JW.a.SDK_VERSION,s):null,Hl.call(this,n,e,t,(function(){try{var e=i.b.auth().ha()}catch(t){e=null}return e}),s,Ni(Ai),r)}function Zl(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,s=!1,o=0;o<t.length;o++)if(t[o].optional)s=!0;else{if(s)throw new Jr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(s=t.length,n.length<i||s<n.length)r="Expected "+(i==s?1==i?"1 argument":i+" arguments":i+"-"+s+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(s=t[i].optional&&void 0===n[i],!t[i].N(n[i])&&!s){if(t=t[i],0>i||i>=eh.length)throw new Jr("internal-error","Argument validator received an unsupported number of arguments.");n=eh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}r=null}}if(r)throw new Jr("argument-error",e+" failed: "+r)}(e=Hl.prototype).Da=function(){var e=this;return this.f?this.f:this.f=Yl(this,Xe().then((function(){if(Er()&&!lr())return ar();throw new Jr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.v())})).then((function(t){return e.g=t,Da(e.o,ma,{})})).then((function(t){e.a[Kl]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},e.render=function(){Xl(this);var e=this;return Yl(this,this.Da().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=$n(t);t=Wn("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Xl(this);var e=this;return Yl(this,this.render().then((function(t){return new He((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){$(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Xl(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Xl(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=$n(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Jl,Hl);var eh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function th(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:a}}function nh(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:u}}function rh(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:v}}function ih(e,t){return{name:e||"",M:"a function",optional:!!t,N:g}}function sh(e,t){return{name:e||"",M:"null",optional:!!t,N:d}}function oh(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.na||!n)}}}function ah(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&a(e.type)&&g(e.verify))}}}function uh(e,t,n,r){return{name:n||"",M:e.M+" or "+t.M,optional:!!r,N:function(n){return e.N(n)||t.N(n)}}}function ch(e,t){for(var n in t){var r=t[n].name;e[r]=ph(r,e[n],t[n].j)}}function lh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){Zl(e,[n],[r],!0),this[t]=r}),r,n,t[n].Za),enumerable:!0})}}function hh(e,t,n,r){e[t]=ph(t,n,r)}function ph(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Zl(s,n,e),t.apply(this,e)}if(!n)return t;var i,s=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}ch(yl.prototype,{Ya:{name:"applyActionCode",j:[th("code")]},Ma:{name:"checkActionCode",j:[th("code")]},ab:{name:"confirmPasswordReset",j:[th("code"),th("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[th("email"),th("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[th("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[th("emailLink")]},wc:{name:"onAuthStateChanged",j:[uh(rh(),ih(),"nextOrObserver"),ih("opt_error",!0),ih("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[uh(rh(),ih(),"nextOrObserver"),ih("opt_error",!0),ih("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[th("email"),uh(rh("opt_actionCodeSettings",!0),sh(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[th("email"),rh("actionCodeSettings")]},mb:{name:"setPersistence",j:[th("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[oh()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[oh()]},Hc:{name:"signInWithCustomToken",j:[th("token")]},Ic:{name:"signInWithEmailAndPassword",j:[th("email"),th("password")]},Jc:{name:"signInWithEmailLink",j:[th("email"),th("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[th("phoneNumber"),ah()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[uh({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Mc)}},sh(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[th(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[th("code")]}}),lh(yl.prototype,{lc:{name:"languageCode",Za:uh(th(),sh(),"languageCode")},ti:{name:"tenantId",Za:uh(th(),sh(),"tenantId")}}),yl.Persistence=Cu,yl.Persistence.LOCAL="local",yl.Persistence.SESSION="session",yl.Persistence.NONE="none",ch(Mc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[nh("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[nh("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[oh()]},fb:{name:"linkWithCredential",j:[oh()]},sc:{name:"linkWithPhoneNumber",j:[th("phoneNumber"),ah()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[oh()]},hb:{name:"reauthenticateWithCredential",j:[oh()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[th("phoneNumber"),ah()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[uh(rh("opt_actionCodeSettings",!0),sh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[th(null,!0)]},Qc:{name:"unlink",j:[th("provider")]},rb:{name:"updateEmail",j:[th("email")]},sb:{name:"updatePassword",j:[th("password")]},Sc:{name:"updatePhoneNumber",j:[oh("phone")]},tb:{name:"updateProfile",j:[rh("profile")]}}),ch(Pl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ch(kl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ch(He.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),lh(_c.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:nh("appVerificationDisabledForTesting")}}),ch(Ec.prototype,{confirm:{name:"confirm",j:[th("verificationCode")]}}),hh(zi,"fromJSON",(function(e){e=a(e)?JSON.parse(e):e;for(var t,n=[Ji,hs,gs,Qi],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[uh(th(),rh(),"json")]),hh(ps,"credential",(function(e,t){return new ls(e,t)}),[th("email"),th("password")]),ch(ls.prototype,{A:{name:"toJSON",j:[th(null,!0)]}}),ch(ns.prototype,{ya:{name:"addScope",j:[th("scope")]},Ga:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(ns,"credential",rs,[uh(th(),rh(),"token")]),hh(ps,"credentialWithLink",ds,[th("email"),th("emailLink")]),ch(is.prototype,{ya:{name:"addScope",j:[th("scope")]},Ga:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(is,"credential",ss,[uh(th(),rh(),"token")]),ch(os.prototype,{ya:{name:"addScope",j:[th("scope")]},Ga:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(os,"credential",as,[uh(th(),uh(rh(),sh()),"idToken"),uh(th(),sh(),"accessToken",!0)]),ch(us.prototype,{Ga:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),hh(us,"credential",cs,[uh(th(),rh(),"token"),th("secret",!0)]),ch(ts.prototype,{ya:{name:"addScope",j:[th("scope")]},credential:{name:"credential",j:[uh(th(),uh(rh(),sh()),"optionsOrIdToken"),uh(th(),sh(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[rh("customOAuthParameters")]}}),ch(Yi.prototype,{A:{name:"toJSON",j:[th(null,!0)]}}),ch(Ki.prototype,{A:{name:"toJSON",j:[th(null,!0)]}}),hh(ys,"credential",ws,[th("verificationId"),th("verificationCode")]),ch(ys.prototype,{Wa:{name:"verifyPhoneNumber",j:[th("phoneNumber"),ah()]}}),ch(ms.prototype,{A:{name:"toJSON",j:[th(null,!0)]}}),ch(Jr.prototype,{toJSON:{name:"toJSON",j:[th(null,!0)]}}),ch(As.prototype,{toJSON:{name:"toJSON",j:[th(null,!0)]}}),ch(Is.prototype,{toJSON:{name:"toJSON",j:[th(null,!0)]}}),ch(Jl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),hh(ni,"parseLink",li,[th("link")]),function(){if(void 0===JW.a||!JW.a.INTERNAL||!JW.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:yl,AuthCredential:zi,Error:Jr};hh(e,"EmailAuthProvider",ps,[]),hh(e,"FacebookAuthProvider",ns,[]),hh(e,"GithubAuthProvider",is,[]),hh(e,"GoogleAuthProvider",os,[]),hh(e,"TwitterAuthProvider",us,[]),hh(e,"OAuthProvider",ts,[th("providerId")]),hh(e,"SAMLAuthProvider",es,[th("providerId")]),hh(e,"PhoneAuthProvider",ys,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof yl)}}]),hh(e,"RecaptchaVerifier",Jl,[uh(th(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),rh("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof JW.a.app.App)}}]),hh(e,"ActionCodeURL",ni,[]),JW.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new yl(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),JW.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.cc,e),addAuthTokenListener:E(e.Wb,e),removeAuthTokenListener:E(e.Ec,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),JW.a.registerVersion("@firebase/auth","0.13.5"),JW.a.INTERNAL.extendNamespace({User:Mc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let ZW=class{};ZW=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}([iv({providers:[HH]})],ZW);class eK{}class tK{}class nK{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof nK?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new nK;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof nK?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===i.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class rK{encodeKey(e){return iK(e)}encodeValue(e){return iK(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function iK(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class sK{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;if(e.length>0){e.split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)})}return n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new sK({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function oK(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function aK(e){return"undefined"!=typeof Blob&&e instanceof Blob}function uK(e){return"undefined"!=typeof FormData&&e instanceof FormData}class cK{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new nK),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?"),r=-1===n?"?":n<t.length-1?"&":"";this.urlWithParams=t+r+e}}else this.params=new sK,this.urlWithParams=t}serializeBody(){return null===this.body?null:oK(this.body)||aK(this.body)||uK(this.body)||"string"==typeof this.body?this.body:this.body instanceof sK?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:uK(this.body)?null:aK(this.body)?this.body.type||null:oK(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sK?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(u=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),u)),new cK(t,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const lK={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};lK[lK.Sent]="Sent",lK[lK.UploadProgress]="UploadProgress",lK[lK.ResponseHeader]="ResponseHeader",lK[lK.DownloadProgress]="DownloadProgress",lK[lK.Response]="Response",lK[lK.User]="User";class hK{constructor(e,t=200,n="OK"){this.headers=e.headers||new nK,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class pK extends hK{constructor(e={}){super(e),this.type=lK.ResponseHeader}clone(e={}){return new pK({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dK extends hK{constructor(e={}){super(e),this.type=lK.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new dK({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fK extends hK{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function mK(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class gK{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof cK)r=e;else{let i=void 0;i=n.headers instanceof nK?n.headers:new nK(n.headers);let s=void 0;n.params&&(s=n.params instanceof sK?n.params:new sK({fromObject:n.params})),r=new cK(e,t,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=fU(r).pipe(nj(e=>this.handler.handle(e)));if(e instanceof cK||"events"===n.observe)return i;const s=i.pipe(SU(e=>e instanceof dK));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(q(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(q(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(q(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(q(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new sK).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,mK(n,t))}post(e,t,n={}){return this.request("POST",e,mK(n,t))}put(e,t,n={}){return this.request("PUT",e,mK(n,t))}}gK.decorators=[{type:ju}],gK.ctorParameters=()=>[{type:eK}];class vK{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const yK=new Ue("HTTP_INTERCEPTORS");class wK{intercept(e,t){return t.handle(e)}}wK.decorators=[{type:ju}];let bK=0;const _K="JSONP injected script did not invoke callback.",EK="JSONP requests must use JSONP request method.",SK="JSONP requests must use Json response type.";class CK{}class TK{constructor(e,t){this.callbackMap=e,this.document=t}nextCallback(){return`ng_jsonp_callback_${bK++}`}handle(e){if("JSONP"!==e.method)throw new Error(EK);if("json"!==e.responseType)throw new Error(SK);return new E(t=>{const n=this.nextCallback(),r=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),i=this.document.createElement("script");i.src=r;let s=null,o=!1,a=!1;this.callbackMap[n]=e=>{delete this.callbackMap[n],a||(s=e,o=!0)};const u=()=>{i.parentNode&&i.parentNode.removeChild(i),delete this.callbackMap[n]},c=e=>{a||(u(),o?(t.next(new dK({body:s,status:200,statusText:"OK",url:r})),t.complete()):t.error(new fK({url:r,status:0,statusText:"JSONP Error",error:new Error(_K)})))},l=e=>{a||(u(),t.error(new fK({error:e,status:0,statusText:"JSONP Error",url:r})))};return i.addEventListener("load",c),i.addEventListener("error",l),this.document.body.appendChild(i),t.next({type:lK.Sent}),()=>{a=!0,i.removeEventListener("load",c),i.removeEventListener("error",l),u()}})}}TK.decorators=[{type:ju}],TK.ctorParameters=()=>[{type:CK},{type:void 0,decorators:[{type:me,args:[_V]}]}];class xK{constructor(e){this.jsonp=e}intercept(e,t){return"JSONP"===e.method?this.jsonp.handle(e):t.handle(e)}}xK.decorators=[{type:ju}],xK.ctorParameters=()=>[{type:TK}];const IK=/^\)\]\}',?\n/;class AK{}class DK{constructor(){}build(){return new XMLHttpRequest}}DK.decorators=[{type:ju}],DK.ctorParameters=()=>[];class NK{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new E(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new nK(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new pK({headers:s,status:t,statusText:r,url:o})},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof u){const e=u;u=u.replace(IK,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=e,c&&(c=!1,u={error:l,text:u})}}c?(t.next(new dK({body:u,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new fK({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new fK({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let u=!1;const c=r=>{u||(t.next(s()),u=!0);let i={type:lK.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},l=e=>{let n={type:lK.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),t.next({type:lK.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}NK.decorators=[{type:ju}],NK.ctorParameters=()=>[{type:AK}];const kK=new Ue("XSRF_COOKIE_NAME"),PK=new Ue("XSRF_HEADER_NAME");class MK{}class OK{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=GL(e,this.cookieName),this.lastCookieString=e),this.lastToken}}OK.decorators=[{type:ju}],OK.ctorParameters=()=>[{type:void 0,decorators:[{type:me,args:[_V]}]},{type:String,decorators:[{type:me,args:[pv]}]},{type:String,decorators:[{type:me,args:[kK]}]}];class RK{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}RK.decorators=[{type:ju}],RK.ctorParameters=()=>[{type:MK},{type:String,decorators:[{type:me,args:[PK]}]}];class LK{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(yK,[]);this.chain=e.reduceRight((e,t)=>new vK(e,t),this.backend)}return this.chain.handle(e)}}LK.decorators=[{type:ju}],LK.ctorParameters=()=>[{type:tK},{type:Qu}];class FK{static disable(){return{ngModule:FK,providers:[{provide:RK,useClass:wK}]}}static withOptions(e={}){return{ngModule:FK,providers:[e.cookieName?{provide:kK,useValue:e.cookieName}:[],e.headerName?{provide:PK,useValue:e.headerName}:[]]}}}FK.decorators=[{type:iv,args:[{providers:[RK,{provide:yK,useExisting:RK,multi:!0},{provide:MK,useClass:OK},{provide:kK,useValue:"XSRF-TOKEN"},{provide:PK,useValue:"X-XSRF-TOKEN"}]}]}];class VK{}VK.decorators=[{type:iv,args:[{imports:[FK.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[gK,{provide:eK,useClass:LK},NK,{provide:tK,useExisting:NK},DK,{provide:AK,useExisting:DK}]}]}];(class{}).decorators=[{type:iv,args:[{providers:[TK,{provide:CK,useFactory:function(){return"object"==typeof window?window:{}}},{provide:yK,useClass:xK,multi:!0}]}]}];let BK=class{};BK=r.__decorate([iv({declarations:[Sz,fz,mz,gz,vz,wz,yz],imports:[WB,Ez,DW.forRoot(),RW.forRoot(),GW.forRoot(),jH.initializeApp({apiKey:"AIzaSyCPkvi6UxuUcNpBkS66mDTR_8JzkzWoZBo",authDomain:"ideo2-c2b82.firebaseapp.com",databaseURL:"https://ideo2-c2b82.firebaseio.com",projectId:"ideo2-c2b82",storageBucket:"ideo2-c2b82.appspot.com",messagingSenderId:"1092448342397",appId:"1:1092448342397:web:e16cd614bb0a8aa0"},"angular-auth-firebase"),YW,ZW,VK],providers:[],bootstrap:[Sz]})],BK);(function(){if(vs)throw new Error("Cannot enable prod mode after platform setup.");gs=!1})(),lU().bootstrapModule(BK).catch(e=>console.error(e))},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],o=i+1<e.length,a=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=s>>2,h=(3&s)<<4|a>>4,p=(15&a)<<2|c>>6,d=63&c;u||(d=64,o||(p=64)),r.push(n[l],n[h],n[p],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{s=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();var c=s<<2|o>>4;if(r.push(c),64!==a){var l=o<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var d="FirebaseError",f=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=d,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,s=this.errors[e],o=s?g(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new f(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();function g(e,t){return e.replace(v,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function y(e){return JSON.parse(e)}var w=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=y(c(s[0])||""),n=y(c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};var b=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var s,o,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(s=l^u&(c^l),o=1518500249):(s=u^c^l,o=1859775393):r<60?(s=u&c|l&(u|c),o=2400959708):(s=u^c^l,o=3395469782);i=(a<<5|a>>>27)+s+h+o+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var _=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function E(){}function S(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=m,t.FirebaseError=f,t.Sha1=b,t.assert=s,t.assertionError=o,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=a(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new _(e,t);return n.subscribe.bind(n)},t.decode=w,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=S,t.getUA=p,t.isAdmin=function(e){var t=w(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return p().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isUWP=function(){return p().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=w(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=w(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=w(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=y,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r];n(s[0],s[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;s(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(e,t,r)+"must be a valid firebase namespace.")}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);